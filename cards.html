<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<title>База карт — Капитализм и Коммунизм</title>
<style>
body{margin:0;font-family:system-ui,Arial,sans-serif;background:#0b0f14;color:#e6edf3}
a{color:#5fb3ff;text-decoration:none}
header,nav,main,footer{max-width:1100px;margin:0 auto;padding:12px}
nav a{margin-right:12px;padding:6px 10px;border:1px solid #2a3b52;border-radius:8px}
nav a.active{background:#1a2636}
.card{border:1px solid #22324a;border-radius:12px;padding:12px;margin:12px 0;background:#0f1622}
h1,h2,h3{margin:0 0 8px}
ul{padding-left:18px}
input{padding:6px;border-radius:6px;border:1px solid #2a3b52;background:#0b1220;color:#e6edf3}
button{padding:6px 10px;border-radius:8px;border:1px solid #2a3b52;background:#122033;color:#e6edf3}
</style>
</head>
<body>
<header><h1>Капитализм и Коммунизм</h1></header>
<nav>
    <a href="index.html#calc">Калькулятор</a>
  <a href="rules.html">Правила</a>
  <a href="cards.html">База карт</a>
</nav>
<main>

<div class="card">
<h2>База данных карт</h2>
<p>Здесь будет расширенная база данных по картам:</p>
<ul>
<li>описания эффектов</li>
<li>условия активации</li>
<li>примеры использования</li>
<li>фильтрация и поиск</li>
</ul>
<p><em>Раздел в разработке.</em></p>
</div>

</main>
<footer>GitHub Pages</footer>
<script>
document.addEventListener('DOMContentLoaded',()=>{
  const fn=(location.pathname.split('/').pop()||'index.html');
  document.querySelectorAll('nav a').forEach(a=>{
    if(a.getAttribute('href')===fn) a.classList.add('active');
  });
});
</script>

<script>
(function(){
  const CARD_FILES = [
    "angel.jpg",
    "antiekran.jpg",
    "bank.jpg",
    "bank_sivyi_merin.jpg",
    "bankrot.jpg",
    "bita.jpg",
    "black.jpg",
    "blue.jpg",
    "capitalism_communism.jpg",
    "chameleon.jpg",
    "chb.jpg",
    "commission.jpg",
    "content_card.jpg",
    "converter.jpg",
    "emerald.jpg",
    "exterminatus.jpg",
    "gift_12min.jpg",
    "gold.jpg",
    "golden_scales.jpg",
    "grabiteli.jpg",
    "gray.jpg",
    "green.jpg",
    "jackpot_cards.jpg",
    "joker.jpg",
    "kost_1.jpg",
    "kost_2.jpg",
    "last_judgement_1.jpg",
    "last_judgement_2.jpg",
    "liftador.jpg",
    "magnet.jpg",
    "matreshki.jpg",
    "mayak_bezishodnosti.jpg",
    "minus_1h.jpg",
    "minus_3h.jpg",
    "musical.jpg",
    "obnulenie.jpg",
    "obosran.jpg",
    "pacific.jpg",
    "pergament_blue.jpg",
    "pergament_gold.jpg",
    "pink.jpg",
    "preispodnya.jpg",
    "rainbow.jpg",
    "red.jpg",
    "ruby_bank.jpg",
    "ruby_kost_1.jpg",
    "ruby_kost_2.jpg",
    "ruby_plus3.jpg",
    "safe.jpg",
    "sweets.jpg",
    "temple.jpg",
    "topor.jpg",
    "tv_wheel.jpg",
    "tv_wheel_3.jpg",
    "tv_wheel_5.jpg",
    "vedro_egora.jpg",
    "wheel_eater_1.jpg",
    "wheel_eater_2.png",
    "wheel_eater_round.png",
    "white.jpg",
    "yellow.jpg",
    "zabanen.jpg",
    "zamorozka.jpg"
  ];
  const CARD_DESC = {};

  const sel=new Set();
  const grid=document.getElementById('imgGrid');
  const selList=document.getElementById('selList');
  const q=document.getElementById('imgSearch');
  const clearBtn=document.getElementById('clearSel');

  function clean(fn){return fn.replace(/\.[a-z0-9]+$/i,'');}
  function pretty(fn){return clean(fn).replace(/[_-]+/g,' ');}
  function key(fn){return clean(fn).toLowerCase().replace(/[_-]+/g,' ').replace(/\s+\d+$/,'').trim();}

  function render(){
    const term=(q.value||'').toLowerCase();
    const files=CARD_FILES.filter(fn=>!term||fn.toLowerCase().includes(term)||pretty(fn).toLowerCase().includes(term));
    grid.innerHTML=files.map(fn=>{
      const s=sel.has(fn);
      return `
      <div class="cardTile ${s?'selected':''}" data-fn="${fn}">
        <div class="check">выбрано</div>
        <img src="cards/${fn}" alt="${pretty(fn)}">
        <div class="cap">${pretty(fn)}</div>
      </div>`;
    }).join('');
    renderSel();
  }

  function renderSel(){
    if(!sel.size){selList.innerHTML='—';return;}
    selList.innerHTML=[...sel].map(fn=>{
      const d=CARD_DESC[key(fn)]||'Описание уточняется';
      return `<div class="item"><b>${pretty(fn)}</b><div>${d}</div></div>`;
    }).join('');
  }

  grid.addEventListener('click',e=>{const t=e.target.closest('.cardTile');if(!t)return;const fn=t.dataset.fn;sel.has(fn)?sel.delete(fn):sel.add(fn);render();});
  q.addEventListener('input',render);
  clearBtn.addEventListener('click',()=>{sel.clear();render();});
  render();
})();
</script>

</body>
</html>