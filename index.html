<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üÉè –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ —ç—Ñ–∏—Ä–∞</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --bg-dark: #0a0a1f;
            --bg-darker: #050510;
            --primary: #8b0000;
            --secondary: #006400;
            --accent: #daa520;
            --accent-light: #ffd700;
            --text: #f8f8ff;
            --text-secondary: #c0c0c0;
            --card-bg: #1a1a2e;
            --card-border: #2a2a3e;
            --success: #32cd32;
            --warning: #ff8c00;
            --ruby: #e0115f;
            --emerald: #50c878;
            --dropdown-bg: #2a2a3e;
            --dropdown-border: #3a3a4e;
            --selected: rgba(50, 205, 50, 0.2);
            --info: #4169e1;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-dark);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
            -webkit-tap-highlight-color: transparent;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */
        .main-header {
            text-align: center;
            padding: 20px;
            margin-bottom: 30px;
            background: var(--card-bg);
            border: 2px solid var(--accent);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--accent);
        }
        
        .subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
        }
        
        /* –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä */
        .calculator-section {
            background: var(--card-bg);
            border: 2px solid var(--card-border);
            border-radius: 15px;
            padding: 25px;
            width: 100%;
        }
        
        .section-title {
            font-size: 1.5rem;
            color: var(--accent);
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* –°–µ–ª–µ–∫—Ç–æ—Ä —Ä–µ–∂–∏–º–æ–≤ */
        .mode-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            flex-wrap: wrap;
        }
        
        .mode-btn {
            flex: 1;
            min-width: 120px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text-secondary);
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-size: 1rem;
            font-weight: 500;
            -webkit-appearance: none;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }
        
        .mode-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        
        .mode-btn:active {
            transform: scale(0.98);
        }
        
        .mode-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 4px 12px rgba(139, 0, 0, 0.3);
        }
        
        /* –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–µ–∂–∏–º–æ–≤ */
        .mode-content {
            display: none;
        }
        
        .mode-content.active {
            display: block;
        }
        
        /* –°–µ–ª–µ–∫—Ç–æ—Ä –∫–∞—Ä—Ç */
        .card-selector-container {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .search-box {
            margin-bottom: 20px;
        }
        
        .search-input {
            width: 100%;
            padding: 14px;
            background: var(--dropdown-bg);
            border: 2px solid var(--dropdown-border);
            border-radius: 10px;
            color: var(--text);
            font-size: 1rem;
            padding-left: 45px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23daa520' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: 15px center;
            background-size: 18px;
            transition: all 0.3s ease;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(218, 165, 32, 0.2);
        }
        
        .search-input::placeholder {
            color: var(--text-secondary);
        }
        
        .category-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .category-tab {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        
        .category-tab:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }
        
        .category-tab.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 4px 8px rgba(139, 0, 0, 0.3);
        }
        
        .cards-selector-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 15px;
            max-height: 400px;
            overflow-y: auto;
            padding: 15px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            margin-bottom: 20px;
        }
        
        .card-option {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: linear-gradient(145deg, #2a2a3e, #1a1a2e);
            border: 2px solid var(--card-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .card-option:hover {
            background: linear-gradient(145deg, #3a3a4e, #2a2a3e);
            border-color: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }
        
        .card-option.selected {
            background: linear-gradient(145deg, rgba(50, 205, 50, 0.1), rgba(50, 205, 50, 0.05));
            border-color: var(--success);
            box-shadow: 0 0 20px rgba(50, 205, 50, 0.2);
        }
        
        .card-option-emoji {
            font-size: 2.5rem;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .card-option-info {
            flex: 1;
            min-width: 0;
        }
        
        .card-option-name {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 5px;
        }
        
        .card-option-cost {
            font-size: 0.9rem;
            color: var(--accent);
            font-weight: 500;
        }
        
        .card-option-desc {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 5px;
            line-height: 1.4;
        }
        
        /* –ü–æ–∫–∞–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ä—Ç—ã */
        .selected-card-display {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(50, 205, 50, 0.1), rgba(50, 205, 50, 0.05));
            border-radius: 12px;
            border: 2px solid var(--success);
            margin-top: 20px;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .selected-card-emoji {
            font-size: 4rem;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
        }
        
        .selected-card-info {
            flex: 1;
        }
        
        .selected-card-info h4 {
            font-size: 1.4rem;
            margin-bottom: 8px;
            color: var(--text);
        }
        
        .selected-card-cost {
            font-size: 1.1rem;
            color: var(--accent);
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .selected-card-desc {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }
        
        /* –û—Å–Ω–æ–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ */
        .calculate-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            color: #000;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-top: 25px;
            -webkit-appearance: none;
            touch-action: manipulation;
            transition: all 0.3s ease;
        }
        
        .calculate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(218, 165, 32, 0.3);
        }
        
        .calculate-btn:active {
            transform: scale(0.98);
        }
        
        /* –ü–æ–ª—è –≤–≤–æ–¥–∞ */
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.1rem;
        }
        
        .input-group input[type="number"] {
            width: 100%;
            padding: 15px;
            background: var(--dropdown-bg);
            border: 2px solid var(--dropdown-border);
            border-radius: 10px;
            color: var(--text);
            font-size: 1.1rem;
            -webkit-appearance: none;
            transition: all 0.3s ease;
        }
        
        .input-group input[type="number"]:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(218, 165, 32, 0.2);
        }
        
        /* –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å */
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .inventory-category-title {
            grid-column: 1 / -1;
            margin-top: 25px;
            margin-bottom: 10px;
            color: var(--accent);
            font-size: 1.2rem; /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –≥—Ä—É–ø–ø */
            font-weight: 700;
            border-bottom: 2px solid rgba(218, 165, 32, 0.3);
            padding-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .inventory-category-title:first-child {
            margin-top: 0;
        }
        
        .inventory-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: linear-gradient(145deg, #2a2a3e, #1a1a2e);
            border: 2px solid var(--card-border);
            border-radius: 10px;
            transition: all 0.2s ease;
        }
        
        .inventory-item:hover {
            border-color: var(--accent);
        }
        
        .inventory-emoji {
            font-size: 2rem;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .inventory-name {
            flex: 1;
            font-size: 1rem;
            color: var(--text);
            font-weight: 500;
        }
        
        .inventory-item input {
            width: 100px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--text);
            text-align: center;
            font-size: 1rem;
            -webkit-appearance: none;
        }
        
        /* –†–µ—Ü–µ–ø—Ç—ã */
        .recipes-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }
        
        .recipe-item {
            padding: 20px;
            background: linear-gradient(145deg, #2a2a3e, #1a1a2e);
            border: 2px solid var(--card-border);
            border-radius: 10px;
            border-left: 5px solid var(--accent);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .recipe-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            border-color: var(--accent);
        }
        
        .recipe-item:active {
            transform: scale(0.98);
        }
        
        .recipe-formula {
            font-family: monospace;
            font-size: 1.1rem;
            color: var(--accent);
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .recipe-desc {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        /* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã */
        .results-section {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .results-title {
            font-size: 1.3rem;
            color: var(--accent);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .results-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            min-height: 200px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .result-item {
            padding: 20px;
            margin-bottom: 15px;
            background: linear-gradient(145deg, #2a2a3e, #1a1a2e);
            border-radius: 10px;
            border-left: 5px solid var(--success);
            animation: fadeIn 0.5s ease;
        }
        
        .result-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .result-emoji {
            font-size: 2.5rem;
        }
        
        .result-text {
            color: var(--text);
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .result-value {
            color: var(--accent);
            font-weight: 700;
            font-size: 1.3rem;
        }
        
        /* –ù–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ */
        .result-conversion {
            margin-top: 15px;
            padding: 15px;
            background: rgba(65, 105, 225, 0.1);
            border-radius: 8px;
            border-left: 4px solid var(--info);
        }
        
        .result-conversion-title {
            font-weight: 600;
            color: var(--text);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .result-conversion-list {
            font-size: 0.95rem;
            line-height: 1.6;
        }
        
        .conversion-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            padding: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
        }
        
        .conversion-emoji {
            font-size: 1.2rem;
        }
        
        .conversion-text {
            flex: 1;
        }
        
        /* –ü–æ–¥–≤–∞–ª */
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid rgba(218, 165, 32, 0.3);
            text-align: center;
            color: var(--text-secondary);
        }
        
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: var(--primary);
            color: white;
            border-radius: 10px;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ—è—Å–Ω–µ–Ω–∏–π */
        .hint {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-top: 8px;
            padding-left: 15px;
            border-left: 3px solid rgba(218, 165, 32, 0.3);
            line-height: 1.5;
        }
        
        .cost-explanation {
            background: rgba(139, 0, 0, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 1rem;
            color: var(--text-secondary);
            border-left: 4px solid var(--primary);
        }
        
        /* –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä */
        .cards-selector-grid::-webkit-scrollbar {
            width: 8px;
        }
        
        .cards-selector-grid::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }
        
        .cards-selector-grid::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 4px;
        }
        
        @media (min-width: 768px) {
            .main-header {
                padding: 25px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
            
            .cards-selector-grid {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            }
            
            .inventory-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
            
            .recipes-list {
                grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            }
            
            .inventory-category-title {
                font-size: 1.3rem;
            }
        }
        
        /* –§–∏–∫—Å –¥–ª—è Safari –Ω–∞ iOS */
        @media (max-width: 768px) {
            .mode-btn, .calculate-btn, .category-tab {
                min-height: 50px;
            }
            
            .cards-selector-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                max-height: 350px;
            }
            
            .category-tabs {
                overflow-x: auto;
                flex-wrap: nowrap;
                padding-bottom: 15px;
            }
            
            .category-tab {
                white-space: nowrap;
            }
            
            .selected-card-display {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .selected-card-emoji {
                font-size: 3rem;
                width: 70px;
                height: 70px;
            }
            
            .inventory-category-title {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="main-header">
            <h1>üÉè –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ —ç—Ñ–∏—Ä–∞</h1>
            <p class="subtitle">–†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–∞—Ä—Ç –∏ –∏—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏</p>
            <button class="reset-btn" id="resetAllBtn" style="margin-top: 15px; padding: 10px 20px; background: var(--secondary); color: white; border: none; border-radius: 8px; font-size: 0.95rem; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(0, 100, 0, 0.3)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none';">
                <span>üîÑ</span> –°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë
            </button>
        </header>
        
        <section class="calculator-section">
            <h2 class="section-title">üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫</h2>
            
            <div class="mode-selector">
                <button class="mode-btn active" id="modeSingleBtn">–û–¥–Ω–∞ –∫–∞—Ä—Ç–∞</button>
                <button class="mode-btn" id="modeInventoryBtn">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
                <button class="mode-btn" id="modeRecipesBtn">–†–µ—Ü–µ–ø—Ç—ã</button>
            </div>
            
            <div class="mode-content active" id="contentSingle">
                <div class="input-group">
                    <label><span>üéØ</span> –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É:</label>
                    
                    <div class="card-selector-container">
                        <!-- –ü–æ–∏—Å–∫ -->
                        <div class="search-box">
                            <input type="text" 
                                   class="search-input" 
                                   placeholder="–ù–∞–π—Ç–∏ –∫–∞—Ä—Ç—É –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—é..." 
                                   id="cardSearch">
                        </div>
                        
                        <!-- –ë—ã—Å—Ç—Ä—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã -->
                        <div class="category-tabs" id="categoryTabs">
                            <button class="category-tab active" data-category="all">–í—Å–µ –∫–∞—Ä—Ç—ã</button>
                            <button class="category-tab" data-category="basic">–û—Å–Ω–æ–≤–Ω—ã–µ</button>
                            <button class="category-tab" data-category="middle">–°—Ä–µ–¥–Ω–∏–µ</button>
                            <button class="category-tab" data-category="high">–í—ã—Å—à–∏–µ</button>
                            <button class="category-tab" data-category="special">–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ</button>
                            <button class="category-tab" data-category="elite">–≠–ª–∏—Ç–Ω—ã–µ</button>
                        </div>
                        
                        <!-- –°–µ—Ç–∫–∞ –∫–∞—Ä—Ç -->
                        <div class="cards-selector-grid" id="cardsSelectorGrid">
                            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                        </div>
                        
                        <!-- –ü–æ–∫–∞–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ä—Ç—ã -->
                        <div class="selected-card-display" id="selectedCardDisplay" style="display: none;">
                            <div class="selected-card-emoji" id="selectedCardEmoji"></div>
                            <div class="selected-card-info">
                                <h4 id="selectedCardName"></h4>
                                <div class="selected-card-cost" id="selectedCardCost"></div>
                                <div class="selected-card-desc" id="selectedCardDesc"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="input-group">
                    <label><span>üî¢</span> –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
                    <input type="number" id="cardCount" value="1" min="1" max="100">
                    <div class="hint">–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ (–æ—Ç 1 –¥–æ 100)</div>
                </div>
                
                <button class="calculate-btn" id="calculateSingleBtn">
                    <span>‚ú®</span> –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å
                </button>
            </div>
            
            <div class="mode-content" id="contentInventory">
                <div class="hint">–£–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç –≤ –≤–∞—à–µ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ:</div>
                
                <div class="inventory-grid" id="inventoryGrid">
                    <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                </div>
                <button class="calculate-btn" id="calculateInventoryBtn">
                    <span>üîç</span> –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
                </button>
            </div>
            
            <div class="mode-content" id="contentRecipes">
                <div class="hint">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ä–µ—Ü–µ–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞:</div>
                
                <div class="recipes-list" id="recipesList">
                    <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
            
            <div class="results-section">
                <h3 class="results-title"><span>üìä</span> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:</h3>
                <div class="results-container" id="results">
                    <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                        <div style="font-size: 4rem; margin-bottom: 20px; opacity: 0.5;">üìä</div>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É –∏ –Ω–∞–∂–º–∏—Ç–µ "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å"</p>
                        <p style="font-size: 0.95rem; opacity: 0.7;">–ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å" –∏–ª–∏ "–†–µ—Ü–µ–ø—Ç—ã"</p>
                    </div>
                </div>
            </div>
        </section>
        
        <footer class="footer">
            <p>–î–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É</p>
            <p style="margin-top: 10px; font-size: 0.9rem; opacity: 0.8;">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è —Å—Ç—Ä–∏–º–∞ ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–æ 2026</p>
        </footer>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
        const cardData = {
            "‚òëÔ∏è": { 
                name: "–°–µ—Ä–∞—è –∫–∞—Ä—Ç–∞", 
                cost: 1, 
                description: "–ë–∞–∑–æ–≤–∞—è –∫–∞—Ä—Ç–∞. –°—ä—ë–º —Å–ø–∏–∫–µ—Ä–∞ –Ω–∞ 12 –º–∏–Ω—É—Ç",
                category: "basic"
            },
            "üü™": { 
                name: "–†–æ–∑–æ–≤–∞—è –∫–∞—Ä—Ç–∞", 
                cost: 2, 
                description: "–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ. –ú–æ–∂–Ω–æ –∑–∞–π—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ",
                category: "basic"
            },
            "üü¶": { 
                name: "–°–∏–Ω—è—è –∫–∞—Ä—Ç–∞", 
                cost: 3, 
                description: "–°–Ω–∏–º–∞–µ—Ç –∂—ë–ª—Ç—É—é üü®",
                category: "basic"
            },
            "üü©": { 
                name: "–ó–µ–ª—ë–Ω–∞—è –∫–∞—Ä—Ç–∞", 
                cost: 6, 
                description: "–°–Ω–∏–º–∞–µ—Ç –∫—Ä–∞—Å–Ω—É—é üü•",
                category: "basic"
            },
            "‚¨úÔ∏è": { 
                name: "–ë–µ–ª–∞—è –∫–∞—Ä—Ç–∞", 
                cost: 12, 
                description: "–°–Ω–∏–º–∞–µ—Ç —á—ë—Ä–Ω—É—é ‚¨õÔ∏è –∏–ª–∏ –∫–æ—Ä–∏—á–Ω–µ–≤—É—é üü´",
                category: "middle"
            },
            "üüß": { 
                name: "–ó–æ–ª–æ—Ç–∞—è –∫–∞—Ä—Ç–∞", 
                cost: 24, 
                description: "–ú–æ–¥–µ—Ä–∫–∞ –Ω–∞ —Å—É—Ç–∫–∏ –∏–ª–∏ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –Ω–∞ 1 —á–∞—Å",
                category: "middle"
            },
            "üíé": { 
                name: "–ò–∑—É–º—Ä—É–¥–Ω–∞—è –∫–∞—Ä—Ç–∞", 
                cost: 48, 
                description: "–ú–æ–¥–µ—Ä–∫–∞ –Ω–∞ —Å—É—Ç–∫–∏ + 3 —á–∞—Å–∞ –ø—Ä–æ–¥–ª–µ–Ω–∏—è",
                category: "high"
            },
            "‚òÆÔ∏è": { 
                name: "–ü–∞—Ü–∏—Ñ–∏–∫", 
                cost: 9, 
                description: "–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —á–∞—Ç—É, –∏–º–º—É–Ω–∏—Ç–µ—Ç",
                category: "special"
            },
            "üÉè": { 
                name: "–î–∂–æ–∫–µ—Ä", 
                cost: 7, 
                description: "–î—É—ç–ª—å/–±–∞—Ç–ª –∫–∞—Ä—Ç–∞",
                category: "special"
            },
            "üìú": { 
                name: "–ü–µ—Ä–≥–∞–º–µ–Ω—Ç", 
                cost: 4, 
                description: "–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —á–∞—Ç—É",
                category: "special"
            },
            "üöæ": { 
                name: "–ê–Ω—Ç–∏—ç–∫—Ä–∞–Ω", 
                cost: 2, 
                description: "–ó–∞–ø—Ä–µ—Ç –ø—Ä–æ—Å–∏—Ç—å—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω",
                category: "special"
            },
            "üé¶": { 
                name: "–ö–∞—Ä—Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞", 
                cost: 26, 
                description: "–ü—Ä–æ—Å–º–æ—Ç—Ä –≤–∏–¥–µ–æ–º–∞—Ç–µ—Ä–∏–∞–ª–∞ 1.5 —á–∞—Å–∞",
                category: "special"
            },
            "üéπ": { 
                name: "–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞", 
                cost: 13, 
                description: "–ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –≤–∞—à–µ–π –º—É–∑—ã–∫–∏ 30 –º–∏–Ω",
                category: "special"
            },
            "üè≥Ô∏è‚Äçüåà": { 
                name: "–†–∞–¥—É–∂–Ω–∞—è –∫–∞—Ä—Ç–∞", 
                cost: 122, 
                description: "–ò–º–º—É–Ω–∏—Ç–µ—Ç –∫–æ –≤—Å–µ–º –∫–∞—Ä—Ç–∞–º –Ω–∞ 1 –Ω–µ–¥–µ–ª—é",
                category: "elite"
            },
            "üî¥": { 
                name: "–†—É–±–∏–Ω–æ–≤–∞—è –∫–∞—Ä—Ç–∞", 
                cost: 144, 
                description: "–°–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ —Ç—Ä—ë—Ö –∏–∑—É–º—Ä—É–¥–Ω—ã—Ö –∫–∞—Ä—Ç",
                category: "elite"
            },
            "üî≤": { 
                name: "–ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è –∫–∞—Ä—Ç–∞", 
                cost: 199, 
                description: "–°–æ–≤–µ–¥—É—â–∏–π –Ω–∞ 1 –Ω–µ–¥–µ–ª—é. –ê–∫—Ç–∏–≤–∞—Ü–∏—è 1 —Ä–∞–∑ –≤ 10 –¥–Ω–µ–π",
                category: "elite"
            },
            "üÖ±Ô∏è": { 
                name: "–ë–µ–π—Å–±–æ–ª—å–Ω–∞—è –±–∏—Ç–∞", 
                cost: 634, 
                description: "–°–≤–µ—Ä—Ö—Ä–µ–¥–∫–∞—è –∫–∞—Ä—Ç–∞. –°–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç",
                category: "elite"
            },
            "üÖæÔ∏è": { 
                name: "–û–±–Ω—É–ª–µ–Ω–∏–µ —Å–ø–∏–∫–µ—Ä–∞", 
                cost: 56, 
                description: "–ó–∞–ø—Ä–µ—Ç –≤ –≥–æ—Å—Ç–µ–≤–æ–π –∏ –¥–æ—Å—Ç—É–ø –∫ —á–∞—Ç—É –Ω–∞ 4 –Ω–µ–¥–µ–ª–∏",
                category: "special"
            }
        };

        // –†–µ—Ü–µ–ø—Ç—ã —Å–±–æ—Ä–∫–∏
        const recipes = [
            { symbol: "üü™", formula: "2 √ó ‚òëÔ∏è", description: "–°—Ç–æ–∏–º–æ—Å—Ç—å: 2 ‚òëÔ∏è", name: "–†–æ–∑–æ–≤–∞—è –∫–∞—Ä—Ç–∞" },
            { symbol: "üü¶", formula: "3 √ó ‚òëÔ∏è", description: "–°—Ç–æ–∏–º–æ—Å—Ç—å: 3 ‚òëÔ∏è", name: "–°–∏–Ω—è—è –∫–∞—Ä—Ç–∞" },
            { symbol: "üü©", formula: "2 √ó üü¶", description: "–°—Ç–æ–∏–º–æ—Å—Ç—å: 6 ‚òëÔ∏è", name: "–ó–µ–ª—ë–Ω–∞—è –∫–∞—Ä—Ç–∞" },
            { symbol: "‚¨úÔ∏è", formula: "2 √ó üü©", description: "–°—Ç–æ–∏–º–æ—Å—Ç—å: 12 ‚òëÔ∏è", name: "–ë–µ–ª–∞—è –∫–∞—Ä—Ç–∞" },
            { symbol: "üüß", formula: "2 √ó ‚¨úÔ∏è", description: "–°—Ç–æ–∏–º–æ—Å—Ç—å: 24 ‚òëÔ∏è", name: "–ó–æ–ª–æ—Ç–∞—è –∫–∞—Ä—Ç–∞" },
            { symbol: "üíé", formula: "2 √ó üüß", description: "–°—Ç–æ–∏–º–æ—Å—Ç—å: 48 ‚òëÔ∏è", name: "–ò–∑—É–º—Ä—É–¥–Ω–∞—è –∫–∞—Ä—Ç–∞" },
            { symbol: "üî¥", formula: "3 √ó üíé", description: "–°—Ç–æ–∏–º–æ—Å—Ç—å: 144 ‚òëÔ∏è", name: "–†—É–±–∏–Ω–æ–≤–∞—è –∫–∞—Ä—Ç–∞" },
            { symbol: "üî≤", formula: "3 √ó üíé + üüß + ‚¨úÔ∏è + üÉè + üü© + üü¶ + üöæ + ‚òëÔ∏è", description: "–°—Ç–æ–∏–º–æ—Å—Ç—å: 199 ‚òëÔ∏è", name: "–ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è –∫–∞—Ä—Ç–∞" },
            { symbol: "üÖæÔ∏è", formula: "üüß + ‚¨úÔ∏è + ‚òÆÔ∏è + üü© + üü¶ + ‚òëÔ∏è", description: "–ó–∞–ø—Ä–µ—Ç –≤ –≥–æ—Å—Ç–µ–≤–æ–π –∏ –¥–æ—Å—Ç—É–ø –∫ —á–∞—Ç—É –Ω–∞ 4 –Ω–µ–¥–µ–ª–∏", name: "–û–±–Ω—É–ª–µ–Ω–∏–µ —Å–ø–∏–∫–µ—Ä–∞" },
            { symbol: "üè≥Ô∏è‚Äçüåà", formula: "üíé + üüß + ‚¨úÔ∏è + üü© + üü¶ + ‚òëÔ∏è + ‚òÆÔ∏è", description: "–ò–º–º—É–Ω–∏—Ç–µ—Ç –∫–æ –≤—Å–µ–º –∫–∞—Ä—Ç–∞–º –Ω–∞ 1 –Ω–µ–¥–µ–ª—é", name: "–†–∞–¥—É–∂–Ω–∞—è –∫–∞—Ä—Ç–∞" }
        ];

        let selectedSingleCard = null;

        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ç–∫–∏ –∫–∞—Ä—Ç –¥–ª—è —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
        function createCardSelectorGrid() {
            const container = document.getElementById('cardsSelectorGrid');
            let html = '';
            
            Object.keys(cardData).forEach(symbol => {
                const card = cardData[symbol];
                html += `
                    <div class="card-option" data-symbol="${symbol}" onclick="selectCardForSingle(this)">
                        <div class="card-option-emoji">${symbol}</div>
                        <div class="card-option-info">
                            <div class="card-option-name">${card.name}</div>
                            <div class="card-option-cost">${card.cost} ‚òëÔ∏è</div>
                            <div class="card-option-desc">${card.description}</div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ä—Ç—ã –¥–ª—è —Ä–µ–∂–∏–º–∞ "–û–¥–Ω–∞ –∫–∞—Ä—Ç–∞"
        function selectCardForSingle(element) {
            const symbol = element.getAttribute('data-symbol');
            const card = cardData[symbol];
            
            // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —É –≤—Å–µ—Ö –∫–∞—Ä—Ç
            document.querySelectorAll('.card-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–∞—Ä—Ç—É
            element.classList.add('selected');
            selectedSingleCard = symbol;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ä—Ç–µ
            const display = document.getElementById('selectedCardDisplay');
            document.getElementById('selectedCardEmoji').textContent = symbol;
            document.getElementById('selectedCardName').textContent = card.name;
            document.getElementById('selectedCardCost').textContent = `–°—Ç–æ–∏–º–æ—Å—Ç—å: ${card.cost} ‚òëÔ∏è`;
            document.getElementById('selectedCardDesc').textContent = card.description;
            display.style.display = 'flex';
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è –Ω–∞ –ø–æ–ª–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
            document.getElementById('cardCount').focus();
            
            // –ê–Ω–∏–º–∞—Ü–∏—è
            element.classList.add('active');
            setTimeout(() => {
                element.classList.remove('active');
            }, 200);
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è —Å —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
        function createInventoryGrid() {
            const inventoryGrid = document.getElementById('inventoryGrid');
            let html = '';
            
            // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –∫–∞—Ä—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
            const categories = [
                { title: "üì¶ –ë–∞–∑–æ–≤—ã–µ –∫–∞—Ä—Ç—ã", symbols: ["‚òëÔ∏è", "üü™", "üü¶", "üü©"] },
                { title: "‚ö° –°—Ä–µ–¥–Ω–∏–µ –∫–∞—Ä—Ç—ã", symbols: ["‚¨úÔ∏è", "üüß"] },
                { title: "üèÜ –í—ã—Å—à–∏–µ –∫–∞—Ä—Ç—ã", symbols: ["üíé"] },
                { title: "üé≠ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã", symbols: ["‚òÆÔ∏è", "üÉè", "üìú", "üöæ", "üÖæÔ∏è"] },
                { title: "üéµ –ú–µ–¥–∏–∞ –∫–∞—Ä—Ç—ã", symbols: ["üé¶", "üéπ"] },
                { title: "üëë –≠–ª–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã", symbols: ["üè≥Ô∏è‚Äçüåà", "üî¥", "üî≤"] },
                { title: "üåü –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ –∫–∞—Ä—Ç—ã", symbols: ["üÖ±Ô∏è"] }
            ];
            
            categories.forEach(category => {
                html += `<div class="inventory-category-title">${category.title}</div>`;
                
                category.symbols.forEach(symbol => {
                    const card = cardData[symbol];
                    html += `
                        <div class="inventory-item">
                            <span class="inventory-emoji">${symbol}</span>
                            <div class="inventory-name">${card.name}</div>
                            <input type="number" id="inv_${symbol}" value="0" min="0" max="999" placeholder="0">
                        </div>
                    `;
                });
            });
            
            inventoryGrid.innerHTML = html;
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω–≤–µ—Ä—Å–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2 –±–µ–ª—ã—Ö = 1 –∑–æ–ª–æ—Ç–∞—è)
        function getConversions(inventory) {
            const conversions = [];
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
            if (inventory["‚¨úÔ∏è"] >= 2) {
                const possible = Math.floor(inventory["‚¨úÔ∏è"] / 2);
                conversions.push({
                    from: `${possible * 2} √ó ‚¨úÔ∏è`,
                    to: `${possible} √ó üüß`,
                    description: "–ë–µ–ª—ã–µ ‚Üí –ó–æ–ª–æ—Ç—ã–µ",
                    emoji: "üîÑ"
                });
            }
            
            if (inventory["üüß"] >= 2) {
                const possible = Math.floor(inventory["üüß"] / 2);
                conversions.push({
                    from: `${possible * 2} √ó üüß`,
                    to: `${possible} √ó üíé`,
                    description: "–ó–æ–ª–æ—Ç—ã–µ ‚Üí –ò–∑—É–º—Ä—É–¥–Ω—ã–µ",
                    emoji: "üíé"
                });
            }
            
            if (inventory["üíé"] >= 3) {
                const possible = Math.floor(inventory["üíé"] / 3);
                conversions.push({
                    from: `${possible * 3} √ó üíé`,
                    to: `${possible} √ó üî¥`,
                    description: "–ò–∑—É–º—Ä—É–¥–Ω—ã–µ ‚Üí –†—É–±–∏–Ω–æ–≤—ã–µ",
                    emoji: "üî¥"
                });
            }
            
            if (inventory["üü™"] >= 3) {
                const possible = Math.floor(inventory["üü™"] / 3);
                conversions.push({
                    from: `${possible * 3} √ó üü™`,
                    to: `${possible} √ó üü¶`,
                    description: "–†–æ–∑–æ–≤—ã–µ ‚Üí –°–∏–Ω–∏–µ",
                    emoji: "üîÑ"
                });
            }
            
            if (inventory["üü¶"] >= 2) {
                const possible = Math.floor(inventory["üü¶"] / 2);
                conversions.push({
                    from: `${possible * 2} √ó üü¶`,
                    to: `${possible} √ó üü©`,
                    description: "–°–∏–Ω–∏–µ ‚Üí –ó–µ–ª—ë–Ω—ã–µ",
                    emoji: "üîÑ"
                });
            }
            
            return conversions;
        }

        // –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –æ–¥–Ω–æ–π –∫–∞—Ä—Ç—ã —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
        function calculateSingle() {
            try {
                if (!selectedSingleCard) {
                    showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É', 'warning');
                    return;
                }
                
                const symbol = selectedSingleCard;
                const count = parseInt(document.getElementById('cardCount').value) || 1;
                const card = cardData[symbol];
                
                if (!card) {
                    showNotification('–ö–∞—Ä—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞', 'error');
                    return;
                }
                
                if (count < 1 || count > 100) {
                    showNotification('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1 –¥–æ 100', 'warning');
                    return;
                }
                
                const totalCost = card.cost * count;
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–±–æ—Ä–∫–∏
                const possibleCards = [];
                if (totalCost >= 634) possibleCards.push({ emoji: "üÖ±Ô∏è", name: "–ë–µ–π—Å–±–æ–ª—å–Ω–∞—è –±–∏—Ç–∞", count: Math.floor(totalCost / 634) });
                if (totalCost >= 199) possibleCards.push({ emoji: "üî≤", name: "–ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è", count: Math.floor(totalCost / 199) });
                if (totalCost >= 144) possibleCards.push({ emoji: "üî¥", name: "–†—É–±–∏–Ω–æ–≤–∞—è", count: Math.floor(totalCost / 144) });
                if (totalCost >= 48) possibleCards.push({ emoji: "üíé", name: "–ò–∑—É–º—Ä—É–¥–Ω–∞—è", count: Math.floor(totalCost / 48) });
                if (totalCost >= 24) possibleCards.push({ emoji: "üüß", name: "–ó–æ–ª–æ—Ç–∞—è", count: Math.floor(totalCost / 24) });
                if (totalCost >= 12) possibleCards.push({ emoji: "‚¨úÔ∏è", name: "–ë–µ–ª–∞—è", count: Math.floor(totalCost / 12) });
                if (totalCost >= 6) possibleCards.push({ emoji: "üü©", name: "–ó–µ–ª—ë–Ω–∞—è", count: Math.floor(totalCost / 6) });
                if (totalCost >= 3) possibleCards.push({ emoji: "üü¶", name: "–°–∏–Ω—è—è", count: Math.floor(totalCost / 3) });
                if (totalCost >= 1) possibleCards.push({ emoji: "‚òëÔ∏è", name: "–°–µ—Ä–∞—è", count: totalCost });
                
                let possibleHTML = '';
                possibleCards.forEach(card => {
                    possibleHTML += `<div class="conversion-item">
                        <span class="conversion-emoji">${card.emoji}</span>
                        <span class="conversion-text">${card.count} √ó ${card.name}</span>
                    </div>`;
                });
                
                const resultHTML = `
                    <div class="result-item">
                        <div class="result-header">
                            <span class="result-emoji">${symbol}</span>
                            <div>
                                <div class="result-text">${card.name} √ó ${count}</div>
                                <div class="result-value">${totalCost} ‚òëÔ∏è</div>
                            </div>
                        </div>
                        <div style="margin-top: 10px; color: var(--text-secondary); font-size: 0.95rem;">
                            <strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${card.description}
                        </div>
                        
                        <div class="result-conversion">
                            <div class="result-conversion-title">
                                <span>üí°</span> –ß—Ç–æ –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å:
                            </div>
                            <div class="result-conversion-list">
                                ${possibleHTML}
                            </div>
                        </div>
                        
                        ${totalCost >= 100 ? `
                        <div style="margin-top: 15px; padding: 15px; background: rgba(218, 165, 32, 0.1); border-radius: 8px; border-left: 4px solid var(--accent);">
                            <strong style="font-size: 1rem;">üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</strong>
                            <div style="margin-top: 10px; font-size: 0.95rem; line-height: 1.6;">
                                ${totalCost >= 634 ? '‚Ä¢ –ú–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—É—é –∫–∞—Ä—Ç—É! üÖ±Ô∏è<br>' : ''}
                                ${totalCost >= 199 ? '‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å–æ–±—Ä–∞—Ç—å –ß—ë—Ä–Ω–æ-–ë–µ–ª—É—é –∫–∞—Ä—Ç—É (üî≤)<br>' : ''}
                                ${totalCost >= 144 && totalCost < 199 ? '‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å–æ–±—Ä–∞—Ç—å –†—É–±–∏–Ω–æ–≤—É—é –∫–∞—Ä—Ç—É (üî¥)<br>' : ''}
                                ${totalCost >= 48 && totalCost < 144 ? '‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å–æ–±—Ä–∞—Ç—å –ò–∑—É–º—Ä—É–¥–Ω—É—é –∫–∞—Ä—Ç—É (üíé)<br>' : ''}
                                ‚Ä¢ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —Å–æ–±–∏—Ä–∞—Ç—å –±–æ–ª–µ–µ –¥–æ—Ä–æ–≥–∏–µ –∫–∞—Ä—Ç—ã
                            </div>
                        </div>
                        ` : ''}
                    </div>
                `;
                
                document.getElementById('results').innerHTML = resultHTML;
                showNotification('–†–∞—Å—á—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω', 'success');
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
                const btn = document.getElementById('calculateSingleBtn');
                btn.classList.add('active');
                setTimeout(() => {
                    btn.classList.remove('active');
                }, 200);
                
            } catch (error) {
                showNotification('–û—à–∏–±–∫–∞ —Ä–∞—Å—á–µ—Ç–∞', 'error');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
        function calculateInventory() {
            try {
                let totalValue = 0;
                let details = [];
                let itemCount = 0;
                const inventory = {};
                
                Object.keys(cardData).forEach(symbol => {
                    const input = document.getElementById('inv_' + symbol);
                    if (input) {
                        const count = parseInt(input.value) || 0;
                        inventory[symbol] = count;
                        if (count > 0) {
                            itemCount++;
                            const value = count * cardData[symbol].cost;
                            totalValue += value;
                            details.push({
                                symbol: symbol,
                                name: cardData[symbol].name,
                                count: count,
                                value: value
                            });
                        }
                    }
                });
                
                if (itemCount === 0) {
                    showNotification('–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç', 'warning');
                    return;
                }
                
                // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
                details.sort((a, b) => b.value - a.value);
                
                let detailsHTML = '';
                details.forEach(item => {
                    detailsHTML += `<div style="display: flex; justify-content: space-between; margin-bottom: 8px; padding: 5px 0; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                        <span>${item.count}√ó ${item.symbol} ${item.name}</span>
                        <span style="font-weight: 600; color: var(--accent);">${item.value} ‚òëÔ∏è</span>
                    </div>`;
                });
                
                // –ü–æ–ª—É—á–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
                const conversions = getConversions(inventory);
                let conversionsHTML = '';
                if (conversions.length > 0) {
                    conversions.forEach(conv => {
                        conversionsHTML += `<div class="conversion-item">
                            <span class="conversion-emoji">${conv.emoji}</span>
                            <span class="conversion-text">${conv.from} ‚Üí ${conv.to} (${conv.description})</span>
                        </div>`;
                    });
                }
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–±–æ—Ä–∫–∏
                const possibleCards = [];
                if (totalValue >= 634) possibleCards.push({ emoji: "üÖ±Ô∏è", name: "–ë–µ–π—Å–±–æ–ª—å–Ω–∞—è –±–∏—Ç–∞", count: Math.floor(totalValue / 634) });
                if (totalValue >= 199) possibleCards.push({ emoji: "üî≤", name: "–ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è", count: Math.floor(totalValue / 199) });
                if (totalValue >= 144) possibleCards.push({ emoji: "üî¥", name: "–†—É–±–∏–Ω–æ–≤–∞—è", count: Math.floor(totalValue / 144) });
                if (totalValue >= 48) possibleCards.push({ emoji: "üíé", name: "–ò–∑—É–º—Ä—É–¥–Ω–∞—è", count: Math.floor(totalValue / 48) });
                if (totalValue >= 24) possibleCards.push({ emoji: "üüß", name: "–ó–æ–ª–æ—Ç–∞—è", count: Math.floor(totalValue / 24) });
                if (totalValue >= 12) possibleCards.push({ emoji: "‚¨úÔ∏è", name: "–ë–µ–ª–∞—è", count: Math.floor(totalValue / 12) });
                if (totalValue >= 6) possibleCards.push({ emoji: "üü©", name: "–ó–µ–ª—ë–Ω–∞—è", count: Math.floor(totalValue / 6) });
                if (totalValue >= 3) possibleCards.push({ emoji: "üü¶", name: "–°–∏–Ω—è—è", count: Math.floor(totalValue / 3) });
                if (totalValue >= 1) possibleCards.push({ emoji: "‚òëÔ∏è", name: "–°–µ—Ä–∞—è", count: totalValue });
                
                let possibleHTML = '';
                possibleCards.forEach(card => {
                    possibleHTML += `<div class="conversion-item">
                        <span class="conversion-emoji">${card.emoji}</span>
                        <span class="conversion-text">${card.count} √ó ${card.name}</span>
                    </div>`;
                });
                
                const resultHTML = `
                    <div class="result-item">
                        <div class="result-header">
                            <span class="result-emoji">üì¶</span>
                            <div>
                                <div class="result-text">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è</div>
                                <div class="result-value">${totalValue} ‚òëÔ∏è</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div style="font-weight: 600; margin-bottom: 10px; color: var(--text);">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:</div>
                            ${detailsHTML}
                        </div>
                        
                        ${conversions.length > 0 ? `
                        <div class="result-conversion">
                            <div class="result-conversion-title">
                                <span>üîÑ</span> –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏:
                            </div>
                            <div class="result-conversion-list">
                                ${conversionsHTML}
                            </div>
                        </div>
                        ` : ''}
                        
                        <div class="result-conversion">
                            <div class="result-conversion-title">
                                <span>üí°</span> –ß—Ç–æ –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å:
                            </div>
                            <div class="result-conversion-list">
                                ${possibleHTML}
                            </div>
                        </div>
                        
                        ${totalValue >= 100 ? `
                        <div style="margin-top: 15px; padding: 15px; background: rgba(218, 165, 32, 0.1); border-radius: 8px; border-left: 4px solid var(--accent);">
                            <strong style="font-size: 1rem;">üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</strong>
                            <div style="margin-top: 10px; font-size: 0.95rem; line-height: 1.6;">
                                ${totalValue >= 634 ? '‚Ä¢ –ú–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—É—é –∫–∞—Ä—Ç—É! üÖ±Ô∏è<br>' : ''}
                                ${totalValue >= 199 ? '‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å–æ–±—Ä–∞—Ç—å –ß—ë—Ä–Ω–æ-–ë–µ–ª—É—é –∫–∞—Ä—Ç—É (üî≤)<br>' : ''}
                                ${totalValue >= 144 && totalValue < 199 ? '‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å–æ–±—Ä–∞—Ç—å –†—É–±–∏–Ω–æ–≤—É—é –∫–∞—Ä—Ç—É (üî¥)<br>' : ''}
                                ${totalValue >= 48 && totalValue < 144 ? '‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å–æ–±—Ä–∞—Ç—å –ò–∑—É–º—Ä—É–¥–Ω—É—é –∫–∞—Ä—Ç—É (üíé)<br>' : ''}
                                ‚Ä¢ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —Å–æ–±–∏—Ä–∞—Ç—å –±–æ–ª–µ–µ –¥–æ—Ä–æ–≥–∏–µ –∫–∞—Ä—Ç—ã
                            </div>
                        </div>
                        ` : ''}
                    </div>
                `;
                
                document.getElementById('results').innerHTML = resultHTML;
                showNotification('–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –æ—Ü–µ–Ω—ë–Ω', 'success');
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
                saveInventory();
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
                const btn = document.getElementById('calculateInventoryBtn');
                btn.classList.add('active');
                setTimeout(() => {
                    btn.classList.remove('active');
                }, 200);
                
            } catch (error) {
                showNotification('–û—à–∏–±–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è', 'error');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤
        function createRecipesList() {
            const recipesList = document.getElementById('recipesList');
            let html = '';
            
            recipes.forEach(recipe => {
                const card = cardData[recipe.symbol];
                html += `
                    <div class="recipe-item" data-symbol="${recipe.symbol}" onclick="selectRecipe(this)">
                        <div class="recipe-formula">${recipe.symbol} ${recipe.name}</div>
                        <div class="recipe-desc">${recipe.formula}<br>${recipe.description}</div>
                    </div>
                `;
            });
            
            recipesList.innerHTML = html;
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
        function saveInventory() {
            try {
                const inventory = {};
                Object.keys(cardData).forEach(symbol => {
                    const input = document.getElementById('inv_' + symbol);
                    if (input) {
                        inventory[symbol] = input.value;
                    }
                });
                
                localStorage.setItem('etherInventory', JSON.stringify(inventory));
            } catch (e) {
                // –ï—Å–ª–∏ localStorage –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
        function loadInventory() {
            try {
                const saved = localStorage.getItem('etherInventory');
                if (saved) {
                    const inventory = JSON.parse(saved);
                    Object.keys(inventory).forEach(symbol => {
                        const input = document.getElementById('inv_' + symbol);
                        if (input) {
                            input.value = inventory[symbol];
                        }
                    });
                }
            } catch (e) {
                // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å, –æ—Å—Ç–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            }
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞ –≤—Å–µ–≥–æ
        function resetAll() {
            try {
                // –°–±—Ä–æ—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ä—Ç—ã –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä–µ
                selectedSingleCard = null;
                document.querySelectorAll('.card-option.selected').forEach(opt => {
                    opt.classList.remove('selected');
                });
                document.getElementById('selectedCardDisplay').style.display = 'none';
                
                // –°–±—Ä–æ—Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
                Object.keys(cardData).forEach(symbol => {
                    const input = document.getElementById('inv_' + symbol);
                    if (input) input.value = 0;
                });
                
                // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
                document.getElementById('cardSearch').value = '';
                document.getElementById('cardCount').value = 1;
                
                // –°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–æ–≤
                document.querySelectorAll('.category-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelector('.category-tab[data-category="all"]').classList.add('active');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –∫–∞—Ä—Ç—ã
                filterCards();
                
                // –°–±—Ä–æ—Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                document.getElementById('results').innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                        <div style="font-size: 4rem; margin-bottom: 20px; opacity: 0.5;">üìä</div>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É –∏ –Ω–∞–∂–º–∏—Ç–µ "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å"</p>
                        <p style="font-size: 0.95rem; opacity: 0.7;">–ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å" –∏–ª–∏ "–†–µ—Ü–µ–ø—Ç—ã"</p>
                    </div>
                `;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—á–∏—â–µ–Ω–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
                saveInventory();
                showNotification('–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–±—Ä–æ—à–µ–Ω—ã', 'info');
                
            } catch (error) {
                showNotification('–û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞', 'error');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç –ø–æ –ø–æ–∏—Å–∫—É
        function filterCards() {
            const searchText = document.getElementById('cardSearch').value.toLowerCase();
            const activeCategory = document.querySelector('.category-tab.active').getAttribute('data-category');
            
            document.querySelectorAll('.card-option').forEach(option => {
                const symbol = option.getAttribute('data-symbol');
                const card = cardData[symbol];
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                const categoryMatch = activeCategory === 'all' || card.category === activeCategory;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–∏—Å–∫
                const searchMatch = searchText === '' || 
                    card.name.toLowerCase().includes(searchText) ||
                    card.description.toLowerCase().includes(searchText) ||
                    symbol.includes(searchText);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –∫–∞—Ä—Ç—É
                option.style.display = (categoryMatch && searchMatch) ? 'flex' : 'none';
            });
        }

        // –§—É–Ω–∫—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–µ–∂–∏–º–∞
        function setMode(mode) {
            // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–Ω—Ç–æ–≤
            document.querySelectorAll('.mode-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
            document.getElementById('mode' + mode.charAt(0).toUpperCase() + mode.slice(1) + 'Btn').classList.add('active');
            document.getElementById('content' + mode.charAt(0).toUpperCase() + mode.slice(1)).classList.add('active');
            
            // –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤ —Ä–µ–∂–∏–º –æ–¥–Ω–æ–π –∫–∞—Ä—Ç—ã, –æ—á–∏—â–∞–µ–º –≤—ã–±–æ—Ä
            if (mode === 'single') {
                document.querySelectorAll('.card-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                document.getElementById('selectedCardDisplay').style.display = 'none';
                selectedSingleCard = null;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, type) {
            try {
                // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                const oldNote = document.querySelector('.notification');
                if (oldNote) oldNote.remove();
                
                // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ
                const notification = document.createElement('div');
                notification.className = 'notification';
                
                let emoji = 'üí°';
                if (type === 'success') {
                    emoji = '‚úÖ';
                    notification.style.background = 'var(--success)';
                } else if (type === 'warning') {
                    emoji = '‚ö†Ô∏è';
                    notification.style.background = 'var(--warning)';
                } else if (type === 'error') {
                    emoji = '‚ùå';
                    notification.style.background = 'var(--primary)';
                } else if (type === 'info') {
                    emoji = '‚ÑπÔ∏è';
                    notification.style.background = 'var(--accent)';
                }
                
                notification.innerHTML = `${emoji} ${message}`;
                document.body.appendChild(notification);
                
                // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, 3000);
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:', e);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —Ä–µ—Ü–µ–ø—Ç–∞
        function selectRecipe(element) {
            const symbol = element.getAttribute('data-symbol');
            setMode('single');
            
            // –ù–∞—Ö–æ–¥–∏–º –∏ –≤—ã–±–∏—Ä–∞–µ–º –∫–∞—Ä—Ç—É –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä–µ
            const cardOption = document.querySelector(`.card-option[data-symbol="${symbol}"]`);
            if (cardOption) {
                selectCardForSingle(cardOption);
                
                // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ä—Ç–µ
                cardOption.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            
            document.getElementById('cardCount').value = 1;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞
            element.classList.add('active');
            setTimeout(() => {
                element.classList.remove('active');
                calculateSingle();
            }, 300);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            // –°–æ–∑–¥–∞–µ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å, —Ä–µ—Ü–µ–ø—Ç—ã –∏ —Å–µ–ª–µ–∫—Ç–æ—Ä –∫–∞—Ä—Ç
            createInventoryGrid();
            createRecipesList();
            createCardSelectorGrid();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
            loadInventory();
            
            // –ù–∞–∑–Ω–∞—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
            document.getElementById('calculateSingleBtn').addEventListener('click', calculateSingle);
            document.getElementById('calculateInventoryBtn').addEventListener('click', calculateInventory);
            document.getElementById('resetAllBtn').addEventListener('click', resetAll);
            
            // –ù–∞–∑–Ω–∞—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Ä–µ–∂–∏–º–æ–≤
            document.getElementById('modeSingleBtn').addEventListener('click', function() { setMode('single'); });
            document.getElementById('modeInventoryBtn').addEventListener('click', function() { setMode('inventory'); });
            document.getElementById('modeRecipesBtn').addEventListener('click', function() { setMode('recipes'); });
            
            // –ù–∞–∑–Ω–∞—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
            document.getElementById('inventoryGrid').addEventListener('input', function(e) {
                if (e.target.tagName === 'INPUT') {
                    saveInventory();
                }
            });
            
            // –ù–∞–∑–Ω–∞—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
            document.getElementById('cardSearch').addEventListener('input', filterCards);
            
            // –ù–∞–∑–Ω–∞—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
                    document.querySelectorAll('.category-tab').forEach(t => {
                        t.classList.remove('active');
                    });
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–µ
                    this.classList.add('active');
                    // –§–∏–ª—å—Ç—Ä—É–µ–º –∫–∞—Ä—Ç—ã
                    filterCards();
                });
            });
            
            // –ù–∞–∑–Ω–∞—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ä–µ—Ü–µ–ø—Ç–æ–≤ (–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
            document.getElementById('recipesList').addEventListener('click', function(e) {
                const recipeItem = e.target.closest('.recipe-item');
                if (recipeItem) {
                    selectRecipe(recipeItem);
                }
            });
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
            setMode('single');
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º –∫–∞—Ä—Ç—ã (–ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ)
            filterCards();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
            setTimeout(() => {
                showNotification('–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É –¥–ª—è –Ω–∞—á–∞–ª–∞', 'success');
            }, 500);
        });
    </script>
</body>
</html>
