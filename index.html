
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ö–∞–ø–∏—Ç–∞–ª–∏–∑–º –∏ –ö–æ–º–º—É–Ω–∏–∑–º</title>
    <style>
        /* –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò –ò –ü–ï–†–ï–ú–ï–ù–ù–´–ï - –ï–î–ò–ù–ê–Ø –ë–†–ï–ù–î–û–í–ê–Ø –¶–í–ï–¢–û–í–ê–Ø –ì–ê–ú–ú–ê */
        :root {
            /* BRAND COLOR PALETTE (–µ–¥–∏–Ω—ã–π –±—Ä–µ–Ω–¥–æ–≤—ã–π —Å–∏–Ω–∏–π) */
            --brand: #49B9FF;
            --brand-light: #8DE1FF;
            --brand-dark: #1E88FF;
            --brand-glow: rgba(73, 185, 255, 0.35);
            --brand-bg: rgba(73, 185, 255, 0.12);
            --brand-border: rgba(73, 185, 255, 0.35);

            /* NEUTRAL BACKGROUND COLORS */
            --bg: #0f172a;
            --card-bg: #1e293b;
            --card-border: #334155;
            
            /* ACCENT COLORS (–µ–¥–∏–Ω—ã–π –±—Ä–µ–Ω–¥–æ–≤—ã–π —Å–∏–Ω–∏–π) */
            --accent: #49B9FF;
            --accent-light: #8DE1FF;
            --accent-dark: #1E88FF;
            
            /* TEXT COLORS (–µ–¥–∏–Ω—ã–π –±—Ä–µ–Ω–¥–æ–≤—ã–π —Ç–æ–Ω) */
            --text: rgba(73, 185, 255, 0.80);
            --text-secondary: rgba(73, 185, 255, 0.55);
            --text-bright: rgba(141, 225, 255, 0.95);
            
            /* UI COLORS */
            --dropdown-bg: rgba(30, 41, 59, 0.95);
            --dropdown-border: rgba(73, 185, 255, 0.4);
            --select-text: rgba(73, 185, 255, 0.90);
            
            /* STATUS COLORS */
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --info: #3b82f6;
            
            /* CARD TYPE COLORS (–ø–µ—Ä–µ–∫—Ä–∞—à–µ–Ω—ã –≤ –±—Ä–µ–Ω–¥–æ–≤—ã–µ —Ç–æ–Ω–∞) */
            --type-normal: var(--brand);
            --type-activation: var(--brand-light);
            --type-violation: #f59e0b; /* –æ—Å—Ç–∞–≤–ª—è–µ–º –∂—ë–ª—Ç—ã–π –¥–ª—è –Ω–∞—Ä—É—à–µ–Ω–∏–π */
            --type-danger: var(--error); /* –æ—Å—Ç–∞–≤–ª—è–µ–º –∫—Ä–∞—Å–Ω—ã–π –¥–ª—è –æ–ø–∞—Å–Ω—ã—Ö */
            --type-super: var(--warning); /* –æ—Å—Ç–∞–≤–ª—è–µ–º –æ—Ä–∞–Ω–∂–µ–≤—ã–π –¥–ª—è —Å—É–ø–µ—Ä */
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg) 0%, #0c0f1f 100%);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .main-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(145deg, var(--card-bg) 0%, #1a2337 100%);
            border-radius: 16px;
            border: 1px solid var(--brand-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), 0 0 28px rgba(73, 185, 255, 0.10);
        }
        
        .main-header h1 {
            font-size: 2.5rem;
            margin-bottom: 12px;
            background: linear-gradient(90deg, var(--brand-dark) 0%, var(--brand) 45%, var(--brand-light) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 18px rgba(73, 185, 255, 0.14);
        }
        
        .subtitle {
            color: var(--text-bright);
            font-size: 1.1rem;
            margin-bottom: 20px;
        }
        
        .time-display {
            display: inline-block;
            padding: 12px 24px;
            background: var(--brand-bg);
            border-radius: 12px;
            font-size: 0.9rem;
            margin-bottom: 12px;
            border: 1px solid var(--brand-border);
            backdrop-filter: blur(10px);
            box-shadow: 0 6px 18px rgba(73, 185, 255, 0.10);
        }

        /* –¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã –Ω–∞ —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç–µ (–ú–°–ö –≤—Ä–µ–º—è) ‚Äî –±–µ–ª—ã–µ */
        #timeDisplay {
            color: #ffffff;
            font-weight: 700;
        }
        
        .night-warning {
            display: none;
            padding: 14px;
            background: rgba(239, 68, 68, 0.15);
            border: 1px solid var(--error);
            border-radius: 10px;
            margin-top: 12px;
            font-size: 0.9rem;
            backdrop-filter: blur(10px);
        }
        
        .night-warning.visible {
            display: block;
        }
        
        .calculator-section {
            background: linear-gradient(145deg, var(--card-bg) 0%, #1a2337 100%);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid var(--card-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .section-title {
            font-size: 1.8rem;
            margin-bottom: 24px;
            background: linear-gradient(90deg, var(--brand-dark) 0%, var(--brand) 45%, var(--brand-light) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .mode-selector {
            display: flex;
            gap: 12px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .mode-btn {
            padding: 14px 28px;
            background: var(--dropdown-bg);
            border: 1px solid var(--dropdown-border);
            color: var(--text);
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
            min-width: 150px;
            text-align: center;
        }
        
        .mode-btn:hover {
            background: rgba(73, 185, 255, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(73, 185, 255, 0.2);
        }
        
        .mode-btn.active {
            background: linear-gradient(90deg, var(--brand-dark) 0%, var(--brand) 45%, var(--brand-light) 100%);
            border-color: var(--brand);
            font-weight: 600;
            box-shadow: 0 4px 16px rgba(73, 185, 255, 0.3);
            color: white;
        }
        
        .mode-content {
            display: none;
        }
        
        .mode-content.active {
            display: block;
        }
        
        /* –°–¢–ò–õ–ò –î–õ–Ø –í–´–ü–ê–î–ê–Æ–©–ò–• –°–ü–ò–°–ö–û–í */
        select {
            padding: 14px 20px;
            background: var(--dropdown-bg) !important;
            color: var(--select-text) !important;
            border: 2px solid var(--dropdown-border) !important;
            border-radius: 10px;
            font-size: 1rem;
            width: 100%;
            max-width: 320px;
            backdrop-filter: blur(10px);
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2349B9FF'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e") !important;
            background-repeat: no-repeat !important;
            background-position: right 15px center !important;
            background-size: 20px !important;
            padding-right: 45px !important;
        }
        
        select option {
            background: var(--dropdown-bg) !important;
            color: var(--select-text) !important;
            padding: 12px !important;
            font-size: 1rem !important;
        }
        
        select:focus {
            outline: none;
            border-color: var(--brand) !important;
            box-shadow: 0 0 0 3px rgba(73, 185, 255, 0.25) !important;
        }
        
        /* –°–¢–ò–õ–ò –î–õ–Ø –ò–ù–í–ï–ù–¢–ê–†–Ø */
        .inventory-container {
            padding: 20px;
        }
        
        .inventory-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            background: linear-gradient(90deg, var(--brand-dark) 0%, var(--brand) 45%, var(--brand-light) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-align: center;
        }
        
        .inventory-subtitle {
            color: var(--text-secondary);
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .inventory-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .inventory-select {
            padding: 12px 20px;
            background: var(--dropdown-bg);
            color: var(--select-text);
            border: 2px solid var(--dropdown-border);
            border-radius: 10px;
            font-size: 1rem;
            min-width: 200px;
            backdrop-filter: blur(10px);
        }
        
        .inventory-input {
            padding: 12px 20px;
            background: var(--dropdown-bg);
            color: var(--select-text);
            border: 2px solid var(--dropdown-border);
            border-radius: 10px;
            font-size: 1rem;
            width: 120px;
            text-align: center;
            backdrop-filter: blur(10px);
        }
        
        .inventory-btn {
            padding: 12px 24px;
            background: linear-gradient(90deg, var(--brand-dark) 0%, var(--brand) 45%, var(--brand-light) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            min-width: 150px;
        }
        
        .inventory-btn:hover {
            background: linear-gradient(90deg, #1a7ae0 0%, #3aa3ff 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(73, 185, 255, 0.3);
        }
        
        .inventory-list {
            background: rgba(73, 185, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(73, 185, 255, 0.1);
            backdrop-filter: blur(10px);
            min-height: 200px;
        }
        
        .inventory-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: rgba(73, 185, 255, 0.07);
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid var(--brand);
        }
        
        .inventory-item-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .inventory-item-emoji {
            font-size: 1.3rem;
        }

        /* Emoji normalization (–µ–¥–∏–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π –≤–µ—Å) */
        .emoji,
        .inventory-item-emoji,
        .autolent-card-emoji,
        .card-info-emoji {
            line-height: 1;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            vertical-align: -0.08em;
            font-variant-emoji: emoji;
        }
        
        .inventory-item-name {
            font-weight: 500;
            color: var(--text);
        }
        
        .inventory-item-count {
            font-weight: 700;
            color: var(--brand);
            font-size: 1.1rem;
        }
        
        .inventory-item-remove {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        
        .inventory-item-remove:hover {
            background: rgba(239, 68, 68, 0.4);
            transform: scale(1.1);
        }
        
        .inventory-summary {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid rgba(73, 185, 255, 0.1);
        }
        
        .inventory-total {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--brand);
        }
        
        .inventory-clear-btn {
            padding: 10px 20px;
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
            border: 1px solid rgba(239, 68, 68, 0.4);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .inventory-clear-btn:hover {
            background: rgba(239, 68, 68, 0.4);
        }
        
        .empty-inventory {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
        }
        
        .empty-inventory-emoji {
            font-size: 3rem;
            margin-bottom: 16px;
            opacity: 0.5;
        }
        


        /* –ò–ù–í–ï–ù–¢–ê–†–¨: –°–ü–†–ê–í–û–ß–ù–ò–ö –ö–ê–†–¢ + –ü–û–ò–°–ö */
        .inventory-reference {
            margin: 24px 0 28px;
            padding: 18px;
            background: rgba(73, 185, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(73, 185, 255, 0.08);
            backdrop-filter: blur(10px);
        }

        .inventory-reference-header {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 14px;
        }

        .inventory-reference-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .inventory-search {
            flex: 1;
            min-width: 240px;
            padding: 12px 16px;
            background: var(--dropdown-bg);
            color: var(--select-text);
            border: 2px solid var(--dropdown-border);
            border-radius: 10px;
            font-size: 1rem;
            backdrop-filter: blur(10px);
        }

        .inventory-search:focus {
            outline: none;
            border-color: var(--brand);
            box-shadow: 0 0 0 4px rgba(73, 185, 255, 0.25);
        }

        .inventory-reference-group {
            margin-top: 16px;
        }

        /* –°–≤–µ—Ä–Ω—É—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ä–∞–∑–≤–æ—Ä–æ—Ç –ø–æ –∫–ª–∏–∫—É (–≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ–º) */
        .inventory-reference-group-title::after {
            content: '‚ñ∏';
            opacity: 0.8;
            transform: translateY(-1px);
        }

        .inventory-reference-group.open .inventory-reference-group-title::after {
            content: '‚ñæ';
        }

        .inventory-reference-group .inventory-reference-grid {
            display: none;
        }

        .inventory-reference-group.open .inventory-reference-grid {
            display: grid;
        }

        .inventory-reference-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 14px;
        }

        .inventory-reference-card {
            background: rgba(73, 185, 255, 0.06);
            border-radius: 12px;
            padding: 14px 14px 12px;
            border-left: 4px solid var(--brand);
            transition: transform 0.2s ease, background 0.2s ease;
        }

        .inventory-reference-card:hover {
            background: rgba(73, 185, 255, 0.09);
            transform: translateY(-2px);
        }

        .inventory-reference-card-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 800;
            color: var(--text);
            margin-bottom: 6px;
        }

        .inventory-reference-card-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.45;
        }

        .inventory-reference-hint {
            margin-top: 10px;
            color: var(--text-secondary);
            font-size: 0.85rem;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            .inventory-search {
                width: 100%;
                min-width: 100%;
            }
        }

        /* –†–ï–ó–£–õ–¨–¢–ê–¢–´ - –û–ë–ù–û–í–õ–ï–ù–ù–´–ô –°–¢–ò–õ–¨ */
        .results-section {
            margin-top: 35px;
            padding: 25px;
            background: rgba(73, 185, 255, 0.05);
            border-radius: 14px;
            border: 1px solid rgba(73, 185, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .results-title {
            font-size: 1.5rem;
            margin-bottom: 18px;
            background: linear-gradient(90deg, var(--brand-dark) 0%, var(--brand) 45%, var(--brand-light) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .results-container {
            min-height: 120px;
            padding: 25px;
            background: rgba(73, 185, 255, 0.03);
            border-radius: 12px;
            border: 1px solid rgba(73, 185, 255, 0.08);
        }
        
        /* –°–¢–ò–õ–¨ –î–õ–Ø –ò–ù–§–û–†–ú–ê–¶–ò–ò –û –ö–ê–†–¢–ï */
        .card-info-container {
            padding: 20px;
        }
        
        .card-info-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(73, 185, 255, 0.1);
        }
        
        .card-info-emoji {
            font-size: 2.5rem;
        }
        
        .card-info-name {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text);
        }
        
        .card-info-type {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .type-normal {
            background: rgba(73, 185, 255, 0.2);
            color: var(--brand-light);
            border: 1px solid rgba(73, 185, 255, 0.3);
        }
        
        .type-activation {
            background: rgba(141, 225, 255, 0.2);
            color: #b3e8ff;
            border: 1px solid rgba(141, 225, 255, 0.3);
        }
        
        .type-violation {
            background: rgba(245, 158, 11, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }
        
        .type-danger {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        
        .type-super {
            background: rgba(245, 158, 11, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }
        
        .card-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .card-info-box {
            background: rgba(73, 185, 255, 0.05);
            border-radius: 12px;
            padding: 18px;
            border: 1px solid rgba(73, 185, 255, 0.08);
        }
        
        .card-info-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--brand);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .card-info-content {
            color: var(--text);
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .card-formula-box {
            background: rgba(73, 185, 255, 0.1);
            border-radius: 12px;
            padding: 18px;
            margin-top: 20px;
            border-left: 4px solid var(--brand);
        }
        
        .card-formula-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--brand);
            margin-bottom: 12px;
        }
        
        .card-formula {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.3);
            padding: 12px;
            border-radius: 8px;
            font-size: 1rem;
            color: var(--text);
            margin-bottom: 10px;
        }
        
        .card-removes-box, .card-protected-box {
            background: rgba(16, 185, 129, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin-top: 15px;
            border-left: 4px solid var(--success);
        }
        
        .card-cannot-box {
            background: rgba(239, 68, 68, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin-top: 15px;
            border-left: 4px solid var(--error);
        }
        
        .card-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .card-tag {
            padding: 6px 12px;
            background: rgba(73, 185, 255, 0.1);
            border-radius: 20px;
            font-size: 0.85rem;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: var(--text);
        }
        
        /* –§–£–¢–ï–† */
        .footer {
            text-align: center;
            padding: 25px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        /* –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø */
        .notification {
            position: fixed;
            top: 25px;
            right: 25px;
            padding: 18px 24px;
            background: linear-gradient(145deg, var(--card-bg) 0%, #1a2337 100%);
            border-radius: 10px;
            border-left: 5px solid;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
            z-index: 1000;
            max-width: 380px;
            transform: translateX(150%);
            transition: transform 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid var(--card-border);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            border-left-color: var(--success);
        }
        
        .notification.warning {
            border-left-color: var(--warning);
        }
        
        .notification.error {
            border-left-color: var(--error);
        }
        
        .notification.info {
            border-left-color: var(--brand);
        }
        
        /* –°–¢–ò–õ–ò –î–õ–Ø –ê–í–¢–û–õ–ï–ù–¨ */
        .autolent-section {
            background: linear-gradient(145deg, var(--card-bg) 0%, #1a2337 100%);
            border: 2px solid var(--card-border);
            border-radius: 16px;
            padding: 24px;
            width: 100%;
            margin-bottom: 24px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25);
        }
        
        .autolent-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .autolent-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .autolent-title {
            font-size: 1.5rem;
            background: linear-gradient(90deg, var(--brand-dark) 0%, var(--brand) 45%, var(--brand-light) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
        }
        
        .autolent-subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
        }
        
        .autolent-input-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .autolent-file-input-wrapper {
            position: relative;
            text-align: center;
        }
        
        .autolent-file-label {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 24px;
            background: linear-gradient(90deg, var(--brand-dark) 0%, var(--brand) 45%, var(--brand-light) 100%);
            color: white;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            margin-bottom: 12px;
            border: none;
            box-shadow: 0 4px 16px rgba(73, 185, 255, 0.3);
        }
        
        .autolent-file-label:hover {
            background: linear-gradient(90deg, #1a7ae0 0%, #3aa3ff 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(73, 185, 255, 0.4);
        }
        
        .autolent-file-input {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
        
        .autolent-textarea {
            width: 100%;
            min-height: 220px;
            padding: 18px;
            background: var(--dropdown-bg);
            border: 2px solid var(--dropdown-border);
            border-radius: 12px;
            color: var(--select-text);
            font-size: 1rem;
            resize: vertical;
            font-family: inherit;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .autolent-textarea:focus {
            outline: none;
            border-color: var(--brand);
            box-shadow: 0 0 0 4px rgba(73, 185, 255, 0.25);
        }
        
        .autolent-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .autolent-btn {
            flex: 1;
            min-width: 140px;
            padding: 16px 20px;
            background: var(--dropdown-bg);
            border: 1px solid var(--dropdown-border);
            border-radius: 10px;
            color: var(--select-text);
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            backdrop-filter: blur(10px);
            font-weight: 500;
        }
        
        .autolent-btn:hover {
            background: rgba(73, 185, 255, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(73, 185, 255, 0.2);
        }
        
        .autolent-btn.primary {
            background: linear-gradient(90deg, var(--brand-dark) 0%, var(--brand) 100%);
            color: white;
            border-color: var(--brand);
        }
        
        .autolent-btn.danger {
            background: linear-gradient(90deg, var(--error) 0%, #dc2626 100%);
            color: white;
            border-color: #dc2626;
        }
        
        .autolent-btn.success {
            background: linear-gradient(90deg, var(--success) 0%, #059669 100%);
            color: white;
            border-color: #059669;
        }
        
        .autolent-upload-info {
            display: none;
            align-items: center;
            justify-content: space-between;
            padding: 14px 20px;
            background: rgba(16, 185, 129, 0.15);
            border-radius: 10px;
            border: 1px solid var(--success);
            margin-top: 10px;
            backdrop-filter: blur(10px);
        }
        
        .autolent-upload-info.visible {
            display: flex;
        }
        
        .autolent-upload-text {
            font-size: 0.9rem;
            color: #86efac;
        }
        
        .autolent-close-upload {
            background: none;
            border: none;
            color: #f87171;
            font-size: 20px;
            cursor: pointer;
            padding: 0;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }
        
        .autolent-close-upload:hover {
            background: rgba(239, 68, 68, 0.2);
        }
        
        .autolent-quick-download {
            margin-top: 25px;
            padding: 20px;
            background: rgba(73, 185, 255, 0.07);
            border-radius: 12px;
            text-align: center;
            display: none;
            border: 1px solid rgba(73, 185, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .autolent-quick-download.visible {
            display: block;
        }
        
        .autolent-user-selector {
            margin: 25px 0;
            padding: 20px;
            background: rgba(73, 185, 255, 0.05);
            border-radius: 12px;
            display: none;
            border: 1px solid rgba(73, 185, 255, 0.08);
        }
        
        .autolent-user-selector.visible {
            display: block;
        }
        
        .autolent-user-selector label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            color: var(--brand);
            font-size: 1.05rem;
        }
        
        .autolent-user-selector select {
            width: 100%;
            padding: 14px;
            background: var(--dropdown-bg);
            color: var(--select-text);
            border: 2px solid var(--dropdown-border);
            border-radius: 10px;
            font-size: 1rem;
            backdrop-filter: blur(10px);
        }
        
        .autolent-results {
            margin-top: 25px;
            display: none;
        }
        
        .autolent-results.visible {
            display: block;
        }
        
        .autolent-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 16px;
            margin-bottom: 25px;
        }
        
        .autolent-stat-box {
            background: rgba(73, 185, 255, 0.07);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(73, 185, 255, 0.12);
            backdrop-filter: blur(10px);
            transition: transform 0.3s;
        }
        
        .autolent-stat-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(73, 185, 255, 0.15);
        }
        
        .autolent-stat-value {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--brand);
            margin-bottom: 6px;
        }
        
        .autolent-stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        
        .autolent-cards-detail {
            margin: 25px 0;
            padding: 20px;
            background: rgba(73, 185, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(73, 185, 255, 0.08);
        }
        
        .autolent-cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }
        
        .autolent-card-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 16px;
            background: rgba(73, 185, 255, 0.07);
            border-radius: 10px;
            border-left: 5px solid var(--brand);
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }
        
        .autolent-card-item:hover {
            background: rgba(73, 185, 255, 0.1);
            transform: translateX(4px);
        }
        
        .autolent-card-emoji {
            font-size: 1.4rem;
            margin-right: 12px;
        }
        
        .autolent-card-name {
            flex-grow: 1;
            font-weight: 500;
            font-size: 0.95rem;
            color: var(--text);
        }
        
        .autolent-card-count {
            font-weight: 800;
            color: var(--brand);
            font-size: 1.1rem;
        }
        
        .autolent-users-section {
            margin-top: 25px;
        }
        
        .autolent-user-card {
            background: rgba(73, 185, 255, 0.07);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 6px solid var(--brand);
            transition: transform 0.3s;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(73, 185, 255, 0.1);
        }
        
        .autolent-user-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(73, 185, 255, 0.2);
        }
        
        .autolent-user-name {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--text);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .autolent-user-card-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(73, 185, 255, 0.12);
        }
        
        .autolent-user-card-item:last-child {
            border-bottom: none;
        }
        
        .autolent-user-card-name {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            color: var(--text);
        }
        
        .autolent-user-card-count {
            font-weight: 800;
            color: var(--brand);
            font-size: 1.1rem;
        }
        
        .autolent-reference-section {
            margin-top: 25px;
            padding: 25px;
            background: rgba(73, 185, 255, 0.07);
            border-radius: 12px;
            display: none;
            border: 1px solid rgba(73, 185, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .autolent-reference-section.visible {
            display: block;
        }
        
        .autolent-category {
            margin-bottom: 25px;
        }
        
        .autolent-category h4 {
            color: var(--brand);
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 2px solid rgba(73, 185, 255, 0.2);
            font-size: 1.2rem;
        }
        
        .autolent-card-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .autolent-card-tag {
            padding: 8px 16px;
            background: rgba(73, 185, 255, 0.2);
            border-radius: 24px;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            border: 1px solid rgba(73, 185, 255, 0.3);
            transition: all 0.3s;
            color: var(--text);
        }
        
        .autolent-card-tag:hover {
            background: rgba(73, 185, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .autolent-formula-list {
            margin-top: 25px;
            padding: 20px;
            background: rgba(73, 185, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(73, 185, 255, 0.08);
        }
        
        .autolent-formula-item {
            margin-bottom: 10px;
            padding: 10px;
            border-left: 4px solid var(--success);
            font-size: 0.95rem;
            background: rgba(73, 185, 255, 0.03);
            border-radius: 0 8px 8px 0;
            color: var(--text);
        }
        
        .autolent-formula-result {
            font-weight: 800;
            color: var(--brand);
        }
        
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 768px) {
            .autolent-buttons {
                flex-direction: column;
            }
            
            .autolent-btn {
                width: 100%;
            }
            
            .autolent-cards-grid {
                grid-template-columns: 1fr;
            }
            
            .autolent-stats {
                grid-template-columns: 1fr 1fr;
            }
            
            .main-header h1 {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
            
            .calculator-section {
                padding: 20px;
            }
            
            .mode-btn {
                padding: 12px 20px;
                font-size: 0.95rem;
                min-width: 120px;
            }
            
            .inventory-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .inventory-select, 
            .inventory-input, 
            .inventory-btn {
                width: 100%;
                max-width: 300px;
            }
            
            .card-info-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .autolent-stats {
                grid-template-columns: 1fr;
            }
            
            .main-header h1 {
                font-size: 1.8rem;
            }
            
            .container {
                padding: 10px;
            }
            
            .main-header,
            .calculator-section {
                padding: 20px 16px;
            }
            
            .mode-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .mode-btn {
                width: 100%;
                max-width: 250px;
            }
            
            .card-info-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .autolent-card-item,
        .autolent-user-card,
        .autolent-stat-box,
        .inventory-item,
        .card-info-box {
            animation: fadeIn 0.4s ease-out forwards;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--card-bg);
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--brand-dark) 0%, var(--brand) 100%);
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, var(--brand) 0%, var(--brand-light) 100%);
        }
    
    /* UI: –∫—Ä—É–ø–Ω–∞—è –∫–æ—Å—Ç—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –≥—Ä—É–ø–ø—ã '–°—É–ø–µ—Ä –ö–∞—Ä—Ç—ã' */
    .group-emoji{font-size:1.4em; line-height:1; margin-right:8px; display:inline-block;}

        /* –ê–≤—Ç–æ–õ–µ–Ω—å: VIP –±–ª–æ–∫ —Å—Å—ã–ª–æ–∫ (—á–∏—Ç–∞–±–µ–ª—å–Ω–µ–µ) */
        .vip-links-box{
            margin-top:14px;
            padding:14px 16px;
            border-radius:14px;
            border:1px solid var(--brand-border);
            background:linear-gradient(180deg, rgba(73,185,255,0.12), rgba(30,41,59,0.25));
            box-shadow:0 8px 24px rgba(0,0,0,0.25);
        }
        .vip-links-title{
            font-weight:800;
            color:var(--text-bright);
            margin-bottom:6px;
        }
        .vip-links-text{
            color:var(--text-secondary);
            font-size:0.92rem;
            margin-bottom:10px;
            line-height:1.35;
        }
        .vip-links{
            display:flex;
            gap:10px;
            flex-wrap:wrap;
        }
        .vip-links a{
            display:inline-flex;
            align-items:center;
            justify-content:center;
            padding:8px 12px;
            border-radius:999px;
            border:1px solid var(--brand-border);
            background:rgba(73,185,255,0.10);
            color:var(--text-bright);
            text-decoration:none;
            font-weight:700;
            font-size:0.9rem;
            transition:transform .15s ease, background .15s ease;
        }
        .vip-links a:hover{
            transform:translateY(-1px);
            background:rgba(73,185,255,0.18);
        }

        /* –ê–≤—Ç–æ–õ–µ–Ω—å: —Å–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–ª–Ω–æ—Å—Ç—å—é (–ø–æ –¢–ó) */
        #autolentStats, .autolent-cards-detail{
            display:none !important;
        }

    
/* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∫–∞–∫ —É "–°—É–ø–µ—Ä –ö–∞—Ä—Ç—ã" */
/* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∫–∞–∫ —É "–°—É–ø–µ—Ä –ö–∞—Ä—Ç—ã" */
/* –ü—Ä–∏–º–µ–Ω—è–µ–º —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ –≤—Å–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∞–º –≥—Ä—É–ø–ø –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ –∫–∞—Ä—Ç */
.card-category-header {
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.inventory-reference-group-title {
    color: var(--brand);
    font-weight: 700;
    margin: 10px 0 12px;
    padding-bottom: 8px;
    border-bottom: 1px solid rgba(73, 185, 255, 0.12);
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}




/* Buttons (basic bootstrap-like helpers) */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:.4rem;padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700;user-select:none}
.btn:disabled{opacity:.6;cursor:not-allowed}
.btn-secondary{background:rgba(73,185,255,.16);color:var(--brand);border:1px solid rgba(73,185,255,.25)}
.btn-secondary:hover{background:rgba(73,185,255,.22)}

.tg-load-status{margin-top:8px;font-size:13px;opacity:.9}
</style>
</head>

<body>
  <div class="container">
    <header class="main-header">
      <h1>üÉè –ö–∞–ø–∏—Ç–∞–ª–∏–∑–º –∏ –ö–æ–º–º—É–Ω–∏–∑–º</h1>
      <p class="subtitle">–†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–∞—Ä—Ç –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è</p>
      <div class="time-display" id="moscowTime">
        <span>üïê</span>–ú–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è: <span id="timeDisplay">00:00:00</span>
      </div>
      <div class="night-warning" id="nightWarning">‚ö†Ô∏è –ü–æ—Å–ª–µ 23:00 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è —ç—Ñ–∏—Ä–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–æ!</div>
    </header>

    <section class="calculator-section">
      <h2 class="section-title">üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫</h2>

      <div class="mode-selector">
        <button class="mode-btn active" id="modeInventoryBtn">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
        <button class="mode-btn" id="modeParserBtn">–ê–≤—Ç–æ–õ–µ–Ω—å</button>
        <button class="mode-btn" id="modeCardInfoBtn">–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</button>
      </div>

      <!-- Inventory -->
      <div class="mode-content active" id="contentInventory">
        <div class="inventory-container">
          <h3 class="inventory-title">–†–µ–∂–∏–º "–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å"</h3>
          <p class="inventory-subtitle">–î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–∞—Ä—Ç—ã –≤—Ä—É—á–Ω—É—é –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞</p>
          
          <div class="inventory-reference" id="inventoryReference">
            <div class="inventory-reference-header">
              <div class="inventory-reference-title">üìã –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–∞—Ä—Ç</div>
              <input type="text" class="inventory-search" id="inventorySearch" placeholder="–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –∫–∞—Ä—Ç—ã (–Ω–∞–∑–≤–∞–Ω–∏–µ –∏–ª–∏ —ç–º–æ–¥–∑–∏)...">
            </div>
            <div class="inventory-reference-hint">–ü–æ–¥—Å–∫–∞–∑–∫–∞: –∫–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–µ –¥–æ–±–∞–≤–∏—Ç 1 —à—Ç. –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å.</div>
            <div id="inventoryReferenceGroups"></div>
          </div>
          
          <div class="inventory-controls">
            <select class="inventory-select" id="inventoryCardSelect">
              <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É</option>
              <optgroup label="üÄÑÔ∏è –û–±—ã—á–Ω—ã–µ –∫–∞—Ä—Ç—ã">
                <option value="–ö–æ–º–∏—Å—Å–∏—è">üîò –ö–æ–º–∏—Å—Å–∏—è</option>
                <option value="–°–µ—Ä–∞—è">‚òëÔ∏è –°–µ—Ä–∞—è</option>
                <option value="–°–∏–Ω—è—è">üü¶ –°–∏–Ω—è—è</option>
                <option value="–ó–µ–ª—ë–Ω–∞—è">üü© –ó–µ–ª—ë–Ω–∞—è</option>
                <option value="–ë–µ–ª–∞—è">‚¨úÔ∏è –ë–µ–ª–∞—è</option>
                <option value="–ó–æ–ª–æ—Ç–∞—è">üüß –ó–æ–ª–æ—Ç–∞—è</option>
                <option value="–ò–∑—É–º—Ä—É–¥–Ω–∞—è">üíé –ò–∑—É–º—Ä—É–¥–Ω–∞—è</option>
                <option value="–†—É–±–∏–Ω–æ–≤–∞—è">üö® –†—É–±–∏–Ω–æ–≤–∞—è</option>
              </optgroup>
              <optgroup label="üé¥ –ö–∞—Ä—Ç—ã –ê–∫—Ç–∏–≤–∞—Ü–∏–π">
                <option value="–ú–∞–≥–Ω–∏—Ç">‚ìÇÔ∏è –ú–∞–≥–Ω–∏—Ç</option>
                <option value="–ë–∏—Ç–∞">üÖ±Ô∏è –ë–∏—Ç–∞</option>
                <option value="–°—Ç—Ä–∞—à–Ω—ã–π –°—É–¥">‚ôéÔ∏è –°—Ç—Ä–∞—à–Ω—ã–π –°—É–¥</option>
                <option value="–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä">‚ôªÔ∏èüé¥ –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</option>
                <option value="–î–∂–æ–∫–µ—Ä">üÉè –î–∂–æ–∫–µ—Ä</option>
                <option value="–ü–∞—Ü–∏—Ñ–∏–∫">‚òÆÔ∏è –ü–∞—Ü–∏—Ñ–∏–∫</option>
                <option value="–ü–µ—Ä–≥–∞–º–µ–Ω—Ç">üìú –ü–µ—Ä–≥–∞–º–µ–Ω—Ç</option>
                <option value="–ê–Ω—Ç–∏—ç–∫—Ä–∞–Ω">üöæ –ê–Ω—Ç–∏—ç–∫—Ä–∞–Ω</option>
                <option value="–ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è">üî≤ –ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è</option>
                <option value="–†–∞–¥—É–∂–Ω–∞—è">üåà –†–∞–¥—É–∂–Ω–∞—è</option>
                <option value="–ö–∞—Ä—Ç–∞ –ö–æ–Ω—Ç–µ–Ω—Ç–∞">üé¶ –ö–∞—Ä—Ç–∞ –ö–æ–Ω—Ç–µ–Ω—Ç–∞</option>
                <option value="–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞">üéπ –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞</option>
              </optgroup>
            </select>
            
            <input type="number" class="inventory-input" id="inventoryCardCount" min="1" max="999" value="1" placeholder="–ö–æ–ª-–≤–æ">
            
            <button class="inventory-btn" id="inventoryAddBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
          
          <div class="inventory-list" id="inventoryList">
            <div class="empty-inventory">
              <div class="empty-inventory-emoji">üì≠</div>
              <p>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</p>
              <p style="font-size: 0.9rem; margin-top: 8px;">–î–æ–±–∞–≤—å—Ç–µ –∫–∞—Ä—Ç—ã —Å –ø–æ–º–æ—â—å—é —Ñ–æ—Ä–º—ã –≤—ã—à–µ</p>
            </div>
          </div>
          
          <div class="inventory-summary" id="inventorySummary" style="display: none;">
            <div class="inventory-total">–í—Å–µ–≥–æ –∫–∞—Ä—Ç: <span id="inventoryTotalCount">0</span></div>
            <button class="inventory-clear-btn" id="inventoryClearBtn">–û—á–∏—Å—Ç–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
          </div>
        </div>
      </div>

      <!-- Autolent (Parser) -->
      <div class="mode-content" id="contentParser">
        <div class="autolent-section">
<button type="button" id="loadFromTelegramBtn" class="btn btn-secondary"  aria-label="–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ—Å—Ç –∏–∑ Telegram">üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ Telegram</button>
<div id="tgLoadStatus" class="tg-load-status"></div>

          <div class="autolent-header">
            <h2 class="autolent-title">üé≤ –ê–≤—Ç–æ–õ–µ–Ω—å - –ü–∞—Ä—Å–µ—Ä –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è PRO</h2>
            <p class="autolent-subtitle">–í—Å—Ç–∞–≤—å—Ç–µ –ø–æ—Å—Ç—ã —Å–æ —Å–ø–∏—Å–∫–æ–º –∫–∞—Ä—Ç–æ—á–µ–∫ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</p>
          
          <div class="vip-links-box" id="vipLinksBox">
            <div class="vip-links-title">üîí –¢–æ–ª—å–∫–æ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –í–ò–ü —á–∞—Ç–∞</div>
            <div class="vip-links-text">–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–∞–º –Ω–∏–∂–µ, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ–±–∞ –ø–æ—Å—Ç–∞ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –∏—Ö –≤ —ç—Ç–æ –æ–∫–Ω–æ.</div>
            <div class="vip-links">
              <a href="https://t.me/c/2387324636/20536" target="_blank" rel="noopener">–ü–æ—Å—Ç 20536</a>
              <a href="https://t.me/c/2387324636/20535" target="_blank" rel="noopener">–ü–æ—Å—Ç 20535</a>
            </div>
          </div>
</div>
          
          <div class="autolent-input-container">
            <div class="autolent-file-input-wrapper">
              <label class="autolent-file-label">
                üìÅ –í—ã–±—Ä–∞—Ç—å TXT —Ñ–∞–π–ª
                <input type="file" id="autolentFileInput" class="autolent-file-input" accept=".txt,text/plain">
              </label>
            </div>
            
            <div class="autolent-upload-info" id="autolentUploadInfo">
              <span class="autolent-upload-text" id="autolentUploadInfoText"></span>
              <button class="autolent-close-upload" id="autolentClearUploadInfo">‚úï</button>
            </div>
            
            <textarea class="autolent-textarea" id="autolentText" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ —Ç–µ–∫—Å—Ç —Å –ø–æ—Å—Ç–∞–º–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º–∏ —Å–ø–∏—Å–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫..."></textarea>
            
            <div class="autolent-buttons">
              <button class="autolent-btn primary" id="autolentParseBtn">
                üîç –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç
              </button>
              <button class="autolent-btn danger" id="autolentClearBtn">
                üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ
              </button>
            </div>
            
            <div class="autolent-quick-download" id="autolentQuickDownload">
              <h3 style="margin-bottom: 12px;"></h3>
              <div class="autolent-buttons">
                <button class="autolent-btn success" id="autolentDownloadSelectedBtn">
                  üì• –°–∫–∞—á–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ
                </button>
                <button class="autolent-btn success" id="autolentDownloadAllBtn">
                  üì• –°–∫–∞—á–∞—Ç—å –í–°–ï–• (TXT)
                </button>
              </div>
            </div>
            
            <div class="autolent-user-selector" id="autolentUserSelector">
              <label for="autolentUserSelect">üîç –ö—Ç–æ —Ç—ã –≤–æ–µ–Ω?</label>
              <select id="autolentUserSelect">
                <option value="">-- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ --</option>
              </select>
            </div>
          </div>
          
          <div class="autolent-results" id="autolentResults">
            <h3 style="margin-bottom: 16px;">üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞</h3>
            
            <div class="autolent-stats" id="autolentStats">
              <div class="autolent-stat-box">
                <div class="autolent-stat-value" id="autolentTotalUsers">0</div>
                <div class="autolent-stat-label">–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
              </div>
            </div>
            
            <div class="autolent-cards-detail">
              <h4 style="color: var(--brand); margin-bottom: 12px;">üìä –ö–∞—Ä—Ç—ã –ø–æ —Ç–∏–ø–∞–º</h4>
              <div class="autolent-cards-grid" id="autolentCardsGrid"></div>
            </div>
            
            <div class="autolent-users-section">
              <h4 style="color: var(--brand); margin-bottom: 12px;" id="autolentResultsTitle">üë§ –ö–∞—Ä—Ç—ã –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</h4>
              <div id="autolentUserResults"></div>
            </div>
          </div>
          
          <div class="autolent-reference-section" id="autolentReferenceSection">
            <h3 style="margin-bottom: 16px;">üìö –ü–∞–º—è—Ç–∫–∞ –ø–æ –∫–∞—Ä—Ç–∞–º "–ö–∞–ø–∏—Ç–∞–ª–∏–∑–º –∏ –ö–æ–º–º—É–Ω–∏–∑–º"</h3>
            
            <div class="autolent-category">
              <h4>üé¥ –ö–ê–†–¢–´ –ê–ö–¢–ò–í–ê–¶–ò–ô (–û—Å–æ–±—ã–µ)</h4>
              <div class="autolent-card-list">
                <span class="autolent-card-tag">üö® –†—É–±–∏–Ω–æ–≤–∞—è</span>
                <span class="autolent-card-tag">‚ìÇÔ∏è –ú–∞–≥–Ω–∏—Ç</span>
                <span class="autolent-card-tag">üÖ±Ô∏è –ë–∏—Ç–∞</span>
                <span class="autolent-card-tag">‚ôéÔ∏è –°—Ç—Ä–∞—à–Ω—ã–π –°—É–¥</span>
                <span class="autolent-card-tag">‚ôªÔ∏è –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</span>
                <span class="autolent-card-tag">üÉè –î–∂–æ–∫–µ—Ä</span>
                <span class="autolent-card-tag">‚òÆÔ∏è –ü–∞—Ü–∏—Ñ–∏–∫</span>
                <span class="autolent-card-tag">üìú –ü–µ—Ä–≥–∞–º–µ–Ω—Ç</span>
                <span class="autolent-card-tag">üöæ –ê–Ω—Ç–∏—ç–∫—Ä–∞–Ω</span>
                <span class="autolent-card-tag">üî≤ –ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è</span>
                <span class="autolent-card-tag">üåà –†–∞–¥—É–∂–Ω–∞—è</span>
                <span class="autolent-card-tag">üé¶ –ö–∞—Ä—Ç–∞ –ö–æ–Ω—Ç–µ–Ω—Ç–∞</span>
                <span class="autolent-card-tag">üéπ –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞</span>
              </div>
            </div>
            
            <div class="autolent-category">
              <h4>üÄÑÔ∏è –û–ë–´–ß–ù–´–ï –ö–ê–†–¢–´ (–ë–∞–∑–æ–≤—ã–µ)</h4>
              <div class="autolent-card-list">
                <span class="autolent-card-tag">üîò –ö–æ–º–∏—Å—Å–∏—è</span>
                <span class="autolent-card-tag">‚òëÔ∏è –°–µ—Ä–∞—è</span>
                <span class="autolent-card-tag">üü¶ –°–∏–Ω—è—è</span>
                <span class="autolent-card-tag">üü© –ó–µ–ª—ë–Ω–∞—è</span>
                <span class="autolent-card-tag">‚¨úÔ∏è –ë–µ–ª–∞—è</span>
                <span class="autolent-card-tag">üüß –ó–æ–ª–æ—Ç–∞—è</span>
                <span class="autolent-card-tag">üíé –ò–∑—É–º—Ä—É–¥–Ω–∞—è</span>
              </div>
            </div>
            
            <div class="autolent-category">
              <h4>üßß –ö–ê–†–¢–´ –ù–ê–†–£–®–ï–ù–ò–ô (–®—Ç—Ä–∞—Ñ–Ω—ã–µ)</h4>
              <div class="autolent-card-list">
                <span class="autolent-card-tag">üü™ –†–æ–∑–æ–≤–∞—è</span>
                <span class="autolent-card-tag">üü• –ö—Ä–∞—Å–Ω–∞—è</span>
                <span class="autolent-card-tag">üü® –ñ—ë–ª—Ç–∞—è</span>
                <span class="autolent-card-tag">‚¨õÔ∏è –ß—ë—Ä–Ω–∞—è</span>
                <span class="autolent-card-tag">üü´ –ö–æ—Ä–∏—á–Ω–µ–≤–∞—è</span>
                <span class="autolent-card-tag">üÖæÔ∏è –û–±–Ω—É–ª–µ–Ω–∏–µ</span>
                <span class="autolent-card-tag">üí† –ó–∞–º–æ—Ä–æ–∑–∫–∞</span>
              </div>
            </div>
            
            <div class="autolent-category">
              <h4>üì± –û–ü–ê–°–ù–´–ï –ö–ê–†–¢–´ (–†–µ–¥–∫–∏–µ)</h4>
              <div class="autolent-card-list">
                <span class="autolent-card-tag">‚ö´Ô∏è –ë–∞–Ω–∫—Ä–æ—Ç</span>
                <span class="autolent-card-tag">üí£ –≠–∫—Å—Ç–µ—Ä–º–∏–Ω–∞—Ç—É—Å</span>
              </div>
            </div>
            
            <h4 style="color: var(--brand); margin: 20px 0 12px 0;">üßÆ –ú–ê–¢–ï–ú–ê–¢–ò–ö–ê –ö–ê–†–¢ (–æ—Å–Ω–æ–≤–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è):</h4>
            
            <div class="autolent-formula-list">
              <div class="autolent-formula-item">
                <span class="autolent-formula-result">1 üö® –†—É–±–∏–Ω–æ–≤–∞—è</span> = 3 üíé –ò–∑—É–º—Ä—É–¥–Ω—ã—Ö
              </div>
              <div class="autolent-formula-item">
                <span class="autolent-formula-result">1 üíé –ò–∑—É–º—Ä—É–¥–Ω–∞—è</span> = 2 üüß –ó–æ–ª–æ—Ç—ã—Ö
              </div>
              <div class="autolent-formula-item">
                <span class="autolent-formula-result">1 üüß –ó–æ–ª–æ—Ç–∞—è</span> = 2 ‚¨úÔ∏è –ë–µ–ª—ã—Ö
              </div>
              <div class="autolent-formula-item">
                <span class="autolent-formula-result">1 ‚¨úÔ∏è –ë–µ–ª–∞—è</span> = 2 üü© –ó–µ–ª–µ–Ω—ã—Ö
              </div>
              <div class="autolent-formula-item">
                <span class="autolent-formula-result">1 üü© –ó–µ–ª—ë–Ω–∞—è</span> = 2 üü¶ –°–∏–Ω–∏—Ö
              </div>
              <div class="autolent-formula-item">
                <span class="autolent-formula-result">1 üü¶ –°–∏–Ω—è—è</span> = 3 ‚òëÔ∏è –°–µ—Ä—ã—Ö
              </div>
              <div class="autolent-formula-item">
                <span class="autolent-formula-result">1 ‚òëÔ∏è –°–µ—Ä–∞—è</span> = 2 üîò –ö–æ–º–∏—Å—Å–∏–∏
              </div>
              <div class="autolent-formula-item" style="font-weight: bold; border-left-color: var(--brand);">
                <span class="autolent-formula-result">–ò–¢–û–ì–û: 1 üö® = 288 üîò</span>
              </div>
            </div>
            
            <div class="autolent-formula-list">
              <h5>‚öôÔ∏è –ú–ï–•–ê–ù–ò–ö–ê –°–™–Å–ú–ê –ö–ê–†–¢:</h5>
              <div class="autolent-formula-item">‚òëÔ∏è –°–Ω–∏–º–∞–µ—Ç üü™</div>
              <div class="autolent-formula-item">üü¶ –°–Ω–∏–º–∞–µ—Ç üü®</div>
              <div class="autolent-formula-item">üü© –°–Ω–∏–º–∞–µ—Ç üü•</div>
              <div class="autolent-formula-item">‚¨úÔ∏è –°–Ω–∏–º–∞–µ—Ç ‚¨õÔ∏è –∏ üü´</div>
              <div class="autolent-formula-item">‚òÆÔ∏è –°–Ω–∏–º–∞–µ—Ç üü´ –∏ üÖæÔ∏è</div>
              <div class="autolent-formula-item">üÉè –°–Ω–∏–º–∞–µ—Ç üöæ</div>
              <div class="autolent-formula-item">üî≤ –°–Ω–∏–º–∞–µ—Ç üíé</div>
              <div class="autolent-formula-item">üè≥Ô∏è‚Äçüåà –°–Ω–∏–º–∞–µ—Ç üÖæÔ∏è</div>
            </div>
            
            <div class="autolent-formula-list">
              <h5>üîß –§–û–†–ú–£–õ–´ –°–ë–û–†–ö–ò –ö–ê–†–¢ (–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥):</h5>
              <div class="autolent-formula-item"><span class="autolent-formula-result">üü™</span> = ‚òëÔ∏è + ‚òëÔ∏è</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">üü¶</span> = ‚òëÔ∏è + ‚òëÔ∏è + ‚òëÔ∏è</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">üü©</span> = üü¶ + üü¶</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">‚¨úÔ∏è</span> = üü© + üü©</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">üüß</span> = ‚¨úÔ∏è + ‚¨úÔ∏è</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">üíé</span> = üüß + üüß</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">üÉè</span> = üü© + ‚òëÔ∏è</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">‚òÆÔ∏è</span> = üü© + üü¶</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">üìú</span> = üü¶ + ‚òëÔ∏è</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">üöæ</span> = ‚òëÔ∏è + ‚òëÔ∏è</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">üé¶</span> = üüß + ‚¨úÔ∏è + ‚òëÔ∏è</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">üéπ</span> = ‚¨úÔ∏è + ‚òëÔ∏è</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">üè≥Ô∏è‚Äçüåà</span> = üíé + üüß√ó3 + ‚¨úÔ∏è + ‚òÆÔ∏è + üü© + üü¶ + üìú + ‚òëÔ∏è</div>
              <div class="autolent-formula-item"><span class="autolent-formula-result">üÖ±Ô∏è</span> = üî≤ + üè≥Ô∏è‚Äçüåà + üö® + üíé + üüß + ‚¨úÔ∏è + üé¶ + üéπ + üÉè + üöæ + üìú + ‚òÆÔ∏è + üü© + üü¶ + ‚òëÔ∏è</div>
            </div>
            
            <div class="autolent-formula-list">
              <h5>‚ö°Ô∏è –û–°–û–ë–´–ï –ú–ï–•–ê–ù–ò–ö–ò:</h5>
              <ul style="padding-left: 20px; margin-top: 10px; font-size: 0.9rem; color: var(--text);">
                <li><strong>‚ö°Ô∏èüßø –¢–í –ö–æ–ª–µ—Å–æ</strong> - –ø–æ–ª—É—á–∞–µ—Ç—Å—è –≤ –∞–∫—Ü–∏—è—Ö, —Ñ–ª–µ—à–º–æ–±–∞—Ö, –æ—Ç –≤–µ–¥—É—â–µ–≥–æ</li>
                <li><strong>‚ìÇÔ∏è –ú–∞–≥–Ω–∏—Ç</strong> - –∫—Ä–∞–¥—ë—Ç –∫–∞—Ä—Ç—ã —É –¥—Ä—É–≥–∏—Ö (3 –∫—Ä–∞–∂–∏ –∑–∞ –∏–≥—Ä—É)</li>
                <li><strong>‚ôéÔ∏è –°—Ç—Ä–∞—à–Ω—ã–π –°—É–¥</strong> - –∫—Ä–∞–¥—ë—Ç –í–°–ï –∫–∞—Ä—Ç—ã —É –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞</li>
                <li><strong>‚ôªÔ∏è –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</strong> - 10‚òëÔ∏è ‚Üí 10üßø</li>
                <li><strong>‚ö´Ô∏è –ë–∞–Ω–∫—Ä–æ—Ç</strong> - –∑–∞–±–∏—Ä–∞–µ—Ç –≤—Å–µ –∫–∞—Ä—Ç—ã, –µ—Å–ª–∏ –∫–∞–∑–Ω–∞ –ø—É—Å—Ç–∞ - —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –∫–∞—Ä—Ç—ã —É –¥—Ä—É–≥–æ–≥–æ</li>
                <li><strong>üí£ –≠–∫—Å—Ç–µ—Ä–º–∏–Ω–∞—Ç—É—Å</strong> - –∑–∞–≤–µ—Ä—à–∞–µ—Ç —ç—Ñ–∏—Ä, –¥–∞—ë—Ç üÖæÔ∏è –∏ 10üßø</li>
              </ul>
            </div>
            
            <div class="autolent-buttons" style="margin-top: 20px;">
              <button class="autolent-btn danger" id="autolentHideReferenceBtn">
                ‚úñÔ∏è –°–∫—Ä—ã—Ç—å –ø–∞–º—è—Ç–∫—É
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Card Info (–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π) -->
      <div class="mode-content" id="contentCardInfo">
        <div style="text-align: center; padding: 20px;">
          <h3 style="margin-bottom: 20px;">üìö –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ø–æ –∫–∞—Ä—Ç–∞–º</h3>
          <p style="color: var(--text-secondary); margin-bottom: 30px;">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –µ—ë —Å–≤–æ–π—Å—Ç–≤–∞—Ö, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –∏ —Å–±–æ—Ä–∫–µ</p>
          
          <select id="cardInfoSelect" style="max-width: 400px; margin: 0 auto 30px;">
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</option>
            <optgroup label="üÄÑÔ∏è –û–±—ã—á–Ω—ã–µ –∫–∞—Ä—Ç—ã">
              <option value="–ö–æ–º–∏—Å—Å–∏—è">üîò –ö–æ–º–∏—Å—Å–∏—è</option>
              <option value="–°–µ—Ä–∞—è">‚òëÔ∏è –°–µ—Ä–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–°–∏–Ω—è—è">üü¶ –°–∏–Ω—è—è –∫–∞—Ä—Ç–∞</option>
              <option value="–ó–µ–ª—ë–Ω–∞—è">üü© –ó–µ–ª—ë–Ω–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–ë–µ–ª–∞—è">‚¨úÔ∏è –ë–µ–ª–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–ó–æ–ª–æ—Ç–∞—è">üüß –ó–æ–ª–æ—Ç–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–ò–∑—É–º—Ä—É–¥–Ω–∞—è">üíé –ò–∑—É–º—Ä—É–¥–Ω–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–†—É–±–∏–Ω–æ–≤–∞—è">üö® –†—É–±–∏–Ω–æ–≤–∞—è –∫–∞—Ä—Ç–∞</option>
            </optgroup>
            <optgroup label="üé¥ –ö–∞—Ä—Ç—ã –ê–∫—Ç–∏–≤–∞—Ü–∏–π">
              <option value="–ú–∞–≥–Ω–∏—Ç">‚ìÇÔ∏è –ú–∞–≥–Ω–∏—Ç</option>
              <option value="–ë–∏—Ç–∞">üÖ±Ô∏è –ë–∏—Ç–∞</option>
              <option value="–°—Ç—Ä–∞—à–Ω—ã–π –°—É–¥">‚ôéÔ∏è –°—Ç—Ä–∞—à–Ω—ã–π –°—É–¥</option>
              <option value="–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä">‚ôªÔ∏èüé¥ –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</option>
              <option value="–î–∂–æ–∫–µ—Ä">üÉè –î—É—ç—Ç –î–∂–æ–∫–µ—Ä</option>
              <option value="–ü–∞—Ü–∏—Ñ–∏–∫">‚òÆÔ∏è –ü–∞—Ü–∏—Ñ–∏–∫</option>
              <option value="–ü–µ—Ä–≥–∞–º–µ–Ω—Ç">üìú –ü–µ—Ä–≥–∞–º–µ–Ω—Ç</option>
              <option value="–ê–Ω—Ç–∏—ç–∫—Ä–∞–Ω">üöæ –ê–Ω—Ç–∏—ç–∫—Ä–∞–Ω</option>
              <option value="–ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è">üî≤ –ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–†–∞–¥—É–∂–Ω–∞—è">üè≥Ô∏è‚Äçüåà –†–∞–¥—É–∂–Ω–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–ö–∞—Ä—Ç–∞ –ö–æ–Ω—Ç–µ–Ω—Ç–∞">üé¶ –ö–∞—Ä—Ç–∞ –ö–æ–Ω—Ç–µ–Ω—Ç–∞</option>
              <option value="–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞">üéπ –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–ö–æ—Å—Ç—å">üé≤üé¥ –ö–æ—Å—Ç—å</option>
              <option value="–†—É–±–∏–Ω–æ–≤–∞—è –ö–æ—Å—Ç—å">‚ô¶Ô∏èüé¥ –†—É–±–∏–Ω–æ–≤–∞—è –ö–æ—Å—Ç—å</option>
            </optgroup>
            <optgroup label="üßß –ö–∞—Ä—Ç—ã –Ω–∞—Ä—É—à–µ–Ω–∏–π">
              <option value="–†–æ–∑–æ–≤–∞—è">üü™ –†–æ–∑–æ–≤–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–ö—Ä–∞—Å–Ω–∞—è">üü• –ö—Ä–∞—Å–Ω–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–ñ—ë–ª—Ç–∞—è">üü® –ñ—ë–ª—Ç–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–ß—ë—Ä–Ω–∞—è">‚¨õÔ∏è –ß—ë—Ä–Ω–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–ö–æ—Ä–∏—á–Ω–µ–≤–∞—è">üü´ –ö–æ—Ä–∏—á–Ω–µ–≤–∞—è –∫–∞—Ä—Ç–∞</option>
              <option value="–û–±–Ω—É–ª–µ–Ω–∏–µ">üÖæÔ∏è –ö–∞—Ä—Ç–∞ –æ–±–Ω—É–ª–µ–Ω–∏—è</option>
              <option value="–ó–∞–º–æ—Ä–æ–∑–∫–∞">üí†üßß –ó–∞–º–æ—Ä–æ–∑–∫–∞</option>
            </optgroup>
            <optgroup label="üì± –û–ø–∞—Å–Ω—ã–µ –∫–∞—Ä—Ç—ã">
              <option value="–ë–∞–Ω–∫—Ä–æ—Ç">‚ö´Ô∏èüì± –ë–∞–Ω–∫—Ä–æ—Ç</option>
              <option value="–≠–∫—Å—Ç–µ—Ä–º–∏–Ω–∞—Ç—É—Å">üí£üì± –≠–∫—Å—Ç–µ—Ä–º–∏–Ω–∞—Ç—É—Å</option>
            </optgroup>
            <optgroup label="ü™ü –°—É–ø–µ—Ä –∫–∞—Ä—Ç—ã">
              <option value="–î–∂–µ–∫–ø–æ—Ç">üé∞ü™ü –î–∂–µ–∫–ø–æ—Ç</option>
              <option value="–°–ª–∞–¥–∫–∏–π –ø–æ–¥–∞—Ä–æ–∫">üç´ –°–ª–∞–¥–∫–∏–π –ø–æ–¥–∞—Ä–æ–∫</option>
              <option value="–°—É–ø–µ—Ä –ø–æ–¥–∞—Ä–æ–∫">üéÅ –°—É–ø–µ—Ä –ø–æ–¥–∞—Ä–æ–∫</option>
              <option value="–•–∞–º–µ–ª–µ–æ–Ω">ü¶é –•–∞–º–µ–ª–µ–æ–Ω</option>
              <option value="–•—Ä–∞–º">üõê –•—Ä–∞–º</option>
              <option value="–ë–∞–Ω–∫">üèß –ë–∞–Ω–∫</option>
              <option value="–í–µ–¥—Ä–æ –ï–≥–æ—Ä–∞">ü™£ü™ü –í–µ–¥—Ä–æ –ï–≥–æ—Ä–∞</option>
              <option value="–ü—Ä–µ–∏—Å–ø–æ–¥–Ω—è—è">üåãüì± –ü—Ä–µ–∏—Å–ø–æ–¥–Ω—è—è</option>
              <option value="–ì—Ä–∞–±–∏—Ç–µ–ª–∏">ü•∑üì± –ì—Ä–∞–±–∏—Ç–µ–ª–∏</option>
            </optgroup>
          </select>
        </div>
        
        <div id="cardInfoContainer" class="card-info-container" style="display: none;">
          <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ä—Ç–µ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
        </div>
      </div>

      <div class="results-section">
        <h3 class="results-title"><span>üìä</span> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:</h3>
        <div class="results-container" id="results">
          <div style="text-align:center;padding:30px;color:var(--text-secondary)">
            <div style="font-size:3rem;margin-bottom:16px;opacity:0.5"><span aria-hidden="true">üìä</span></div>
            <p style="font-size:1rem;margin-bottom:8px">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</p>
            <p style="font-size:0.85rem;opacity:0.7">–ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥—Ä—É–≥–æ–π —Ä–∞–∑–¥–µ–ª</p>
          </div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <p style="margin-top:8px;font-size:0.8rem;opacity:0.8">2026 –≥–æ–¥ –æ—Ç –†–æ–∂–¥–µ—Å—Ç–≤–∞ –•—Ä–∏—Å—Ç–æ–≤–∞</p>
    </footer>
  </div>

  <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
  <div id="notificationContainer"></div>

  <script>
    // –≠–º–æ–¥–∑–∏ –¥–ª—è –∫–∞—Ä—Ç (–ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑ –ø—Ä–∞–≤–∏–ª)
    const cardEmojis = {
        // –û–±—ã—á–Ω—ã–µ –∫–∞—Ä—Ç—ã
        '–ö–æ–º–∏—Å—Å–∏—è': 'üîò',
        '–°–µ—Ä–∞—è': '‚òëÔ∏è',
        '–°–∏–Ω—è—è': 'üü¶',
        '–ó–µ–ª—ë–Ω–∞—è': 'üü©',
        '–ë–µ–ª–∞—è': '‚¨úÔ∏è',
        '–ó–æ–ª–æ—Ç–∞—è': 'üüß',
        '–ò–∑—É–º—Ä—É–¥–Ω–∞—è': 'üíé',
        '–†—É–±–∏–Ω–æ–≤–∞—è': 'üö®',
        
        // –ö–∞—Ä—Ç—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–π
        '–ú–∞–≥–Ω–∏—Ç': '‚ìÇÔ∏è',
        '–ë–∏—Ç–∞': 'üÖ±Ô∏è',
        '–°—Ç—Ä–∞—à–Ω—ã–π –°—É–¥': '‚ôéÔ∏è',
        '–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä': '‚ôªÔ∏èüé¥',
        '–î–∂–æ–∫–µ—Ä': 'üÉè',
        '–ü–∞—Ü–∏—Ñ–∏–∫': '‚òÆÔ∏è',
        '–ü–µ—Ä–≥–∞–º–µ–Ω—Ç': 'üìú',
        '–ê–Ω—Ç–∏—ç–∫—Ä–∞–Ω': 'üöæ',
        '–ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è': 'üî≤',
        '–†–∞–¥—É–∂–Ω–∞—è': 'üè≥Ô∏è‚Äçüåà',
        '–ö–∞—Ä—Ç–∞ –ö–æ–Ω—Ç–µ–Ω—Ç–∞': 'üé¶',
        '–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞': 'üéπ',
        '–ö–æ—Å—Ç—å': 'üé≤üé¥',
        '–†—É–±–∏–Ω–æ–≤–∞—è –ö–æ—Å—Ç—å': '‚ô¶Ô∏èüé¥',
        
        // –ö–∞—Ä—Ç—ã –Ω–∞—Ä—É—à–µ–Ω–∏–π
        '–†–æ–∑–æ–≤–∞—è': 'üü™',
        '–ö—Ä–∞—Å–Ω–∞—è': 'üü•',
        '–ñ—ë–ª—Ç–∞—è': 'üü®',
        '–ß—ë—Ä–Ω–∞—è': '‚¨õÔ∏è',
        '–ö–æ—Ä–∏—á–Ω–µ–≤–∞—è': 'üü´',
        '–û–±–Ω—É–ª–µ–Ω–∏–µ': 'üÖæÔ∏è',
        '–ó–∞–º–æ—Ä–æ–∑–∫–∞': 'üí†üßß',
        
        // –û–ø–∞—Å–Ω—ã–µ –∫–∞—Ä—Ç—ã
        '–ë–∞–Ω–∫—Ä–æ—Ç': '‚ö´Ô∏èüì±',
        '–≠–∫—Å—Ç–µ—Ä–º–∏–Ω–∞—Ç—É—Å': 'üí£üì±',
        '–ì—Ä–∞–±–∏—Ç–µ–ª–∏': 'ü•∑üì±',
        
        // –°—É–ø–µ—Ä –∫–∞—Ä—Ç—ã
        '–î–∂–µ–∫–ø–æ—Ç': 'üé∞ü™ü',
        '–°–ª–∞–¥–∫–∏–π –ø–æ–¥–∞—Ä–æ–∫': 'üç´',
        '–°—É–ø–µ—Ä –ø–æ–¥–∞—Ä–æ–∫': 'üéÅ',
        '–•–∞–º–µ–ª–µ–æ–Ω': 'ü¶é',
        '–•—Ä–∞–º': 'üõê',
        '–ë–∞–Ω–∫': 'üèß',
        '–í–µ–¥—Ä–æ –ï–≥–æ—Ä–∞': 'ü™£ü™ü',
        '–ü—Ä–µ–∏—Å–ø–æ–¥–Ω—è—è': 'üåãüì±'
    };
    
    // –¢–∏–ø—ã –∫–∞—Ä—Ç
    const cardTypes = {
        '–ö–æ–º–∏—Å—Å–∏—è': 'normal',
        '–°–µ—Ä–∞—è': 'normal',
        '–°–∏–Ω—è—è': 'normal',
        '–ó–µ–ª—ë–Ω–∞—è': 'normal',
        '–ë–µ–ª–∞—è': 'normal',
        '–ó–æ–ª–æ—Ç–∞—è': 'normal',
        '–ò–∑—É–º—Ä—É–¥–Ω–∞—è': 'normal',
        '–†—É–±–∏–Ω–æ–≤–∞—è': 'activation',
        
        '–ú–∞–≥–Ω–∏—Ç': 'activation',
        '–ë–∏—Ç–∞': 'activation',
        '–°—Ç—Ä–∞—à–Ω—ã–π –°—É–¥': 'activation',
        '–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä': 'activation',
        '–î–∂–æ–∫–µ—Ä': 'activation',
        '–ü–∞—Ü–∏—Ñ–∏–∫': 'activation',
        '–ü–µ—Ä–≥–∞–º–µ–Ω—Ç': 'activation',
        '–ê–Ω—Ç–∏—ç–∫—Ä–∞–Ω': 'activation',
        '–ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è': 'activation',
        '–†–∞–¥—É–∂–Ω–∞—è': 'activation',
        '–ö–∞—Ä—Ç–∞ –ö–æ–Ω—Ç–µ–Ω—Ç–∞': 'activation',
        '–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞': 'activation',
        '–ö–æ—Å—Ç—å': 'activation',
        '–†—É–±–∏–Ω–æ–≤–∞—è –ö–æ—Å—Ç—å': 'activation',
        
        '–†–æ–∑–æ–≤–∞—è': 'violation',
        '–ö—Ä–∞—Å–Ω–∞—è': 'violation',
        '–ñ—ë–ª—Ç–∞—è': 'violation',
        '–ß—ë—Ä–Ω–∞—è': 'violation',
        '–ö–æ—Ä–∏—á–Ω–µ–≤–∞—è': 'violation',
        '–û–±–Ω—É–ª–µ–Ω–∏–µ': 'violation',
        '–ó–∞–º–æ—Ä–æ–∑–∫–∞': 'violation',
        
        '–ë–∞–Ω–∫—Ä–æ—Ç': 'danger',
        '–≠–∫—Å—Ç–µ—Ä–º–∏–Ω–∞—Ç—É—Å': 'danger',
        '–ì—Ä–∞–±–∏—Ç–µ–ª–∏': 'danger',
        
        '–î–∂–µ–∫–ø–æ—Ç': 'super',
        '–°–ª–∞–¥–∫–∏–π –ø–æ–¥–∞—Ä–æ–∫': 'super',
        '–°—É–ø–µ—Ä –ø–æ–¥–∞—Ä–æ–∫': 'super',
        '–•–∞–º–µ–ª–µ–æ–Ω': 'super',
        '–•—Ä–∞–º': 'super',
        '–ë–∞–Ω–∫': 'super',
        '–í–µ–¥—Ä–æ –ï–≥–æ—Ä–∞': 'super',
        '–ü—Ä–µ–∏—Å–ø–æ–¥–Ω—è—è': 'super'
    };
    
    // –¢–∏–ø –∑–∞–±–∏—Ä–∞–Ω–∏—è –∫–∞—Ä—Ç—ã
    const cardTakingType = {
        '–ö–æ–º–∏—Å—Å–∏—è': 'normal',
        '–°–µ—Ä–∞—è': 'normal',
        '–°–∏–Ω—è—è': 'normal',
        '–ó–µ–ª—ë–Ω–∞—è': 'normal',
        '–ë–µ–ª–∞—è': 'normal',
        '–ó–æ–ª–æ—Ç–∞—è': 'normal',
        '–ò–∑—É–º—Ä—É–¥–Ω–∞—è': 'normal',
        '–†—É–±–∏–Ω–æ–≤–∞—è': 'activation',
        
        '–ú–∞–≥–Ω–∏—Ç': 'activation',
        '–ë–∏—Ç–∞': 'activation',
        '–°—Ç—Ä–∞—à–Ω—ã–π –°—É–¥': 'activation',
        '–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä': 'activation',
        '–î–∂–æ–∫–µ—Ä': 'activation',
        '–ü–∞—Ü–∏—Ñ–∏–∫': 'activation',
        '–ü–µ—Ä–≥–∞–º–µ–Ω—Ç': 'activation',
        '–ê–Ω—Ç–∏—ç–∫—Ä–∞–Ω': 'activation',
        '–ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è': 'activation',
        '–†–∞–¥—É–∂–Ω–∞—è': 'activation',
        '–ö–∞—Ä—Ç–∞ –ö–æ–Ω—Ç–µ–Ω—Ç–∞': 'activation',
        '–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞': 'activation',
        '–ö–æ—Å—Ç—å': 'activation',
        '–†—É–±–∏–Ω–æ–≤–∞—è –ö–æ—Å—Ç—å': 'activation',
        
        '–†–æ–∑–æ–≤–∞—è': 'violation',
        '–ö—Ä–∞—Å–Ω–∞—è': 'violation',
        '–ñ—ë–ª—Ç–∞—è': 'violation',
        '–ß—ë—Ä–Ω–∞—è': 'violation',
        '–ö–æ—Ä–∏—á–Ω–µ–≤–∞—è': 'violation',
        '–û–±–Ω—É–ª–µ–Ω–∏–µ': 'violation',
        '–ó–∞–º–æ—Ä–æ–∑–∫–∞': 'violation',
        
        '–ë–∞–Ω–∫—Ä–æ—Ç': 'danger',
        '–≠–∫—Å—Ç–µ—Ä–º–∏–Ω–∞—Ç—É—Å': 'danger',
        '–ì—Ä–∞–±–∏—Ç–µ–ª–∏': 'danger',
        
        '–î–∂–µ–∫–ø–æ—Ç': 'super',
        '–°–ª–∞–¥–∫–∏–π –ø–æ–¥–∞—Ä–æ–∫': 'super',
        '–°—É–ø–µ—Ä –ø–æ–¥–∞—Ä–æ–∫': 'super',
        '–•–∞–º–µ–ª–µ–æ–Ω': 'super',
        '–•—Ä–∞–º': 'super',
        '–ë–∞–Ω–∫': 'super',
        '–í–µ–¥—Ä–æ –ï–≥–æ—Ä–∞': 'super',
        '–ü—Ä–µ–∏—Å–ø–æ–¥–Ω—è—è': 'super'
    };
    
    // –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –æ –∫–∞—Ä—Ç–∞—Ö (–∏–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª)
    const cardDatabase = {
        '–î–∂–µ–∫–ø–æ—Ç': {
            effects: '–í–∞–º –≤—ã–ø–∞–¥–∞–µ—Ç 12 –∫–∞—Ä—Ç: üî≤üÖ±Ô∏èüåàüíéüüß‚¨úÔ∏èüé¶üéπ‚ìÇÔ∏è‚ôéÔ∏è‚ôªÔ∏èüö®, –ø–ª—é—Å 30 üßø –¢–í –∫–æ–ª—ë—Å –∏ üé≤‚ô¶Ô∏è.',
            application: '–ü–æ—Å–ª–µ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏. üé≤‚ô¶Ô∏è –∫–æ—Å—Ç–∏ –∏–≥—Ä–∞—é—Ç —Å—Ä–∞–∑—É –¥–æ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ (2Ô∏è‚É£ –∫—É–±–∏–∫–∞ —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º 1‚Äì(+1)).',
            obtain: 'üßø –¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–∫—É–ø–∫–∞.',
            features: '–¢—Ä–µ–±—É–µ—Ç —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏. –°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏: 1 üö®.',
            removes: '–ù–µ—Ç',
            takenBy: 'super',
            sale: '–î–∞ (3 üö®, –ø—Ä–æ–¥–∞—ë—Ç—Å—è –∑–∞–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–π)',
            transfer: '–ù–µ—Ç',
            conversion: '–î–∞ (üé∞‚Ü©Ô∏èüÄÑÔ∏èüé¥üßø)',
            protection: '–î–∞',
            cannotUse: '–ë–µ–∑ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏',
            formula: '–ù–µ—Ç',
            description: '–ó–∞–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–π —Å—É–ø–µ—Ä-–ø—Ä–∏–∑: –≤—ã–¥–∞—ë—Ç –±–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä –∫–∞—Ä—Ç –∏ üßø, —Ç—Ä–µ–±—É–µ—Ç —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –∑–∞ üö®.'
        },
        '–†—É–±–∏–Ω–æ–≤–∞—è –ö–æ—Å—Ç—å': {
            effects: '–£–º–Ω–æ–∂–∞–µ—Ç –≤–∞—à—É –æ–¥–Ω—É üö® –†—É–±–∏–Ω–æ–≤—É—é –∫–∞—Ä—Ç—É –∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –ø—Ä–∏ –±—Ä–æ—Å–∫–µ üé≤ –∫—É–±–∏–∫–∞.',
            application: '1 —Ä–∞–∑ –≤–æ –≤—Ä–µ–º—è –≤—Ä–∞—â–µ–Ω–∏—è üßø –¢–í –∫–æ–ª–µ—Å–∞.',
            obtain: 'üßø –¢–í –∫–æ–ª–µ—Å–æ.',
            features: '–î–∞—ë—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–≥—Ä—É. –ó–Ω–∞—á–µ–Ω–∏—è: 1‚Üí1 –∫–∞—Ä—Ç–∞, 2‚Üí2, 3‚Üí3, 4‚Üí4, 5‚Üí5, 6‚Üí6. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç: 1‚Äì(+1 üö®). –í üé∞ –î–∂–µ–∫–ø–æ—Ç–µ –∏–≥—Ä–∞–µ—Ç 2Ô∏è‚É£ –∫—É–±–∏–∫–∞ —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º 1‚Äì(+1).',
            removes: '–ù–µ—Ç',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–ù–µ—Ç',
            conversion: '–î–∞ (‚ô¶Ô∏è‚Ü©Ô∏èüö®)',
            protection: '–î–∞',
            cannotUse: 'ü™üüÄÑÔ∏èüßø',
            formula: '–ù–µ—Ç',
            description: '–ò–≥—Ä–æ–≤–∞—è üé¥-–∫–∞—Ä—Ç–∞: —É–º–Ω–æ–∂–∞–µ—Ç üö® –ø–æ –±—Ä–æ—Å–∫—É –∫—É–±–∏–∫–∞.'
        },
        '–ö–æ—Å—Ç—å': {
            effects: '–£–º–Ω–æ–∂–∞–µ—Ç –≤–∞—à—É –æ–¥–Ω—É –æ–±—ã—á–Ω—É—é üÄÑÔ∏è –∫–∞—Ä—Ç—É –∏–ª–∏ üßø –¢–í –∫–æ–ª–µ—Å–æ –∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –ø—Ä–∏ –±—Ä–æ—Å–∫–µ üé≤ –∫—É–±–∏–∫–∞.',
            application: '1 —Ä–∞–∑ –≤–æ –≤—Ä–µ–º—è –≤—Ä–∞—â–µ–Ω–∏—è üßø –¢–í –∫–æ–ª–µ—Å–∞.',
            obtain: 'üßø –¢–í –∫–æ–ª–µ—Å–æ.',
            features: '–î–∞—ë—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–≥—Ä—É. –ó–Ω–∞—á–µ–Ω–∏—è: 1‚Üí0 –∫–∞—Ä—Ç, 2‚Üí1, 3‚Üí2, 4‚Üí3, 5‚Üí4, 6‚Üí5. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç: 1‚Äìx1 üÄÑÔ∏è/üßø. –í üé∞ –î–∂–µ–∫–ø–æ—Ç–µ –∏–≥—Ä–∞–µ—Ç 2Ô∏è‚É£ –∫—É–±–∏–∫–∞ —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º 1‚Äì(+1).',
            removes: '–ù–µ—Ç',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–ù–µ—Ç',
            conversion: '–î–∞ (üé≤‚Ü©Ô∏èüÄÑÔ∏èüßø)',
            protection: '–î–∞',
            cannotUse: 'üé¥ü™ü',
            formula: '–ù–µ—Ç',
            description: '–ò–≥—Ä–æ–≤–∞—è üé¥-–∫–∞—Ä—Ç–∞: —É–º–Ω–æ–∂–∞–µ—Ç –æ–¥–Ω—É –≤—ã–±—Ä–∞–Ω–Ω—É—é üÄÑÔ∏è –∏–ª–∏ üßø –ø–æ –±—Ä–æ—Å–∫—É –∫—É–±–∏–∫–∞.'
        },
        '–ì—Ä–∞–±–∏—Ç–µ–ª–∏': {
            effects: '–ì—Ä–∞–±–∏—Ç üèß –ë–∞–Ω–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ üÄÑÔ∏èüé¥ –∫–∞—Ä—Ç. –ö—Ä–∞–¥—ë—Ç –ø–æ–ª–æ–≤–∏–Ω—É –∏–ª–∏ –±–æ–ª—å—à–µ –ø–æ–ª–æ–≤–∏–Ω—ã –∫–∞—Ä—Ç; —É–∫—Ä–∞–¥–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –∏—Å—á–µ–∑–∞—é—Ç. –û–≥—Ä–∞–±–ª–µ–Ω–Ω—ã–π –ø–æ–ª—É—á–∞–µ—Ç 5 üßø –¢–í –∫–æ–ª—ë—Å.',
            application: '1 —Ä–∞–∑. –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —Å üßø –¢–í –∫–æ–ª–µ—Å–∞.',
            obtain: 'üßø –¢–í –∫–æ–ª–µ—Å–æ. –°–±–æ—Ä–∫–∞. –ü–æ–ª—É—á–µ–Ω–∏–µ.',
            features: '–ú–æ–∂–Ω–æ —Å–Ω—è—Ç—å –∑–∞–ª–æ–≥–æ–º: 3 üö® –æ—Ç –æ–¥–Ω–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞ –ø–æ—Å–ª–µ –≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–ª–µ—Å–∞. –í—ã–±–∏–≤–∞–µ—Ç –∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —É —Å–ø–∏–∫–µ—Ä–∞ –∏–ª–∏ –≤–µ–¥—É—â–µ–≥–æ. –ó–∞–ª–æ–≥ –∏—Å—á–µ–∑–∞–µ—Ç –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏. –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–¥—É—â–∏–π.',
            removes: '–ù–µ—Ç',
            takenBy: 'danger',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: '–î–∞',
            cannotUse: 'üõêü™£üåã',
            formula: '‚ö´Ô∏è‚Ü©Ô∏èüé¥ + üí£‚Ü©Ô∏èüé¥ = ü•∑',
            description: '–û–ø–∞—Å–Ω–∞—è –∫–∞—Ä—Ç–∞: –æ–≥—Ä–∞–±–ª–µ–Ω–∏–µ –±–∞–Ω–∫–∞ —Å —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ–º —á–∞—Å—Ç–∏ –∫–∞—Ä—Ç –∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–µ–π üßø –æ–≥—Ä–∞–±–ª–µ–Ω–Ω–æ–º—É.'
        },
        '–ü—Ä–µ–∏—Å–ø–æ–¥–Ω—è—è': {
            effects: '–£–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –∏–ª–∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –≤ ü™£ –≤–µ–¥—Ä–æ üÄÑÔ∏èüé¥ –∫–∞—Ä—Ç—ã –≤—Å–µ—Ö —Å–ø–∏–∫–µ—Ä–æ–≤. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–∞—Ä—Ç—ã üßßüì±.',
            application: '–í–µ–¥—É—â–∏–º –ø—Ä–∏ –≤—ã–ø–∞–¥–µ–Ω–∏–∏ —Å üßø –¢–í –∫–æ–ª–µ—Å–∞ –∏–ª–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ. –°–ø–∏–∫–µ—Ä–∞–º–∏ –ø—Ä–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ, –ø–æ–∫—É–ø–∫–µ, –ø–æ–ª—É—á–µ–Ω–∏–∏.',
            obtain: 'üßø –¢–í –∫–æ–ª–µ—Å–æ. –ü–æ—Å—Ç—Ä–æ–π–∫–∞. –ü–æ–∫—É–ø–∫–∞. –ü–æ–ª—É—á–µ–Ω–∏–µ.',
            features: '–†–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É üèß –ë–∞–Ω–∫–∞ –∏ üõê –•—Ä–∞–º–∞. –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–¥—É—â–∏–π –∏ —Å–ø–∏–∫–µ—Ä—ã. –ú–æ–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∑–∞ 6 üö® (1 —Ä–∞–∑).',
            removes: '–ù–µ—Ç',
            takenBy: 'super',
            sale: '–î–∞ (—Ä–∞–∑ –≤ 2 –º–µ—Å—è—Ü–∞)',
            transfer: '–î–∞ (—Ä–∞–∑ –≤ 2 –º–µ—Å—è—Ü–∞)',
            conversion: '–ù–µ—Ç',
            protection: '–î–∞',
            cannotUse: 'üõêüèß',
            formula: '6 üö®',
            description: '–°—É–ø–µ—Ä-–æ–±—ä–µ–∫—Ç: –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–∞—Ä—Ç—ã –≤—Å–µ—Ö —Å–ø–∏–∫–µ—Ä–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç üßßüì± –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º.'
        },
        '–í–µ–¥—Ä–æ –ï–≥–æ—Ä–∞': {
            effects: '–í–µ–¥—É—â–∏–π –∑–∞–±–∏—Ä–∞–µ—Ç 1 –æ–±—ã—á–Ω—É—é üÄÑÔ∏è –∫–∞—Ä—Ç—É —É –ª—é–±–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞ –∏ –∫–ª–∞–¥—ë—Ç —Å–µ–±–µ –≤ ü™£ –≤–µ–¥—Ä–æ.',
            application: '–°—Ä–∞–∑—É –∂–µ –ø—Ä–∏ –≤—ã–ø–∞–¥–µ–Ω–∏–∏.',
            obtain: 'üßø –¢–í –∫–æ–ª–µ—Å–æ. üåã –ü—Ä–µ–∏—Å–ø–æ–¥–Ω—è—è.',
            features: '–ë–µ–∑–ª–∏–º–∏—Ç–Ω–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ üé¥üÄÑÔ∏è –∫–∞—Ä—Ç: –∞–∫—Ç–∏–≤–∞—Ü–∏—è, —Å–∫–ª–∞–¥—ã–≤–∞–Ω–∏–µ, –ø–µ—Ä–µ–¥–∞—á–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ, –Ω–∞–∫–ª–∞–¥—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–ø–∏–∫–µ—Ä–æ–≤.',
            removes: '–ù–µ—Ç',
            takenBy: 'super',
            sale: '–ù–µ—Ç',
            transfer: '–ù–µ—Ç',
            conversion: '–ù–µ—Ç',
            protection: '–î–∞',
            cannotUse: 'üé¥ü™ü',
            formula: '–ù–µ—Ç',
            description: '–°—É–ø–µ—Ä-–∫–∞—Ä—Ç–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –≤–µ–¥—É—â–µ–≥–æ: –∏–∑—ã–º–∞–µ—Ç —É —Å–ø–∏–∫–µ—Ä–∞ 1 üÄÑÔ∏è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –≤–µ–¥—Ä–µ.'
        },
        '–ö–æ–º–∏—Å—Å–∏—è': {
            effects: '–û–ø–ª–∞—Ç–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –∫–∞—Ä—Ç –º–µ–∂–¥—É —Å–ø–∏–∫–µ—Ä–∞–º–∏',
            application: '–î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∫–∞—Ä—Ç –º–µ–∂–¥—É —Å–ø–∏–∫–µ—Ä–∞–º–∏',
            obtain: '–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ 1 ‚òëÔ∏è. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–¥–∞—Ç—å',
            removes: '–Ω–µ—Ç',
            takenBy: 'normal',
            sale: '–ù–µ—Ç',
            transfer: '–ù–µ—Ç',
            conversion: '–ù–µ—Ç',
            protection: 'üèßüõê',
            cannotUse: '–Ω–µ—Ç',
            formula: '1 ‚òëÔ∏è = 2 üîò',
            description: '–ë–∞–∑–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –º–µ–∂–¥—É —Å–ø–∏–∫–µ—Ä–∞–º–∏'
        },
        '–°–µ—Ä–∞—è': {
            effects: '–°—ä—ë–º —Å–ø–∏–∫–µ—Ä–∞ –∏–ª–∏ –≤—Å–µ—Ö –Ω–∞ 12 –º–∏–Ω—É—Ç, –ª–∏–±–æ –º–æ–Ω–æ–ª–æ–≥ 12 –º–∏–Ω—É—Ç',
            application: '1 —Ä–∞–∑ –∑–∞ —ç—Ñ–∏—Ä –æ—Ç –∫–∞–∂–¥–æ–≥–æ. –î–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞ –≤—Å–µ—Ö –∫—Ä–æ–º–µ üè≥Ô∏è‚Äçüåà',
            obtain: '1 —á–∞—Å –ø—Ä–æ–¥–ª–µ–Ω–∏—è. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–µ—Ä–≤—ã–π –Ω–∞ —ç—Ñ–∏—Ä–µ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–ë–∞–∑–æ–≤–∞—è –∫–∞—Ä—Ç–∞. –ü–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å –æ—Å—Ç–∞—Ç–∫–æ–º –≤—Ä–µ–º–µ–Ω–∏',
            removes: 'üü™',
            takenBy: 'normal',
            sale: '–î–∞',
            transfer: '–î–∞',
            conversion: '–î–∞',
            protection: 'üèßüõê',
            cannotUse: '–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–∞–≤–∏–ª —ç—Ñ–∏—Ä–∞',
            formula: '2 üîò = 1 ‚òëÔ∏è',
            description: '–û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å–ø–∏–∫–µ—Ä–æ–≤'
        },
        '–°–∏–Ω—è—è': {
            effects: '–°–Ω–∏–º–∞–µ—Ç –∂—ë–ª—Ç—É—é –∫–∞—Ä—Ç—É (üü®)',
            application: '–ù–∞ –∂—ë–ª—Ç—É—é –∫–∞—Ä—Ç—É',
            obtain: '–¢–æ–ø –º–µ—Å—è—Ü–∞. –¢–æ–ø –∑—Ä–∏—Ç–µ–ª—å. –¢–æ–ø –ë–∞—Ç–ª—ã. –¢–æ–ø –õ–∏–≥–∏. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–ü–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å –æ—Å—Ç–∞—Ç–∫–æ–º –≤—Ä–µ–º–µ–Ω–∏',
            removes: 'üü®',
            takenBy: 'normal',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: 'üèßüõê',
            cannotUse: '–Ω–∞ –∫–∞—Ä—Ç—ã –≤—ã—à–µ –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏',
            formula: '3 ‚òëÔ∏è = 1 üü¶',
            description: '–ö–∞—Ä—Ç–∞ –¥–ª—è —Å–Ω—è—Ç–∏—è –∂—ë–ª—Ç—ã—Ö –∫–∞—Ä—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π'
        },
        '–ó–µ–ª—ë–Ω–∞—è': {
            effects: '–°–Ω–∏–º–∞–µ—Ç –∫—Ä–∞—Å–Ω—É—é –∫–∞—Ä—Ç—É (üü•)',
            application: '–ù–∞ –∫—Ä–∞—Å–Ω—É—é –∫–∞—Ä—Ç—É',
            obtain: '–¢–æ–ø –º–µ—Å—è—Ü–∞. –¢–æ–ø –∑—Ä–∏—Ç–µ–ª—å. –¢–æ–ø –ë–∞—Ç–ª—ã. –¢–æ–ø –õ–∏–≥–∏. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–ü–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å –æ—Å—Ç–∞—Ç–∫–æ–º –≤—Ä–µ–º–µ–Ω–∏',
            removes: 'üü•',
            takenBy: 'normal',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: 'üèßüõê',
            cannotUse: '–Ω–∞ –∫–∞—Ä—Ç—ã –≤—ã—à–µ –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏',
            formula: '2 üü¶ = 1 üü©',
            description: '–ö–∞—Ä—Ç–∞ –¥–ª—è —Å–Ω—è—Ç–∏—è –∫—Ä–∞—Å–Ω—ã—Ö –∫–∞—Ä—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π'
        },
        '–ë–µ–ª–∞—è': {
            effects: '–°–Ω–∏–º–∞–µ—Ç ‚¨õÔ∏è. –õ–∏–±–æ –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç —ç—Ñ–∏—Ä –Ω–∞ 30 –º–∏–Ω—É—Ç',
            application: '–ö–∞–∂–¥—ã–π –¥–µ–Ω—å. –ü—Ä–æ–¥–ª–µ–Ω–∏–µ 1 —Ä–∞–∑ –∑–∞ —ç—Ñ–∏—Ä',
            obtain: '–¢–æ–ø –∑—Ä–∏—Ç–µ–ª–∏. –¢–æ–ø –ë–∞—Ç–ª—ã. –¢–æ–ø –õ–∏–≥–∏. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å. üßø–¢–í –∫–æ–ª–µ—Å–æ. üõêüèß',
            features: '–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è. –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ üü™üü•üü®üü´‚¨õÔ∏è‚òÆÔ∏è',
            removes: '‚¨õÔ∏èüü´',
            takenBy: 'normal',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–î–∞ (‚¨úÔ∏è‚ûïüîòüü∞üßø)',
            protection: 'üèßüõê',
            cannotUse: '–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è üÉè‚òÆÔ∏èüî≤üåàüö®üíéüüß',
            formula: '2 üü© = 1 ‚¨úÔ∏è',
            description: '–ú–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è —Å–Ω—è—Ç–∏—è —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π'
        },
        '–ó–æ–ª–æ—Ç–∞—è': {
            effects: '–ú–æ–¥–µ—Ä–∫–∞ –Ω–∞ —Å—É—Ç–∫–∏ –∏–ª–∏ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ —ç—Ñ–∏—Ä–∞',
            application: '–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å. –ë–µ–∑–ª–∏–º–∏—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ üü™üü•üü®üü´',
            obtain: '–¢–æ–ø —Å–ø–æ–Ω—Å–æ—Ä—ã. –¢–æ–ø –∑—Ä–∏—Ç–µ–ª–∏. –¢–æ–ø –ë–∞—Ç–ª—ã. –¢–æ–ø –õ–∏–≥–∏. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–†–∞–±–æ—Ç–∞–µ—Ç —Å üö®üíé‚òÆÔ∏èüÉèüî≤ –∏ üè≥Ô∏è‚Äçüåà',
            removes: '–Ω–µ—Ç',
            takenBy: 'normal',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–î–∞',
            protection: 'üüß‚òÆÔ∏èüÉèüè≥Ô∏è‚Äçüåàüèßüõê',
            cannotUse: '–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–∞–≤–∏–ª —ç—Ñ–∏—Ä–∞',
            formula: '2 ‚¨úÔ∏è = 1 üüß',
            description: '–ú–æ—â–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–æ–¥–ª–µ–Ω–∏—è —ç—Ñ–∏—Ä–∞'
        },
        '–ò–∑—É–º—Ä—É–¥–Ω–∞—è': {
            effects: '–ú–æ–¥–µ—Ä–∫–∞ + –ø—Ä–æ–¥–ª–µ–Ω–∏–µ —ç—Ñ–∏—Ä–∞ –Ω–∞ 3 —á–∞—Å–∞',
            application: '–ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ä–∞–∑ –≤ 2 –¥–Ω—è. –ë–µ–∑–ª–∏–º–∏—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ üü™üöæüü•üü®üü´',
            obtain: '–¢–æ–ø —Å–ø–æ–Ω—Å–æ—Ä—ã. –¢–æ–ø –∑—Ä–∏—Ç–µ–ª–∏. –¢–æ–ø –ë–∞—Ç–ª—ã. –¢–æ–ø –õ–∏–≥–∏. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–†–∞–±–æ—Ç–∞–µ—Ç —Å üö®üüß‚òÆÔ∏èüÉè –∏ üè≥Ô∏è‚Äçüåà',
            removes: 'üî≤',
            takenBy: 'normal',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–î–∞',
            protection: 'üüß‚òÆÔ∏èüÉèüè≥Ô∏è‚Äçüåàüèßüõê',
            cannotUse: '–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–∞–≤–∏–ª —ç—Ñ–∏—Ä–∞',
            formula: '2 üüß = 1 üíé',
            description: '–≠–ª–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏'
        },
        '–†—É–±–∏–Ω–æ–≤–∞—è': {
            effects: '–°–æ–≤–µ–¥—É—â–∏–π –Ω–∞ 3 –¥–Ω—è. –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –Ω–∞ 10 —á–∞—Å–æ–≤',
            application: '–ê–∫—Ç–∏–≤–∞—Ü–∏—è 1 —Ä–∞–∑ –≤ 5 –¥–Ω–µ–π',
            obtain: '–¢–æ–ø —Å–ø–æ–Ω—Å–æ—Ä. –¢–æ–ø –õ–∏–≥–∏. –¢–æ–ø –∑—Ä–∏—Ç–µ–ª—å. –¢–æ–ø –ë–∞—Ç–ª—ã. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–†–∞–±–æ—Ç–∞–µ—Ç —Å üüßüíé',
            removes: '–Ω–µ—Ç',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: 'üèßüõê',
            cannotUse: '–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–∞–≤–∏–ª —ç—Ñ–∏—Ä–∞',
            formula: '3 üíé = 1 üö®',
            description: '–í—ã—Å—à–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–≤–µ–¥—É—â–µ–≥–æ'
        },
        '–ú–∞–≥–Ω–∏—Ç': {
            effects: '–ö—Ä–∞–¥—ë—Ç –∫–∞—Ä—Ç—ã —É –¥—Ä—É–≥–∏—Ö —Å–ø–∏–∫–µ—Ä–æ–≤',
            application: '–î–æ—Å—Ç—É–ø–Ω–æ 3 –∫—Ä–∞–∂–∏ —É —Ä–∞–∑–Ω—ã—Ö —Å–ø–∏–∫–µ—Ä–æ–≤',
            obtain: '–¢–æ–ª—å–∫–æ –≤ üßø–¢–í –∫–æ–ª–µ—Å–µ. –ü–æ–ª—É—á–∏—Ç—å.',
            features: '–ó–∞–±–∏—Ä–∞–µ—Ç –∫–∞—Ä—Ç—É, –º–æ–∂–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –∞–∫—Ç–∏–≤–∞—Ü–∏—é –Ω–∞ —Å–µ–±—è –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ',
            removes: '–Ω–µ—Ç',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: 'üèßüõê',
            cannotUse: '–Ω–∞ –∫–∞—Ä—Ç—ã üé∞üç´üéÅü¶é‚ö´Ô∏èüí£‚ôéÔ∏èüèßüõê',
            formula: '–¢–æ–ª—å–∫–æ –≤ üßø–¢–í –∫–æ–ª–µ—Å–µ',
            description: '–ö–∞—Ä—Ç–∞ –¥–ª—è –∫—Ä–∞–∂–∏ –∫–∞—Ä—Ç —É –¥—Ä—É–≥–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤'
        },
        '–ë–∏—Ç–∞': {
            effects: '–†–∞–∑–±–∏–≤–∞–µ—Ç, —Å–Ω–∏–º–∞–µ—Ç, –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –ø–æ—á—Ç–∏ –≤—Å–µ –∫–∞—Ä—Ç—ã: üßøüîò‚òëÔ∏èüü¶üü©‚¨úÔ∏èüüßüíéüö®‚ìÇÔ∏è‚ôªÔ∏èüÉè‚òÆÔ∏èüìúüöæüî≤üé¶üéπüü™üü•üü®‚¨õÔ∏èüü´üÖæÔ∏èüí†',
            application: '–†–∞–∑—Ä–µ—à–µ–Ω–æ 4 —É–¥–∞—Ä–∞ –ë–∏—Ç–æ–π –ø–æ –∫–∞—Ä—Ç–µ. –ü–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å –æ—Å—Ç–∞—Ç–∫–æ–º —É–¥–∞—Ä–æ–≤. –ü–æ—Å–ª–µ —É–¥–∞—Ä–∞ —á–∞—Å—ã —Å –∫–∞—Ä—Ç—ã —Å–≥–æ—Ä–∞—é—Ç. –ù–µ–ª—å–∑—è —Ä–∞–∑–±–∏–≤–∞—Ç—å –∫–∞—Ä—Ç—É –∫–æ—Ç–æ—Ä—É—é –≤—ã–¥–∞–ª–∏ —Å–∞–º–∏',
            obtain: 'üßø–¢–í –∫–æ–ª–µ—Å–æ. –°–æ–±—Ä–∞—Ç—å. –ü–æ–ª—É—á–∏—Ç—å. üõê',
            features: '1 –£–¥–∞—Ä - 9 —á–∞—Å–æ–≤. 2 –£–¥–∞—Ä - 7 —á–∞—Å–æ–≤. 3 –£–¥–∞—Ä - 5 —á–∞—Å–æ–≤. 4 –£–¥–∞—Ä - 3 —á–∞—Å–∞ –≤ –∑–∞–ø–∞—Å',
            removes: '‚ö´Ô∏èüí£',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: 'üèßüõê',
            cannotUse: 'üåàüé∞üç´üéÅü¶é‚ö´Ô∏èüí£‚ôéÔ∏èüèßüõê',
            formula: 'üî≤‚ûïüè≥Ô∏è‚Äçüåà‚ûïüö®‚ûïüíé‚ûïüüß‚ûï‚¨úÔ∏è‚ûïüé¶‚ûïüéπ‚ûïüÉè‚ûïüöæ‚ûïüìú‚ûï‚òÆÔ∏è‚ûïüü©‚ûïüü¶‚ûï‚òëÔ∏èüü∞ üÖ±Ô∏è',
            description: '–ú–æ—â–Ω–µ–π—à–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –∫–∞—Ä—Ç'
        },
        '–°—Ç—Ä–∞—à–Ω—ã–π –°—É–¥': {
            effects: '–ö—Ä–∞–¥—ë—Ç –≤—Å–µ –∫–∞—Ä—Ç—ã –∏ –∫–æ–ª—ë—Å–∞ —É –æ–¥–Ω–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞',
            application: '–ù–∞ –æ–¥–Ω–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞',
            obtain: '–¢–æ–ª—å–∫–æ –≤ üßø–¢–í –∫–æ–ª–µ—Å–µ. –ü–æ–ª—É—á–∏—Ç—å.',
            features: '–ó–∞–±–∏—Ä–∞–µ—Ç –¥–∞–∂–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã',
            removes: '–Ω–µ—Ç',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–ù–µ—Ç',
            conversion: '–ù–µ—Ç',
            protection: '–Ω–µ—Ç',
            cannotUse: '–Ω–µ—Ç',
            formula: '–¢–æ–ª—å–∫–æ –≤ üßø–¢–í –∫–æ–ª–µ—Å–µ',
            description: '–ü–æ–ª–Ω–æ–µ –æ–≥—Ä–∞–±–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞'
        },
        '–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä': {
            effects: '–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç 10 ‚òëÔ∏è –∫–∞—Ä—Ç –≤ 10 üßø –¢–í –∫–æ–ª—ë—Å –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ. –ú–æ–∂–Ω–æ –¥—Ä–æ–±–∏—Ç—å.',
            application: '–ü–æ –∂–µ–ª–∞–Ω–∏—é.',
            obtain: 'üßø –¢–í –∫–æ–ª–µ—Å–æ. üõê. –ü–æ–∫—É–ø–∫–∞.',
            features: '–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞—Ä—Ç—É.',
            removes: 'üÖ±Ô∏è‚ö´Ô∏èüåã',
            takenBy: 'activation',
            sale: '–î–∞ (5 ‚¨úÔ∏è –∫–∞—Ä—Ç)',
            transfer: '–ù–µ—Ç',
            conversion: '–î–∞ (‚ôªÔ∏è‚Ü©Ô∏èüßø)',
            protection: '–ù–µ—Ç',
            cannotUse: '–ù–∞ —á—É–∂–æ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ',
            formula: '–ù–µ—Ç',
            description: '–ö–∞—Ä—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–ª—è –æ–±–º–µ–Ω–∞ ‚òëÔ∏è –Ω–∞ üßø –ø–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∫—É—Ä—Å—É.'
        },
        '–î–∂–æ–∫–µ—Ä': {
            effects: '–ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Ä—É—à–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ—Ç–∏–≤ –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞',
            application: '–î–µ–π—Å—Ç–≤—É–µ—Ç 20 –º–∏–Ω—É—Ç –±–∞—Ç–ª–∞ –∏ 12 —á–∞—Å–æ–≤ –æ–±—Ö–æ–¥ –ø—Ä–∞–≤–∏–ª',
            obtain: '–¢–æ–ø –ë–∞—Ç–ª—ã. –¢–æ–ø –õ–∏–≥–∏. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–ù–µ–ª—å–∑—è —Å–Ω—è—Ç—å. –ù–µ–ª—å–∑—è –≤—ã–∫–ª—é—á–∞—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω',
            removes: '–Ω–µ—Ç',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: 'üèßüõê',
            cannotUse: '–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–∞–≤–∏–ª –±–∞—Ç–ª–∞',
            formula: 'üü©‚ûï‚òëÔ∏èüü∞üÉè',
            description: '–ö–∞—Ä—Ç–∞ –¥–ª—è –±–∞—Ç–ª–æ–≤, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –Ω–∞—Ä—É—à–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞'
        },
        '–ü–∞—Ü–∏—Ñ–∏–∫': {
            effects: '–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —á–∞—Ç—É, –∏–º–º—É–Ω–∏—Ç–µ—Ç –∫ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º –∫–∞—Ä—Ç–∞–º',
            application: '–ù–∞ 12 —á–∞—Å–æ–≤',
            obtain: '–¢–æ–ø –ë–∞—Ç–ª—ã. –¢–æ–ø –õ–∏–≥–∏. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–í–∫–ª—é—á–∞–µ—Ç —á–∞—Ç –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π üÖæÔ∏è',
            removes: 'üü´üÖæÔ∏è',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: 'üèßüõê',
            cannotUse: '–Ω–µ—Ç',
            formula: 'üü©‚ûïüü¶üü∞‚òÆÔ∏è',
            description: '–ö–∞—Ä—Ç–∞ –∑–∞—â–∏—Ç—ã –æ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π'
        },
        '–ü–µ—Ä–≥–∞–º–µ–Ω—Ç': {
            effects: '–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —á–∞—Ç—É',
            application: '1 —Ä–∞–∑',
            obtain: '–¢–æ–ø –∑—Ä–∏—Ç–µ–ª–∏. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–Ω–µ—Ç',
            removes: '–Ω–µ—Ç',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: '–Ω–µ—Ç',
            cannotUse: '–Ω–µ—Ç',
            formula: 'üü¶‚ûï‚òëÔ∏èüü∞üìú',
            description: '–ö–∞—Ä—Ç–∞ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —á–∞—Ç—É'
        },
        '–ê–Ω—Ç–∏—ç–∫—Ä–∞–Ω': {
            effects: '–ó–∞–ø—Ä–µ—â–∞–µ—Ç –ø—Ä–æ—Å–∏—Ç—å—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω',
            application: '1 —Ä–∞–∑',
            obtain: '–¢–æ–ø –∑—Ä–∏—Ç–µ–ª–∏. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–°–Ω–∏–º–∞–µ—Ç—Å—è üÉè',
            removes: '–Ω–µ—Ç',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: '–Ω–µ—Ç',
            cannotUse: '–Ω–µ—Ç',
            formula: '‚òëÔ∏è‚ûï‚òëÔ∏èüü∞üöæ',
            description: '–ö–∞—Ä—Ç–∞ –¥–ª—è –∑–∞–ø—Ä–µ—Ç–∞ –ø—Ä–æ—Å—å–±—ã –Ω–∞ —ç–∫—Ä–∞–Ω'
        },
        '–ß—ë—Ä–Ω–æ-–ë–µ–ª–∞—è': {
            effects: '–°–æ–≤–µ–¥—É—â–∏–π –Ω–∞ 1 –Ω–µ–¥–µ–ª—é. –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –Ω–∞ 3 —á. 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥.',
            application: '–ê–∫—Ç–∏–≤–∞—Ü–∏—è 1 —Ä–∞–∑ –≤ 10 –¥–Ω–µ–π',
            obtain: '–¢–æ–ª—å–∫–æ —Å–ø–æ–Ω—Å–æ—Ä—ã —Ç–æ–ø 10 –∑–∞ 3 –º–µ—Å—è—Ü–∞. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å. üõê',
            features: '–†–∞–±–æ—Ç–∞–µ—Ç —Å üåàüüßüÉè‚òÆÔ∏èüé¶üéπ. (–ë–µ–∑–ª–∏–º–∏—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æüü™üöæüü•üü®üü´‚¨õÔ∏èüÖæÔ∏èüí†)',
            removes: 'üÖ±Ô∏è‚ö´Ô∏èüí£',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: 'üèßüõêü™£',
            cannotUse: 'üåà',
            formula: 'üö®‚ûïüíé‚ûïüíé‚ûïüíé‚ûïüüß‚ûï‚¨úÔ∏è‚ûïüÉè‚ûïüü©‚ûïüü¶‚ûïüöæ‚ûï‚òëÔ∏èüü∞üî≤',
            description: '–≠–ª–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è —Ç–æ–ø-—Å–ø–æ–Ω—Å–æ—Ä–æ–≤'
        },
        '–†–∞–¥—É–∂–Ω–∞—è': {
            effects: '–ò–º–º—É–Ω–∏—Ç–µ—Ç –∫ –∫–∞—Ä—Ç–∞–º –Ω–∞—Ä—É—à–µ–Ω–∏–π',
            application: '–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å',
            obtain: '–¢–æ–ø –ë–∞—Ç–ª—ã. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–ú–æ–∂–µ—Ç –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω–∞ —É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–ø–∏–∫–µ—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ',
            removes: 'üÖæÔ∏è',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: 'üèßüõê',
            cannotUse: '–Ω–µ—Ç',
            formula: 'üíé‚ûïüüß‚ûïüüß‚ûïüüß‚ûï‚¨úÔ∏è‚ûï‚òÆÔ∏è‚ûïüü©‚ûïüü¶‚ûïüìú‚ûï‚òëÔ∏èüü∞üè≥Ô∏è‚Äçüåà',
            description: '–ö–∞—Ä—Ç–∞ –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞ –∫ –Ω–∞—Ä—É—à–µ–Ω–∏—è–º'
        },
        '–ö–∞—Ä—Ç–∞ –ö–æ–Ω—Ç–µ–Ω—Ç–∞': {
            effects: '–ü—Ä–æ—Å–º–æ—Ç—Ä –≤–∏–¥–µ–æ–º–∞—Ç–µ—Ä–∏–∞–ª–∞',
            application: '1 —Ä–∞–∑ –∑–∞ —ç—Ñ–∏—Ä',
            obtain: '–¢–æ–ø –ë–∞—Ç–ª—ã. –¢–æ–ø –õ–∏–≥–∏. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–ù–µ–ª—å–∑—è —Å–Ω—è—Ç—å',
            removes: '–Ω–µ—Ç',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: '–Ω–µ—Ç',
            cannotUse: '–Ω–µ—Ç',
            formula: 'üüß‚ûï‚¨úÔ∏è‚ûï‚òëÔ∏èüü∞üé¶',
            description: '–ö–∞—Ä—Ç–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞'
        },
        '–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞': {
            effects: '–ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∏',
            application: '1 —Ä–∞–∑ –∑–∞ —ç—Ñ–∏—Ä',
            obtain: '–¢–æ–ø –ë–∞—Ç–ª—ã. –¢–æ–ø –õ–∏–≥–∏. üßø–¢–í –∫–æ–ª–µ—Å–æ. –ü–æ–ª—É—á–∏—Ç—å. –°–æ–±—Ä–∞—Ç—å.',
            features: '–ù–µ–ª—å–∑—è —Å–Ω—è—Ç—å',
            removes: '–Ω–µ—Ç',
            takenBy: 'activation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: '–Ω–µ—Ç',
            cannotUse: '–Ω–µ—Ç',
            formula: '‚¨úÔ∏è‚ûï‚òëÔ∏èüü∞üéπ',
            description: '–ö–∞—Ä—Ç–∞ –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –º—É–∑—ã–∫–∏'
        },
        '–†–æ–∑–æ–≤–∞—è': {
            effects: '–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, —Å–ø—É—Å–∫ –≤–Ω–∏–∑',
            application: '–ü–µ—Ä–≤–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ',
            obtain: '–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª. –ü–æ–ª—É—á–∏—Ç—å.',
            features: '–Ω–µ—Ç',
            removes: '–Ω–µ—Ç',
            takenBy: 'violation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: '–Ω–µ—Ç',
            cannotUse: '–Ω–µ—Ç',
            formula: '‚òëÔ∏è‚ûï‚òëÔ∏èüü∞üü™',
            description: '–ü–µ—Ä–≤–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ'
        },
        '–ö—Ä–∞—Å–Ω–∞—è': {
            effects: '–°–Ω—è—Ç–∏–µ —Å–ø–∏–∫–µ—Ä–∞ —Å —ç—Ñ–∏—Ä–∞ –¥–æ –∫–æ–Ω—Ü–∞ —ç—Ñ–∏—Ä–∞',
            application: '–¢—Ä–µ—Ç—å–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ',
            obtain: '–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª. –ü–æ–ª—É—á–∏—Ç—å.',
            features: '–Ω–µ—Ç',
            removes: 'üü©',
            takenBy: 'violation',
            sale: '–ù–µ—Ç',
            transfer: '–ù–µ—Ç',
            conversion: '–ù–µ—Ç',
            protection: '–Ω–µ—Ç',
            cannotUse: '–Ω–µ—Ç',
            formula: '–°–æ–±–∏—Ä–∞–µ—Ç—Å—è ‚¨úÔ∏è',
            description: '–°–µ—Ä—å—ë–∑–Ω–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ - —Å–Ω—è—Ç–∏–µ —Å —ç—Ñ–∏—Ä–∞'
        },
        '–ñ—ë–ª—Ç–∞—è': {
            effects: '–°–ø—É—Å–∫ –≤–Ω–∏–∑ –Ω–∞ 30 –º–∏–Ω—É—Ç',
            application: '–í—Ç–æ—Ä–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ',
            obtain: '–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª. –ü–æ–ª—É—á–∏—Ç—å.',
            features: '–Ω–µ—Ç',
            removes: '–Ω–µ—Ç',
            takenBy: 'violation',
            sale: '–ù–µ—Ç',
            transfer: '–ù–µ—Ç',
            conversion: '–ù–µ—Ç',
            protection: '–Ω–µ—Ç',
            cannotUse: '–Ω–µ—Ç',
            formula: '–°–æ–±–∏—Ä–∞–µ—Ç—Å—è ‚¨úÔ∏è',
            description: '–í—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ'
        },
        '–ß—ë—Ä–Ω–∞—è': {
            effects: '–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 1 –Ω–µ–¥–µ–ª—é',
            application: '–ó–∞ —Å–µ—Ä—å—ë–∑–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è',
            obtain: '–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª. –ü–æ–ª—É—á–∏—Ç—å.',
            features: '–Ω–µ—Ç',
            removes: '–Ω–µ—Ç',
            takenBy: 'violation',
            sale: '–ù–µ—Ç',
            transfer: '–ù–µ—Ç',
            conversion: '–ù–µ—Ç',
            protection: '–Ω–µ—Ç',
            cannotUse: '–Ω–µ—Ç',
            formula: '–Ω–µ—Ç',
            description: '–°–µ—Ä—å—ë–∑–Ω–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ –Ω–µ–¥–µ–ª—é'
        },
        '–ö–æ—Ä–∏—á–Ω–µ–≤–∞—è': {
            effects: '–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤',
            application: '–î–µ–π—Å—Ç–≤—É–µ—Ç 1 —ç—Ñ–∏—Ä –Ω–∞ 1 –∞–∫–∫–∞—É–Ω—Ç',
            obtain: '–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª. –ü–æ–ª—É—á–∏—Ç—å.',
            features: '–Ω–µ—Ç',
            removes: '–Ω–µ—Ç',
            takenBy: 'violation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: '–Ω–µ—Ç',
            cannotUse: '–Ω–µ—Ç',
            formula: '–Ω–µ—Ç',
            description: '–ù–∞—Ä—É—à–µ–Ω–∏–µ - –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤'
        },
        '–û–±–Ω—É–ª–µ–Ω–∏–µ': {
            effects: '–ó–∞–ø—Ä–µ—Ç –≤ –≥–æ—Å—Ç–µ–≤–æ–π –∏ —á–∞—Ç–µ –Ω–∞ 4 –Ω–µ–¥–µ–ª–∏',
            application: '–ó–∞ —Å–µ—Ä—å—ë–∑–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è',
            obtain: '–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —ç—Ñ–∏—Ä–∞. –ü–æ–ª—É—á–∏—Ç—å.',
            features: '–ú–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –¥–æ—Å—Ç—É–ø –∫ —á–∞—Ç—É –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π ‚òÆÔ∏è',
            removes: '–Ω–µ—Ç',
            takenBy: 'violation',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–ù–µ—Ç',
            protection: '–Ω–µ—Ç',
            cannotUse: '–Ω–µ—Ç',
            formula: 'üüß‚ûï‚¨úÔ∏è‚ûï‚òÆÔ∏è‚ûïüü©‚ûïüü¶‚ûï‚òëÔ∏èüü∞üÖæÔ∏è',
            description: '–°–µ—Ä—å—ë–∑–Ω–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ - –æ–±–Ω—É–ª–µ–Ω–∏–µ –ø—Ä–∞–≤'
        },
        '–ó–∞–º–æ—Ä–æ–∑–∫–∞': {
            effects: '–í–∞—à–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è. –°–ø–∏–∫–µ—Ä—É –∑–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å üÄÑÔ∏èüé¥ –∫–∞—Ä—Ç—ã –∏ üßø –¢–í –∫–æ–ª—ë—Å–∞ 4 –Ω–µ–¥–µ–ª–∏.',
            application: '1 —Ä–∞–∑.',
            obtain: '–û—Ç üî≤. –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª. üßø –¢–í –∫–æ–ª–µ—Å–æ. –ò–∑ ü™£/üåã.',
            features: '–°–æ–±–∏—Ä–∞–µ—Ç—Å—è –∑–∞ üö®. –ü—Ä–∏ –≤—ã–ø–∞–¥–µ–Ω–∏–∏ —Å üßø –¢–í –∫–æ–ª–µ—Å–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞ –≤—Å–µ—Ö, –∏ –≤–∞–º –≤—ã–¥–∞—ë—Ç—Å—è 1 üßø –¢–í –∫–æ–ª–µ—Å–æ: –º–æ–∂–Ω–æ –∫—Ä—É—Ç–∏—Ç—å —Å—Ä–∞–∑—É –∏–ª–∏ —á–µ—Ä–µ–∑ 4 –Ω–µ–¥–µ–ª–∏. –ü—Ä–∏ —Å–Ω—è—Ç–∏–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞ –∫–æ–ª–µ—Å–æ —Å–≥–æ—Ä–∞–µ—Ç.',
            removes: 'üÖ±Ô∏èüõêüåà',
            takenBy: 'violation',
            sale: '–ù–µ—Ç',
            transfer: '–ù–µ—Ç',
            conversion: '–ù–µ—Ç',
            protection: '–î–∞',
            cannotUse: 'üåàüÉè‚òÆÔ∏èüî≤üåàüö®üíéüüß‚¨úÔ∏èüé¶üéπ‚ìÇÔ∏è‚ôéÔ∏è‚ôªÔ∏è',
            formula: '1 üö®',
            description: '–ö–∞—Ä—Ç–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è: –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–∞—Ä—Ç—ã –∏ üßø –Ω–∞ 4 –Ω–µ–¥–µ–ª–∏ –∏ —Å–Ω–∏–º–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ä—Ç—É.'
        },
        '–ë–∞–Ω–∫—Ä–æ—Ç': {
            effects: '–ó–∞–±–∏—Ä–∞–µ—Ç –≤—Å–µ –≤–∞—à–∏ –∫–∞—Ä—Ç—ã, –∫—Ä–æ–º–µ üßø, –ø—Ä–∏ –≤—ã–ø–∞–¥–µ–Ω–∏–∏ —Å üßø –¢–í –∫–æ–ª–µ—Å–∞.',
            application: '1 —Ä–∞–∑.',
            obtain: 'üßø –¢–í –∫–æ–ª–µ—Å–æ. üåã (‚ö´Ô∏è‚Ü©Ô∏èüé¥).',
            features: '–ï—Å–ª–∏ –ø—Ä–∏ –≤—ã–ø–∞–¥–µ–Ω–∏–∏ —Å üßø –¢–í –∫–æ–ª–µ—Å–∞ –≤–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å üé¥üÄÑÔ∏è –ø—É—Å—Ç, –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∫–∞—Ä—Ç—É –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ ‚ö´Ô∏è‚Ü©Ô∏èüé¥ –∏ –ø–∞–¥–∞–µ—Ç –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å: –º–æ–∂–Ω–æ —É–Ω–∏—á—Ç–æ–∂–∏—Ç—å –≤—Å–µ –∫–∞—Ä—Ç—ã –∏ üßø —É –æ–¥–Ω–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞.',
            removes: '–ù–µ—Ç',
            takenBy: 'danger',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–î–∞ (‚ö´Ô∏è‚Ü©Ô∏èüé¥)',
            protection: '–î–∞',
            cannotUse: 'üèßüõêüåãü™£',
            formula: '–ù–µ—Ç',
            description: '–û–ø–∞—Å–Ω–∞—è –∫–∞—Ä—Ç–∞: –æ–±–Ω—É–ª—è–µ—Ç –≤–∞—à–∏ –∫–∞—Ä—Ç—ã –ø—Ä–∏ –≤—ã–ø–∞–¥–µ–Ω–∏–∏ –∏–ª–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π –¥–ª—è —Ç–æ—Ç–∞–ª—å–Ω–æ–≥–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è —É –æ–¥–Ω–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞.'
        },
        '–≠–∫—Å—Ç–µ—Ä–º–∏–Ω–∞—Ç—É—Å': {
            effects: '–≠—Ñ–∏—Ä –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è. –ó–∞–ø–∞—Å–Ω–æ–µ –≤—Ä–µ–º—è –∏—Å—á–µ–∑–∞–µ—Ç. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ üÖæÔ∏è –∏ 10 üßø –¢–í –∫–æ–ª—ë—Å. –ü—Ä–æ—à–ª—ã–π –¥–æ–Ω–∞—Ç–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç 5 üßø –¢–í –∫–æ–ª–µ—Å.',
            application: '1 —Ä–∞–∑. –ö–∞–∫ –∫–∞—Ä—Ç—É üí£‚Ü©Ô∏èüé¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∑–∞–ø–∞—Å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –±–æ–ª—å—à–µ 3 —á–∞—Å–æ–≤.',
            obtain: 'üßø –¢–í –∫–æ–ª–µ—Å–æ. üåã –ü—Ä–µ–∏—Å–ø–æ–¥–Ω—è—è. üí£‚Ü©Ô∏èüé¥.',
            features: '–ù–µ–ª—å–∑—è —Å–Ω—è—Ç—å. –í–æ –≤—Ä–µ–º—è –≤—Ä–∞—â–µ–Ω–∏—è üßø –¢–í –∫–æ–ª–µ—Å–∞ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∑–∞–ø–∞—Å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ üé¥ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –±–µ–∑ üÖæÔ∏è. –í–µ–¥—É—â–∏–π –º–æ–∂–µ—Ç –¥–µ—Ä–∂–∞—Ç—å –∫–∞—Ä—Ç—É –¥–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.',
            removes: '–í–µ–¥—É—â–∏–º',
            takenBy: 'danger',
            sale: '–ù–µ—Ç',
            transfer: '–î–∞',
            conversion: '–î–∞ (üí£‚Ü©Ô∏èüé¥üßø)',
            protection: '–î–∞',
            cannotUse: '–î–æ–Ω–∞—Ç–µ—Ä–∞–º, –Ω–µ –≤—Ö–æ–¥—è—â–∏–º –≤ —Ç–æ–ø 10 —Å–ø–æ–Ω—Å–æ—Ä–æ–≤',
            formula: '–ù–µ—Ç',
            description: '–û–ø–∞—Å–Ω–∞—è –∫–∞—Ä—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ñ–∏—Ä–∞: –æ–±–Ω—É–ª—è–µ—Ç –∑–∞–ø–∞—Å–Ω–æ–µ –≤—Ä–µ–º—è –∏ –≤—ã–¥–∞—ë—Ç üÖæÔ∏è –∏ üßø.'
        }};
    


    // ============== –ò–ù–í–ï–ù–¢–ê–†–¨: –°–ü–†–ê–í–û–ß–ù–ò–ö –ö–ê–†–¢ (–°–ì–†–£–ü–ü–ò–†–û–í–ê–ù–ù–´–ô) ==============
    function getCardGroupTitle(type) {
        if (type === 'normal') return 'üÄÑÔ∏è –û–±—ã—á–Ω—ã–µ';
        if (type === 'activation') return 'üé¥ –ê–∫—Ç–∏–≤–∞—Ü–∏–∏';
        if (type === 'violation') return 'üö® –ù–∞—Ä—É—à–µ–Ω–∏—è';
        return '–°—É–ø–µ—Ä –ö–∞—Ä—Ç—ã';
    }

    function normalizeSearch(s) {
        return (s || '').toString().trim().toLowerCase();
    }

    function renderInventoryReferenceGrouped() {
        const groupsContainer = document.getElementById('inventoryReferenceGroups');
        if (!groupsContainer) return;

        const searchInput = document.getElementById('inventorySearch');
        const query = normalizeSearch(searchInput ? searchInput.value : '');

        // –°–æ–±–∏—Ä–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏, —Ñ–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –∑–∞–ø—Ä–æ—Å—É
        const entries = Object.entries(cardDatabase)
            .map(([name, data]) => {
                const emoji = cardEmojis[name] || 'üÉè';
                const type = cardTypes[name] || 'normal';
                return { name, data, emoji, type };
            })
            .filter(({ name, emoji }) => {
                if (!query) return true;
                return normalizeSearch(name).includes(query) || normalizeSearch(emoji).includes(query);
            })
            .sort((a, b) => a.name.localeCompare(b.name, 'ru'));

        // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º: –æ–±—ã—á–Ω—ã–µ / –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ / –Ω–∞—Ä—É—à–µ–Ω–∏—è (+ –¥—Ä—É–≥–æ–µ, –µ—Å–ª–∏ –µ—Å—Ç—å)
        const allowed = ['normal', 'activation', 'violation'];
        const buckets = { normal: [], activation: [], violation: [], other: [] };

        for (const item of entries) {
            if (allowed.includes(item.type)) buckets[item.type].push(item);
            else buckets.other.push(item);
        }

        groupsContainer.innerHTML = '';

        const orderedGroups = ['normal', 'activation', 'violation', 'other'];
        for (const g of orderedGroups) {
            const items = buckets[g];
            if (!items.length) continue;

            const group = document.createElement('div');
            // –°–≤–µ—Ä–Ω—É—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ü—Ä–∏ –ø–æ–∏—Å–∫–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ–º –≥—Ä—É–ø–ø—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
            group.className = query ? 'inventory-reference-group open' : 'inventory-reference-group';

            const title = document.createElement('div');
            title.className = 'inventory-reference-group-title';
            if (g === 'other') {
                title.innerHTML = `<span class="group-emoji" aria-hidden="true">üé≤</span> ${getCardGroupTitle(g)} (${items.length})`;
            } else {
                title.textContent = `${getCardGroupTitle(g)} (${items.length})`;
            }
            group.appendChild(title);

            // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º/—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≥—Ä—É–ø–ø—ã
            title.addEventListener('click', () => {
                group.classList.toggle('open');
            });

            const grid = document.createElement('div');
            grid.className = 'inventory-reference-grid';

            for (const { name, data, emoji } of items) {
                const card = document.createElement('div');
                card.className = 'inventory-reference-card';
                card.tabIndex = 0;

                card.innerHTML = `
                    <div class="inventory-reference-card-title">
                        <span class="emoji" aria-hidden="true">${emoji}</span>
                        <span>${name}</span>
                    </div>
                    <div class="inventory-reference-card-desc">${data.description || '–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}</div>
                `;

                // –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–µ: –¥–æ–±–∞–≤–∏—Ç—å 1 —à—Ç. –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
                const applyToInventory = () => {
                    addToInventory(name, 1);
                    const sel = document.getElementById('inventoryCardSelect');
                    if (sel) sel.value = name;
                };

                card.addEventListener('click', applyToInventory);
                card.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        applyToInventory();
                    }
                });

                grid.appendChild(card);
            }

            group.appendChild(grid);
            groupsContainer.appendChild(group);
        }

        // –ï—Å–ª–∏ –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
        if (!groupsContainer.children.length) {
            groupsContainer.innerHTML = `<div style="color: var(--text-secondary); padding: 10px 2px;">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É: <b>${query}</b></div>`;
        }
    }

    // –•—Ä–∞–Ω–∏–ª–∏—â–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
    let inventory = {};
    
    // ============== –§–£–ù–ö–¶–ò–ò –û–ë–©–ò–ï ==============
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    function showNotification(message, type = 'info') {
        const container = document.getElementById('notificationContainer');
        
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.innerHTML = message;
        
        container.appendChild(notification);
        
        setTimeout(() => {
            notification.classList.add('show');
        }, 10);
        
        setTimeout(() => {
            notification.classList.remove('show');
            setTimeout(() => {
                if (container.contains(notification)) {
                    container.removeChild(notification);
                }
            }, 300);
        }, 3000);
    }
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–∞—Ä—Ç—ã
    function calculateCardCost(cardName) {
        const hierarchy = {
            '–ö–æ–º–∏—Å—Å–∏—è': 1,
            '–°–µ—Ä–∞—è': 2,
            '–°–∏–Ω—è—è': 6,
            '–ó–µ–ª—ë–Ω–∞—è': 12,
            '–ë–µ–ª–∞—è': 24,
            '–ó–æ–ª–æ—Ç–∞—è': 48,
            '–ò–∑—É–º—Ä—É–¥–Ω–∞—è': 96,
            '–†—É–±–∏–Ω–æ–≤–∞—è': 288
        };
        
        return hierarchy[cardName] || 0;
    }
    
    // –§—É–Ω–∫—Ü–∏—è: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–±–æ—Ä–∞ –∫–∞—Ä—Ç—ã
    function getCardBreakdown(cardName, count = 1) {
        const hierarchy = [
            { name: '–†—É–±–∏–Ω–æ–≤–∞—è', emoji: 'üö®', value: 288 },
            { name: '–ò–∑—É–º—Ä—É–¥–Ω–∞—è', emoji: 'üíé', value: 96 },
            { name: '–ó–æ–ª–æ—Ç–∞—è', emoji: 'üüß', value: 48 },
            { name: '–ë–µ–ª–∞—è', emoji: '‚¨úÔ∏è', value: 24 },
            { name: '–ó–µ–ª—ë–Ω–∞—è', emoji: 'üü©', value: 12 },
            { name: '–°–∏–Ω—è—è', emoji: 'üü¶', value: 6 },
            { name: '–°–µ—Ä–∞—è', emoji: '‚òëÔ∏è', value: 2 },
            { name: '–ö–æ–º–∏—Å—Å–∏—è', emoji: 'üîò', value: 1 }
        ];
        
        // –ù–∞–π—Ç–∏ —Ç–µ–∫—É—â—É—é –∫–∞—Ä—Ç—É
        const currentCard = hierarchy.find(c => c.name === cardName);
        if (!currentCard) return [];
        
        const totalValue = currentCard.value * count;
        
        // –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
        const breakdowns = [];
        
        // –î–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç—ã –≤—ã—à–µ –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏
        hierarchy.slice(0, hierarchy.findIndex(c => c.name === cardName)).forEach(targetCard => {
            const amount = Math.floor(totalValue / targetCard.value);
            if (amount > 0) {
                breakdowns.push({
                    card: targetCard.name,
                    emoji: targetCard.emoji,
                    amount: amount,
                    remainder: totalValue % targetCard.value
                });
            }
        });
        
        return breakdowns;
    }
    
    // ============== –§–£–ù–ö–¶–ò–ò –ò–ù–í–ï–ù–¢–ê–†–Ø ==============
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
    function updateInventoryDisplay() {
        const inventoryList = document.getElementById('inventoryList');
        const inventorySummary = document.getElementById('inventorySummary');
        const inventoryTotalCount = document.getElementById('inventoryTotalCount');
        
        // –û—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫
        inventoryList.innerHTML = '';
        
        // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç
        let totalCards = 0;
        let hasCards = false;
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç—ã –≤ —Å–ø–∏—Å–æ–∫
        for (const [cardName, count] of Object.entries(inventory)) {
            if (count > 0) {
                hasCards = true;
                totalCards += count;
                
                const emoji = cardEmojis[cardName] || 'üÉè';
                
                const item = document.createElement('div');
                item.className = 'inventory-item';
                item.innerHTML = `
                    <div class="inventory-item-info">
                        <span class="inventory-item-emoji">${emoji}</span>
                        <span class="inventory-item-name">${cardName}</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span class="inventory-item-count">${count}</span>
                        <button class="inventory-item-remove" data-card="${cardName}">‚úï</button>
                    </div>
                `;
                
                inventoryList.appendChild(item);
            }
        }
        
        // –ï—Å–ª–∏ –Ω–µ—Ç –∫–∞—Ä—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        if (!hasCards) {
            inventoryList.innerHTML = `
                <div class="empty-inventory">
                    <div class="empty-inventory-emoji">üì≠</div>
                    <p>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</p>
                    <p style="font-size: 0.9rem; margin-top: 8px;">–î–æ–±–∞–≤—å—Ç–µ –∫–∞—Ä—Ç—ã —Å –ø–æ–º–æ—â—å—é —Ñ–æ—Ä–º—ã –≤—ã—à–µ</p>
                </div>
            `;
            inventorySummary.style.display = 'none';
        } else {
            inventorySummary.style.display = 'flex';
            inventoryTotalCount.textContent = totalCards;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            updateResultsFromInventory();
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è
        document.querySelectorAll('.inventory-item-remove').forEach(button => {
            button.addEventListener('click', function() {
                const cardName = this.getAttribute('data-card');
                removeFromInventory(cardName);
            });
        });
    }
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
    function addToInventory(cardName, count) {
        if (!cardName || count < 1) {
            showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É –∏ —É–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ', 'warning');
            return;
        }
        
        if (!inventory[cardName]) {
            inventory[cardName] = 0;
        }
        
        inventory[cardName] += count;
        updateInventoryDisplay();
        
        const emoji = cardEmojis[cardName] || 'üÉè';
        showNotification(`–î–æ–±–∞–≤–ª–µ–Ω–æ: ${emoji} ${cardName} √ó ${count}`, 'success');
    }
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã –∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
    function removeFromInventory(cardName) {
        if (inventory[cardName]) {
            const count = inventory[cardName];
            delete inventory[cardName];
            updateInventoryDisplay();
            
            const emoji = cardEmojis[cardName] || 'üÉè';
            showNotification(`–£–¥–∞–ª–µ–Ω–æ: ${emoji} ${cardName} √ó ${count}`, 'info');
        }
    }
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –≤—Å–µ–≥–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
    function clearInventory() {
        if (Object.keys(inventory).length === 0) {
            showNotification('–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å —É–∂–µ –ø—É—Å—Ç', 'warning');
            return;
        }
        
        const cardCount = Object.values(inventory).reduce((a, b) => a + b, 0);
        inventory = {};
        updateInventoryDisplay();
        
        showNotification(`–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –æ—á–∏—â–µ–Ω (—É–¥–∞–ª–µ–Ω–æ ${cardCount} –∫–∞—Ä—Ç)`, 'info');
    }
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
    function updateResultsFromInventory() {
        const resultsContainer = document.getElementById('results');
        
        if (Object.keys(inventory).length === 0) {
            resultsContainer.innerHTML = `
                <div style="text-align:center;padding:30px;color:var(--text-secondary)">
                    <div style="font-size:3rem;margin-bottom:16px;opacity:0.5"><span aria-hidden="true">üìä</span></div>
                    <p style="font-size:1rem;margin-bottom:8px">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</p>
                    <p style="font-size:0.85rem;opacity:0.7">–î–æ–±–∞–≤—å—Ç–µ –∫–∞—Ä—Ç—ã –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</p>
                </div>
            `;
            return;
        }
        
        let totalValue = 0;
        let totalCards = 0;
        let totalTypes = Object.keys(inventory).length;
        
        let html = '<div style="padding: 10px;">';
        html += '<h4 style="background: linear-gradient(90deg, var(--brand-dark) 0%, var(--brand) 45%, var(--brand-light) 100%); -webkit-background-clip: text; background-clip: text; color: transparent; margin-bottom: 15px;">üì¶ –í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</h4>';
        
        // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∫–∞—Ä—Ç—ã –ø–æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (–æ—Ç –¥–æ—Ä–æ–≥–∏—Ö –∫ –¥–µ—à–µ–≤—ã–º)
        const sortedCards = Object.keys(inventory).sort((a, b) => {
            return calculateCardCost(b) - calculateCardCost(a);
        });
        
        sortedCards.forEach(cardName => {
            const count = inventory[cardName];
            const cardValue = calculateCardCost(cardName) * count;
            totalValue += cardValue;
            totalCards += count;
            const emoji = cardEmojis[cardName] || 'üÉè';
            
            html += `
                <div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span class="emoji" aria-hidden="true">${emoji}</span>
                        <span style="color: var(--text);">${cardName}</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span style="font-weight: 700; color: var(--brand);">${count} —à—Ç.</span>
                        <span style="font-size: 0.85rem; color: var(--text-secondary);">(${cardValue} üîò)</span>
                    </div>
                </div>
            `;
        });
        
        // –î–æ–±–∞–≤–∏–º –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å–±–æ—Ä–∫–∏
        html += `
            <div style="margin-top: 20px; padding-top: 15px; border-top: 2px solid var(--brand);">
                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                    <span style="color: var(--text);">–í—Å–µ–≥–æ –∫–∞—Ä—Ç:</span>
                    <span style="font-weight: 700; color: var(--brand);">${totalCards} —à—Ç.</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                    <span style="color: var(--text);">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</span>
                    <span style="font-weight: 700; color: var(--brand);">${totalValue} üîò</span>
                </div>
        `;
        
        // –ü–æ–∫–∞–∂–µ–º, —á—Ç–æ –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –∏–∑ —ç—Ç–æ–≥–æ
        if (totalValue > 0) {
            const valuableCards = [
                { name: '–†—É–±–∏–Ω–æ–≤–∞—è', emoji: 'üö®', value: 288 },
                { name: '–ò–∑—É–º—Ä—É–¥–Ω–∞—è', emoji: 'üíé', value: 96 },
                { name: '–ó–æ–ª–æ—Ç–∞—è', emoji: 'üüß', value: 48 },
                { name: '–ë–µ–ª–∞—è', emoji: '‚¨úÔ∏è', value: 24 },
                { name: '–ó–µ–ª—ë–Ω–∞—è', emoji: 'üü©', value: 12 },
                { name: '–°–∏–Ω—è—è', emoji: 'üü¶', value: 6 },
                { name: '–°–µ—Ä–∞—è', emoji: '‚òëÔ∏è', value: 2 }
            ];
            
            let hasValuableCards = false;
            
            valuableCards.forEach(card => {
                const amount = Math.floor(totalValue / card.value);
                
                if (amount > 0) {
                    if (!hasValuableCards) {
                        html += `<div style="margin-top: 10px; font-size: 0.9rem; color: var(--text-secondary);">–ú–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å:</div>`;
                        hasValuableCards = true;
                    }
                    
                    html += `
                        <div style="display: flex; justify-content: space-between; padding: 8px; background: rgba(73, 185, 255, 0.1); border-radius: 6px; margin-bottom: 5px;">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <span>${card.emoji}</span>
                                <span style="color: var(--text);">${card.name}</span>
                            </div>
                            <span style="font-weight: 600; color: var(--brand);">${amount} —à—Ç.</span>
                        </div>
                    `;
                }
            });
        }
        
        html += `
            </div>
        `;
        
        html += '</div>';
        resultsContainer.innerHTML = html;
    }
    
    // ============== –§–£–ù–ö–¶–ò–ò –ò–ù–§–û–†–ú–ê–¶–ò–ò –û –ö–ê–†–¢–ï ==============

    // --- Helpers: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —ç–º–æ–¥–∑–∏ –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π ---
    // –í–∞–∂–Ω–æ: split('') –ª–æ–º–∞–µ—Ç —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–µ –ø–∞—Ä—ã –∏ ZWJ-—Å–µ–∫–≤–µ–Ω—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä üè≥Ô∏è‚Äçüåà),
    // –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ–º Unicode property escapes.
    const EMOJI_RE = /\p{Extended_Pictographic}(?:\uFE0F|\uFE0E|\u200D\p{Extended_Pictographic})*/gu;

    function extractEmojis(text) {
        if (!text) return [];
        const m = String(text).match(EMOJI_RE);
        return m ? m : [];
    }

    function stripEmojis(text) {
        if (!text) return '';
        return String(text)
            .replace(EMOJI_RE, '')
            .replace(/[\s,.;:+√ó\-‚Äì‚Äî()\[\]{}]/g, '')
            .trim();
    }

    function emojiToCardName(emoji) {
        // –ò—â–µ–º –ø–æ —Ç–æ—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é —ç–º–æ–¥–∑–∏-—Å–µ–∫–≤–µ–Ω—Ü–∏–∏
        const hit = Object.entries(cardEmojis).find(([, e]) => e === emoji);
        return hit ? hit[0] : '';
    }

    function renderEmojiTagList(titleIcon, titleText, rawValue, wrapperClass) {
        const emojis = extractEmojis(rawValue);
        if (!emojis.length) return '';

        let html = `
            <div class="${wrapperClass}">
                <div class="card-info-title">${titleIcon} ${titleText}</div>
                <div class="card-tags">
        `;

        for (const em of emojis) {
            const name = emojiToCardName(em);
            if (name) {
                html += `<span class="card-tag"><span class="emoji" aria-hidden="true">${em}</span> ${name}</span>`;
            } else {
                html += `<span class="card-tag"><span class="emoji" aria-hidden="true">${em}</span></span>`;
            }
        }

        html += `
                </div>
            </div>
        `;
        return html;
    }
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞—Ä—Ç–µ
    function showCardInfo(cardName) {
        const resultsContainer = document.getElementById('results');
        const cardInfoContainer = document.getElementById('cardInfoContainer');
        
        if (!cardDatabase[cardName]) {
            showNotification('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç—Ç–æ–π –∫–∞—Ä—Ç–µ –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞', 'warning');
            return;
        }
        
        const cardData = cardDatabase[cardName];
        const emoji = cardEmojis[cardName] || 'üÉè';
        const cardType = cardTypes[cardName] || 'normal';
        const takingType = cardTakingType[cardName] || 'normal';
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–ø–∞
        let typeName = '–û–±—ã—á–Ω–∞—è';
        let typeClass = 'type-normal';
        
        switch(cardType) {
            case 'activation':
                typeName = '–ê–∫—Ç–∏–≤–∞—Ü–∏—è';
                typeClass = 'type-activation';
                break;
            case 'violation':
                typeName = '–ù–∞—Ä—É—à–µ–Ω–∏–µ';
                typeClass = 'type-violation';
                break;
            case 'danger':
                typeName = '–û–ø–∞—Å–Ω–∞—è';
                typeClass = 'type-danger';
                break;
            case 'super':
                typeName = '–°—É–ø–µ—Ä';
                typeClass = 'type-super';
                break;
        }
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∑–∞–±–∏—Ä–∞–Ω–∏—è
        let takingName = '–û–±—ã—á–Ω—ã–π';
        switch(takingType) {
            case 'activation':
                takingName = '–ê–∫—Ç–∏–≤–∞—Ü–∏—è';
                break;
            case 'violation':
                takingName = '–ù–∞—Ä—É—à–µ–Ω–∏–µ';
                break;
            case 'danger':
                takingName = '–û–ø–∞—Å–Ω—ã–π';
                break;
            case 'super':
                takingName = '–°—É–ø–µ—Ä';
                break;
        }
        
        // –°–æ–∑–¥–∞–µ–º HTML –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞—Ä—Ç–µ
        let html = `
            <div class="card-info-header">
                <div class="card-info-emoji">${emoji}</div>
                <div>
                    <div class="card-info-name">${cardName}</div>
                    <span class="card-info-type ${typeClass}">${typeName} –∫–∞—Ä—Ç–∞</span>
                </div>
            </div>
            
            <div class="card-info-grid">
                <div class="card-info-box">
                    <div class="card-info-title">üéØ –≠—Ñ—Ñ–µ–∫—Ç—ã</div>
                    <div class="card-info-content">${cardData.effects}</div>
                </div>
                
                <div class="card-info-box">
                    <div class="card-info-title">‚ö°Ô∏è –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</div>
                    <div class="card-info-content">${cardData.application}</div>
                </div>
                
                <div class="card-info-box">
                    <div class="card-info-title">üì• –ü–æ–ª—É—á–µ–Ω–∏–µ</div>
                    <div class="card-info-content">${cardData.obtain}</div>
                </div>
                
                <div class="card-info-box">
                    <div class="card-info-title">üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</div>
                    <div class="card-info-content">${cardData.features}</div>
                </div>
            </div>
            
            <div class="card-formula-box">
                <div class="card-formula-title">üßÆ –§–æ—Ä–º—É–ª–∞ —Å–±–æ—Ä–∫–∏</div>
                <div class="card-formula">${cardData.formula}</div>
                <div class="card-info-content">${cardData.description}</div>
            </div>
            
            <div class="card-info-grid">
                <div class="card-info-box">
                    <div class="card-info-title">üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –∫–∞—Ä—Ç—ã</div>
                    <div class="card-info-content">${cardData.protection}</div>
                </div>
                
                <div class="card-info-box">
                    <div class="card-info-title">üìä –¢–∏–ø –∑–∞–±–∏—Ä–∞–Ω–∏—è</div>
                    <div class="card-info-content">${takingName} (${takingType})</div>
                </div>
                
                <div class="card-info-box">
                    <div class="card-info-title">üí∞ –ü—Ä–æ–¥–∞–∂–∞</div>
                    <div class="card-info-content">${cardData.sale}</div>
                </div>
                
                <div class="card-info-box">
                    <div class="card-info-title">üîÑ –ü–µ—Ä–µ–¥–∞—á–∞</div>
                    <div class="card-info-content">${cardData.transfer}</div>
                </div>
                
                <div class="card-info-box">
                    <div class="card-info-title">üîÑ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è</div>
                    <div class="card-info-content">${cardData.conversion}</div>
                </div>
            </div>
        `;
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–Ω–∏–º–∞–µ–º—ã—Ö –∫–∞—Ä—Ç–∞—Ö, –µ—Å–ª–∏ –µ—Å—Ç—å
        if (cardData.removes && cardData.removes !== '–Ω–µ—Ç' && cardData.removes !== '–í–µ–¥—É—â–∏–º') {
            html += renderEmojiTagList('‚úÖ', '–°–Ω–∏–º–∞–µ—Ç –∫–∞—Ä—Ç—ã', cardData.removes, 'card-removes-box');
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞—â–∏—Ç–µ, –µ—Å–ª–∏ –µ—Å—Ç—å
        if (cardData.protection && cardData.protection !== '–Ω–µ—Ç' && cardData.protection !== '–î–∞') {
            html += renderEmojiTagList('üõ°Ô∏è', '–ó–∞—â–∏—â–µ–Ω–æ –æ—Ç', cardData.protection, 'card-protected-box');
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –Ω–∞ —á—Ç–æ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –µ—Å–ª–∏ –µ—Å—Ç—å
        if (cardData.cannotUse && cardData.cannotUse !== '–Ω–µ—Ç') {
            const raw = String(cardData.cannotUse).trim();
            const emojis = extractEmojis(raw);
            const hasText = stripEmojis(raw).length > 0;

            // –ï—Å–ª–∏ —ç—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä "–î–æ–Ω–∞—Ç–µ—Ä–∞–º..."), –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º,
            // –∞ –Ω–µ "–ø—É–∑—ã—Ä—å–∫–∞–º–∏" –ø–æ —Å–∏–º–≤–æ–ª–∞–º.
            if (!emojis.length || hasText) {
                html += `
                    <div class="card-cannot-box">
                        <div class="card-info-title">üö´ –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞</div>
                        <div class="card-info-content">${raw}</div>
                    </div>
                `;
            } else {
                html += renderEmojiTagList('üö´', '–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞', raw, 'card-cannot-box');
            }
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
        cardInfoContainer.innerHTML = html;
        cardInfoContainer.style.display = 'block';
        
        // –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        resultsContainer.innerHTML = `
            <div style="padding: 20px;">
                <h4 style="background: linear-gradient(90deg, var(--brand-dark) 0%, var(--brand) 45%, var(--brand-light) 100%); -webkit-background-clip: text; background-clip: text; color: transparent; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                    ${emoji} –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ä—Ç–µ: ${cardName}
                </h4>
                <div style="background: rgba(73, 185, 255, 0.15); border-radius: 10px; padding: 15px; margin-bottom: 20px; border-left: 4px solid var(--brand);">
                    <div style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 5px;">
                        –¢–∏–ø –∫–∞—Ä—Ç—ã:
                    </div>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div style="font-size: 1.2rem; font-weight: 800; color: var(--brand);">
                            ${typeName}
                        </div>
                        <div style="font-size: 0.9rem; color: var(--text-secondary); margin-left: auto;">
                            –ó–∞–±–∏—Ä–∞–µ—Ç—Å—è: ${takingName}
                        </div>
                    </div>
                </div>
                <div style="margin-top: 10px; padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                    <div style="font-size: 0.9rem; color: var(--text-secondary);">
                        <strong>üìù –û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${cardData.description}
                    </div>
                </div>
                <div style="margin-top: 15px; font-size: 0.85rem; color: var(--text-secondary); text-align: center;">
                    –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ä—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤—ã—à–µ –≤ —Ä–∞–∑–¥–µ–ª–µ "–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π"
                </div>
            </div>
        `;
        
        showNotification(`–ó–∞–≥—Ä—É–∂–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ä—Ç–µ: ${emoji} ${cardName}`, 'success');
    }
    
    // ============== –§–£–ù–ö–¶–ò–ò –ü–ê–†–°–ï–†–ê ==============
    
    // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞
    let autolentResults = {
        users: {},
        cards: {},
        totalUsers: 0,
        totalCards: 0
    };
    
    // –ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞
    function parseAutolentText(text) {
        // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
        // - —Å–∫–ª–µ–∏–≤–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤–∏–¥–∞ "üá©üá™–ë–∞–ª—Ç–∏–∫", "–ë–∞–ª—Ç–∏–∫üá©üá™", "–ë–∞–ª—Ç–∏–∫ üá©üá™" –≤ "–ë–∞–ª—Ç–∏–∫"
        // - —Å—Ö–ª–æ–ø—ã–≤–∞–µ—Ç –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã
        // - —É–±–∏—Ä–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø–æ–¥—Ä—è–¥ —Å–ª–æ–≤–∞ ("–ü—Ä–æ—Ç–≤–µ–Ω—å –ü—Ä–æ—Ç–≤–µ–Ω—å" -> "–ü—Ä–æ—Ç–≤–µ–Ω—å")
        // –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ª–æ–≥–∏–∫–∞ –∫–∞—Ä—Ç/–ø–∞—Ä—Å–∏–Ω–≥–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è, –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–ª—é—á –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
        function normalizeUsername(raw) {
            let s = String(raw || '').trim();

            // –£–±–∏—Ä–∞–µ–º —Ñ–ª–∞–≥–∏ (—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã) –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ –∏ –≤ –≤–∏–¥–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞
            // –§–ª–∞–≥ = –ø–∞—Ä–∞ —Å—É—Ä—Ä–æ–≥–∞—Ç–æ–≤: \uD83C[\uDDE6-\uDDFF]\uD83C[\uDDE6-\uDDFF]
            const flagRe = /\uD83C[\uDDE6-\uDDFF]\uD83C[\uDDE6-\uDDFF]/g;
            s = s.replace(flagRe, ' ');

            // –¢–æ—á–∫–∏ –≤ –∏–º–µ–Ω–∞—Ö —Å—á–∏—Ç–∞–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ ("–ë–µ–ª.–ï–≤—Ä–µ–π" => "–ë–µ–ª –ï–≤—Ä–µ–π")
            s = s.replace(/\.+/g, ' ');

            // –°—Ö–ª–æ–ø—ã–≤–∞–µ–º –ø—Ä–æ–±–µ–ª—ã
            s = s.replace(/\s+/g, ' ').trim();

            // –†–∞–∑–ª–µ–ø–ª—è–µ–º –ø—Ä–∏–∫–ª–µ–µ–Ω–Ω—ã–µ –∫–æ–¥—ã —Å—Ç—Ä–∞–Ω—ã/—Ä–µ–≥–∏–æ–Ω–∞ (–ª–∞—Ç–∏–Ω–∏—Ü–∞) –≤ –∫–æ–Ω—Ü–µ —Å–ª–æ–≤–∞: "–ê–ª–µ–∫—Å–µ—èRU" => "–ê–ª–µ–∫—Å–µ—è RU"
            s = s.replace(/([A-Za-z–ê-–Ø–∞-—è–Å—ë]+)(RU|UA|KZ|BY|RB|RF|EU|US)\b/g, '$1 $2');

            // –†–∞–∑–ª–µ–ø–ª—è–µ–º –ø—Ä–∏–∫–ª–µ–µ–Ω–Ω—ã–µ –∫–æ–¥—ã —Å—Ç—Ä–∞–Ω—ã/—Ä–µ–≥–∏–æ–Ω–∞ (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞) –≤ –∫–æ–Ω—Ü–µ —Å–ª–æ–≤–∞: "–ü–∞–≤–µ–ª–†–ë" => "–ü–∞–≤–µ–ª –†–ë"
            s = s.replace(/([A-Za-z–ê-–Ø–∞-—è–Å—ë]+)(–†–ë|–†–§)\b/gu, '$1 $2');

            // –°—Ö–ª–æ–ø—ã–≤–∞–µ–º –ø—Ä–æ–±–µ–ª—ã
            s = s.replace(/\s+/g, ' ').trim();

            // –°—Ö–ª–æ–ø—ã–≤–∞–µ–º –ø–æ–¥—Ä—è–¥ –∏–¥—É—â–∏–µ –ø–æ–≤—Ç–æ—Ä—ã —Å–ª–æ–≤
            s = s.replace(/\b([A-Za-z–ê-–Ø–∞-—è–Å—ë0-9_]+)(?:\s+\1\b)+/gu, '$1');

            // –°–ø–µ—Ü-–ø—Ä–∞–≤–∏–ª–æ –¥–ª—è "–ü–∞–≤–µ–ª": "–ü–∞–≤–µ–ª –†–ë" –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º,
            // –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã "–ü–∞–≤–µ–ª" (–≤–∫–ª—é—á–∞—è "–ü–∞–≤–µ–ª.", "–ü–∞–≤–µ–ª RU", "–ü–∞–≤–µ–ª –†–§" –∏ —Ç.–ø.) –æ–±—ä–µ–¥–∏–Ω—è–µ–º –≤ "–ü–∞–≤–µ–ª".
            const parts = s.split(' ').filter(Boolean);
            if (parts.length >= 1 && /^–ü–∞–≤–µ–ª$/iu.test(parts[0])) {
                const codes = new Set(['RU','UA','KZ','BY','RB','RF','EU','US','–†–§']);
                if (parts.some(p => /^–†–ë$/iu.test(p))) {
                    return '–ü–∞–≤–µ–ª –†–ë';
                }
                // –ï—Å–ª–∏ –ø–æ—Å–ª–µ "–ü–∞–≤–µ–ª" –∏–¥—É—Ç —Ç–æ–ª—å–∫–æ –∫–æ–¥—ã/—Å–æ–∫—Ä–∞—â–µ–Ω–∏—è ‚Äî —Å—á–∏—Ç–∞–µ–º —ç—Ç–æ —Ç–µ–º –∂–µ –ü–∞–≤–ª–æ–º
                if (parts.length === 1 || parts.slice(1).every(p => codes.has(p.toUpperCase()))) {
                    return '–ü–∞–≤–µ–ª';
                }
            }

            return s;
        }

        // –£–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (–∏–Ω–æ–≥–¥–∞ –ø–æ—Å—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –¥–≤–∞–∂–¥—ã –ø–æ–¥—Ä—è–¥)
        function dedupeTelegramPost(rawText) {
            const t = String(rawText || "").trim();
            const anchor = 'üé≤–ò–≥—Ä–∞ "–ö–∞–ø–∏—Ç–∞–ª–∏–∑–º –∏ –ö–æ–º–º—É–Ω–∏–∑–º".';
            const first = t.indexOf(anchor);
            if (first === -1) return t;

            const second = t.indexOf(anchor, first + anchor.length);
            if (second === -1) return t;

            const a = t.slice(0, second).trim();
            const b = t.slice(second).trim();

            // –ï—Å–ª–∏ –≤—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω–∞ –ø–µ—Ä–≤–æ–π (–∏–ª–∏ –ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–∞) ‚Äî –±–µ—Ä—ë–º –ø–µ—Ä–≤—É—é
            if (b === a) return a;

            // –ß–∞—Å—Ç—ã–π —Å–ª—É—á–∞–π: —Ç–µ–∫—Å—Ç = A + "\n\n" + A
            // –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ "–ø–æ–ª–æ–≤–∏–Ω–µ" —Å –¥–æ–ø—É—Å–∫–æ–º –ø—Ä–æ–±–µ–ª–æ–≤/–ø–µ—Ä–µ–Ω–æ—Å–æ–≤
            const norm = (x) => x.replace(/\s+/g, " ").trim();
            if (norm(a) === norm(b)) return a;

            return t;
        }
        // –°–±—Ä–æ—Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        autolentResults = {
            users: {},
            cards: {},
            totalUsers: 0,
            totalCards: 0
        };
        
        if (!text.trim()) {
            showNotification('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞', 'warning');
            return false;
        }
        
        text = dedupeTelegramPost(text);
        const lines = text.split('\n');
        let currentCard = null;
        let currentCardName = '';
        
        for (const line of lines) {
            const trimmedLine = line.trim();
            if (!trimmedLine) continue;

            // –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Ä–∞–∑–¥–µ–ª–æ–≤/–∫–∞—Ç–µ–≥–æ—Ä–∏–π (–Ω–µ –∫–∞—Ä—Ç—ã) ‚Äî —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –∫–∞—Ä—Ç—É
            // –í–ê–ñ–ù–û: –±–µ–∑ —ç—Ç–æ–≥–æ —Å—Ç—Ä–æ–∫–∏ –ø–æ—Å–ª–µ "üéπ –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞" –æ—à–∏–±–æ—á–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å—Å—è –∫–∞–∫ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ
            if (/^‚ö°Ô∏è?\s*üßø/u.test(trimmedLine) && /–¢–í\s*–∫–æ–ª–µ—Å–æ/u.test(trimmedLine)) {
                // –≠—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–∏–ø –≤ –ø–∞—Ä—Å–∏–Ω–≥–µ
                currentCard = '–¢–í –∫–æ–ª–µ—Å–æ';
                currentCardName = '–¢–í –∫–æ–ª–µ—Å–æ';
                if (!autolentResults.cards['–¢–í –∫–æ–ª–µ—Å–æ']) {
                    autolentResults.cards['–¢–í –∫–æ–ª–µ—Å–æ'] = { total: 0, users: {} };
                }
                continue;
            }

            // –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏), –Ω–µ –¥–æ–ª–∂–Ω—ã "–¥–µ—Ä–∂–∞—Ç—å" —Ç–µ–∫—É—â—É—é –∫–∞—Ä—Ç—É
            if (/^‚ö°Ô∏è/u.test(trimmedLine) && (/(–ö–∞—Ä—Ç—ã\s*–ê–∫—Ç–∏–≤–∞—Ü|–û–±—ã—á–Ω—ã–µ)/iu.test(trimmedLine) || /üé¥|üÄÑÔ∏è/u.test(trimmedLine))) {
                currentCard = null;
                currentCardName = '';
                continue;
            }

            // –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏/–ø–æ–≤—Ç–æ—Ä –Ω–∞–∑–≤–∞–Ω–∏—è –∏–≥—Ä—ã ‚Äî —Å–±—Ä–æ—Å
            if (/^üé≤–ò–≥—Ä–∞\s*["‚Äú‚Äù]?–ö–∞–ø–∏—Ç–∞–ª–∏–∑–º\s*–∏\s*–ö–æ–º–º—É–Ω–∏–∑–º/iu.test(trimmedLine)) {
                currentCard = null;
                currentCardName = '';
                continue;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä–æ–∫–∞ –∫–∞—Ä—Ç–æ–π (—Å–æ–¥–µ—Ä–∂–∏—Ç —ç–º–æ–¥–∑–∏ –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã)
            let isCardLine = false;
            let cardName = '';
            
            // –ò—â–µ–º –ø–æ —ç–º–æ–¥–∑–∏
            for (const [name, emoji] of Object.entries(cardEmojis)) {
                if (trimmedLine.includes(emoji)) {
                    isCardLine = true;
                    cardName = name;
                    break;
                }
            }
            
            // –ò—â–µ–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
            if (!isCardLine) {
                for (const name of Object.keys(cardEmojis)) {
                    if (trimmedLine.toLowerCase().includes(name.toLowerCase())) {
                        isCardLine = true;
                        cardName = name;
                        break;
                    }
                }
            }
            
            if (isCardLine) {
                currentCard = cardName;
                currentCardName = cardName;
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–∞—Ä—Ç—É –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
                if (!autolentResults.cards[cardName]) {
                    autolentResults.cards[cardName] = {
                        total: 0,
                        users: {}
                    };
                }
            } else if (currentCard) {
                // –≠—Ç–æ —Å—Ç—Ä–æ–∫–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
                const userMatch = trimmedLine.match(/(.+?)\s*[-‚Äê‚Äë‚Äí‚Äì‚Äî‚Äï‚àíÔπ£Ôºç]\s*(\d+)/);
                if (userMatch) {
                    const username = normalizeUsername(userMatch[1]);
                    const count = parseInt(userMatch[2]);
                    
                    if (!isNaN(count) && count > 0) {
                        // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                        if (!autolentResults.users[username]) {
                            autolentResults.users[username] = {
                                cards: {},
                                total: 0
                            };
                        }
                        
                        // –î–æ–±–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
                        if (!autolentResults.users[username].cards[currentCard]) {
                            autolentResults.users[username].cards[currentCard] = 0;
                        }
                        
                        autolentResults.users[username].cards[currentCard] += count;
                        autolentResults.users[username].total += count;
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–∞—Ä—Ç–µ
                        autolentResults.cards[currentCard].total += count;
                        autolentResults.cards[currentCard].users[username] = 
                            (autolentResults.cards[currentCard].users[username] || 0) + count;
                        
                        autolentResults.totalCards += count;
                    }
                }
            }
        }
        
        // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        autolentResults.totalUsers = Object.keys(autolentResults.users).length;
        
        return autolentResults.totalCards > 0;
    }
    
    // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞
    function showAutolentResults() {
        const resultsContainer = document.getElementById('autolentResults');
        const statsContainer = document.getElementById('autolentStats');
        const cardsGrid = document.getElementById('autolentCardsGrid');
        const userResults = document.getElementById('autolentUserResults');
        const totalUsersElement = document.getElementById('autolentTotalUsers');
        const quickDownload = document.getElementById('autolentQuickDownload');
        const userSelector = document.getElementById('autolentUserSelector');
        const userSelect = document.getElementById('autolentUserSelect');
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
        resultsContainer.classList.add('visible');
        quickDownload.classList.add('visible');
        userSelector.classList.add('visible');
        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞ (–ø–æ –¢–ó): –Ω–µ –≤—ã–≤–æ–¥–∏–º —Å—á—ë—Ç—á–∏–∫–∏ –∏ –±–ª–æ–∫ "–ö–∞—Ä—Ç—ã –ø–æ —Ç–∏–ø–∞–º"

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        userSelect.innerHTML = '<option value="">-- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ --</option>';
        const sortedUsers = Object.keys(autolentResults.users)
            .sort((a, b) => autolentResults.users[b].total - autolentResults.users[a].total);
        
        sortedUsers.forEach(username => {
            const option = document.createElement('option');
            option.value = username;
            option.textContent = `${username} (${autolentResults.users[username].total} –∫–∞—Ä—Ç)`;
            userSelect.appendChild(option);
        });
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        showSelectedUser('');
        
        showNotification(`–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ: ${autolentResults.totalCards} –∫–∞—Ä—Ç –æ—Ç ${autolentResults.totalUsers} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π`, 'success');
    }
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ä—Ç—ã –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    function showSelectedUser(username) {
        const userResults = document.getElementById('autolentUserResults');
        const resultsTitle = document.getElementById('autolentResultsTitle');
        
        userResults.innerHTML = '';
        
        if (username) {
            // –ü–æ–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            resultsTitle.textContent = `üë§ –ö–∞—Ä—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ${username}`;
            const userData = autolentResults.users[username];
            
            if (userData) {
                const userCard = document.createElement('div');
                userCard.className = 'autolent-user-card';
                
                let cardsHTML = '';
                const sortedCards = Object.entries(userData.cards)
                    .sort((a, b) => b[1] - a[1]);
                
                sortedCards.forEach(([cardName, count]) => {
                    const emoji = cardEmojis[cardName] || 'üÉè';
                    cardsHTML += `
                        <div class="autolent-user-card-item">
                            <div class="autolent-user-card-name">
                                <span class="emoji" aria-hidden="true">${emoji}</span>
                                <span>${cardName}</span>
                            </div>
                            <span class="autolent-user-card-count">${count}</span>
                        </div>
                    `;
                });
                
                userCard.innerHTML = `
                    <div class="autolent-user-name">
                        üë§ ${username}
                        <span style="font-size: 0.9rem; color: var(--brand); background: rgba(73, 185, 255, 0.2); padding: 4px 12px; border-radius: 20px;">
                            –í—Å–µ–≥–æ –∫–∞—Ä—Ç: ${userData.total}
                        </span>
                    </div>
                    ${cardsHTML}
                `;
                
                userCard.style.cursor = 'pointer';
                userCard.addEventListener('click', () => applyUserToInventory(username));

                userResults.appendChild(userCard);
            }
        } else {
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            resultsTitle.textContent = `üë§ –ö–∞—Ä—Ç—ã –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (${autolentResults.totalUsers})`;
            
            const sortedUsers = Object.entries(autolentResults.users)
                .sort((a, b) => b[1].total - a[1].total);
            
            sortedUsers.forEach(([username, userData]) => {
                const userCard = document.createElement('div');
                userCard.className = 'autolent-user-card';
                
                // –°–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ç–æ–ø-3 –∫–∞—Ä—Ç
                const topCards = Object.entries(userData.cards)
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 3);
                
                let cardsHTML = '';
                topCards.forEach(([cardName, count]) => {
                    const emoji = cardEmojis[cardName] || 'üÉè';
                    cardsHTML += `
                        <div class="autolent-user-card-item">
                            <div class="autolent-user-card-name">
                                <span class="emoji" aria-hidden="true">${emoji}</span>
                                <span>${cardName}</span>
                            </div>
                            <span class="autolent-user-card-count">${count}</span>
                        </div>
                    `;
                });
                
                // –ï—Å–ª–∏ –∫–∞—Ä—Ç –±–æ–ª—å—à–µ 3, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
                const otherCardsCount = Object.keys(userData.cards).length - 3;
                if (otherCardsCount > 0) {
                    cardsHTML += `
                        <div class="autolent-user-card-item">
                            <div class="autolent-user-card-name">
                                <span>üìä</span>
                                <span>–î—Ä—É–≥–∏–µ –∫–∞—Ä—Ç—ã</span>
                            </div>
                            <span class="autolent-user-card-count">+${otherCardsCount} —Ç–∏–ø–æ–≤</span>
                        </div>
                    `;
                }
                
                userCard.innerHTML = `
                    <div class="autolent-user-name">
                        üë§ ${username}
                        <span style="font-size: 0.9rem; color: var(--brand); background: rgba(73, 185, 255, 0.2); padding: 4px 12px; border-radius: 20px;">
                            ${userData.total} –∫–∞—Ä—Ç
                        </span>
                    </div>
                    ${cardsHTML}
                `;
                
                userCard.style.cursor = 'pointer';
                userCard.addEventListener('click', () => applyUserToInventory(username));

                userResults.appendChild(userCard);
            });
        }
    }
    
    
    // –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–∞—Ä—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å (–ø–æ –∫–ª–∏–∫—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
    function applyUserToInventory(username) {
        const userData = autolentResults.users[username];
        if (!userData) return;

        // –û—á–∏—â–∞–µ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏ –∑–∞–ø–æ–ª–Ω—è–µ–º –∏–∑ –ø–∞—Ä—Å–∏–Ω–≥–∞
        clearInventory();
        const entries = Object.entries(userData.cards).sort((a,b)=>b[1]-a[1]);
        entries.forEach(([cardName, count]) => {
            addToInventory(cardName, count);
        });
        updateResultsFromInventory();

        // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
        try {
            const modeInventoryBtn = document.getElementById('modeInventoryBtn');
            if (modeInventoryBtn) modeInventoryBtn.click();
        } catch(e) {}

        showNotification(`–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∑–∞–ø–æ–ª–Ω–µ–Ω –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é: ${username}`, 'success');
    }

// –°–∫–∞—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ TXT
    function downloadAutolentResults(selectedUser = '') {
        if (!autolentResults || autolentResults.totalCards === 0) {
            showNotification('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è', 'warning');
            return;
        }
        
        let content = '=== –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–ê–†–°–ò–ù–ì–ê –ö–ê–†–¢ ===\n';
        content += `–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: ${new Date().toLocaleString('ru-RU')}\n`;
        content += '=================================\n\n';
        
        if (selectedUser) {
            // –°–∫–∞—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const userData = autolentResults.users[selectedUser];
            if (!userData) return;
            
            content += `–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨: ${selectedUser}\n`;
            content += `–í—Å–µ–≥–æ –∫–∞—Ä—Ç: ${userData.total}\n\n`;
            content += '–°–ü–ò–°–û–ö –ö–ê–†–¢:\n';
            
            const sortedCards = Object.entries(userData.cards)
                .sort((a, b) => b[1] - a[1]);
            
            sortedCards.forEach(([cardName, count]) => {
                const emoji = cardEmojis[cardName] || 'üÉè';
                content += `${emoji} ${cardName} - ${count}\n`;
            });
        } else {
            // –°–∫–∞—á–∞—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            content += `–û–ë–©–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê:\n`;
            content += `‚Ä¢ –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ${autolentResults.totalUsers}\n`;
            content += `‚Ä¢ –í—Å–µ–≥–æ –∫–∞—Ä—Ç: ${autolentResults.totalCards}\n`;
            content += `‚Ä¢ –¢–∏–ø–æ–≤ –∫–∞—Ä—Ç: ${Object.keys(autolentResults.cards).length}\n\n`;
            
            content += '–ö–ê–†–¢–´ –ü–û –¢–ò–ü–ê–ú:\n';
            const sortedCards = Object.entries(autolentResults.cards)
                .sort((a, b) => b[1].total - a[1].total);
            
            sortedCards.forEach(([cardName, cardData]) => {
                const emoji = cardEmojis[cardName] || 'üÉè';
                content += `${emoji} ${cardName}: ${cardData.total} –∫–∞—Ä—Ç\n`;
            });
            
            content += '\n\n–ö–ê–†–¢–´ –ü–û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø–ú:\n';
            const sortedUsers = Object.entries(autolentResults.users)
                .sort((a, b) => b[1].total - a[1].total);
            
            sortedUsers.forEach(([username, userData]) => {
                content += `\n--- ${username} (${userData.total} –∫–∞—Ä—Ç) ---\n`;
                
                const sortedUserCards = Object.entries(userData.cards)
                    .sort((a, b) => b[1] - a[1]);
                
                sortedUserCards.forEach(([cardName, count]) => {
                    const emoji = cardEmojis[cardName] || 'üÉè';
                    content += `  ${emoji} ${cardName}: ${count}\n`;
                });
            });
        }
        
        // –°–æ–∑–¥–∞–µ–º blob –∏ —Å—Å—ã–ª–∫—É –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
        const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = selectedUser ? `–∫–∞—Ä—Ç—ã_${selectedUser}.txt` : '–≤—Å–µ_–∫–∞—Ä—Ç—ã.txt';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        
        showNotification('–§–∞–π–ª —Å–∫–∞—á–∞–Ω', 'success');
    }
    
    // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
    function handleFileUpload(file) {
        if (!file || !file.name.endsWith('.txt')) {
            showNotification('–í—ã–±–µ—Ä–∏—Ç–µ TXT —Ñ–∞–π–ª', 'warning');
            return;
        }
        
        const reader = new FileReader();
        reader.onload = function(e) {
            const text = e.target.result;
            document.getElementById('autolentText').value = text;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ
            const uploadInfo = document.getElementById('autolentUploadInfo');
            const uploadInfoText = document.getElementById('autolentUploadInfoText');
            uploadInfoText.textContent = `–ó–∞–≥—Ä—É–∂–µ–Ω —Ñ–∞–π–ª: ${file.name} (${Math.round(file.size / 1024)} KB)`;
            uploadInfo.classList.add('visible');
            
            showNotification(`–§–∞–π–ª "${file.name}" –∑–∞–≥—Ä—É–∂–µ–Ω`, 'success');
        };
        reader.readAsText(file);
    }
    
    // ============== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==============
    
    document.addEventListener('DOMContentLoaded', function() {
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤
const modeInventoryBtn = document.getElementById('modeInventoryBtn');
        const modeParserBtn = document.getElementById('modeParserBtn');
        const modeCardInfoBtn = document.getElementById('modeCardInfoBtn');
const contentInventory = document.getElementById('contentInventory');
        const contentParser = document.getElementById('contentParser');
        const contentCardInfo = document.getElementById('contentCardInfo');
        
        function switchMode(mode) {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã
modeInventoryBtn.classList.remove('active');
            modeParserBtn.classList.remove('active');
            modeCardInfoBtn.classList.remove('active');
contentInventory.classList.remove('active');
            contentParser.classList.remove('active');
            contentCardInfo.classList.remove('active');
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
            if (mode === 'inventory') {
                modeInventoryBtn.classList.add('active');
                contentInventory.classList.add('active');
            } else if (mode === 'parser') {
                modeParserBtn.classList.add('active');
                contentParser.classList.add('active');
            } else if (mode === 'cardinfo') {
                modeCardInfoBtn.classList.add('active');
                contentCardInfo.classList.add('active');
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞
            if (mode === 'inventory') {
                updateResultsFromInventory();
                renderInventoryReferenceGrouped();
            }
        }
modeInventoryBtn.addEventListener('click', () => switchMode('inventory'));
        modeParserBtn.addEventListener('click', () => switchMode('parser'));
        modeCardInfoBtn.addEventListener('click', () => switchMode('cardinfo'));

        // –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å: –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫—É (–æ–±—ã—á–Ω—ã–µ / –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ / –Ω–∞—Ä—É—à–µ–Ω–∏—è)
        const inventorySearch = document.getElementById('inventorySearch');
        if (inventorySearch) {
            
// Debounce –¥–ª—è –ø–æ–∏—Å–∫–∞ (–º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
let __invSearchTimer = null;
inventorySearch.addEventListener('input', () => {
    if (__invSearchTimer) clearTimeout(__invSearchTimer);
    __invSearchTimer = setTimeout(() => {
        renderInventoryReferenceGrouped();
    }, 250);
});
}
        // –†–µ–Ω–¥–µ—Ä —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        renderInventoryReferenceGrouped();


        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏
        function updateMoscowTime() {
            const now = new Date();
            const moscowTime = new Date(now.toLocaleString('en-US', { timeZone: 'Europe/Moscow' }));
            
            const hours = moscowTime.getHours().toString().padStart(2, '0');
            const minutes = moscowTime.getMinutes().toString().padStart(2, '0');
            const seconds = moscowTime.getSeconds().toString().padStart(2, '0');
            
            document.getElementById('timeDisplay').textContent = `${hours}:${minutes}:${seconds}`;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–æ—á–Ω–æ–µ –≤—Ä–µ–º—è
            const nightWarning = document.getElementById('nightWarning');
            if (moscowTime.getHours() >= 23 || moscowTime.getHours() < 6) {
                nightWarning.classList.add('visible');
            } else {
                nightWarning.classList.remove('visible');
            }
        }
        
        updateMoscowTime();
        setInterval(updateMoscowTime, 1000);
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
        const inventoryCardSelect = document.getElementById('inventoryCardSelect');
        const inventoryCardCount = document.getElementById('inventoryCardCount');
        const inventoryAddBtn = document.getElementById('inventoryAddBtn');
        const inventoryClearBtn = document.getElementById('inventoryClearBtn');
        
        inventoryAddBtn.addEventListener('click', function() {
            const cardName = inventoryCardSelect.value;
            const count = parseInt(inventoryCardCount.value) || 1;
            
            addToInventory(cardName, count);
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
            inventoryCardSelect.value = '';
            inventoryCardCount.value = '1';
        });
        
        inventoryClearBtn.addEventListener('click', clearInventory);
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è Enter –≤ –ø–æ–ª–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
        inventoryCardCount.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                inventoryAddBtn.click();
            }
        });
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–∞–∑—ã –∑–Ω–∞–Ω–∏–π
        const cardInfoSelect = document.getElementById('cardInfoSelect');

        // –ê–≤—Ç–æ–ø–æ–∫–∞–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–∞—Ä—Ç—ã
        cardInfoSelect.addEventListener('change', function() {
            const cardName = this.value;
            if (cardName) showCardInfo(cardName);
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ê–≤—Ç–æ–õ–µ–Ω—å
        const autolentText = document.getElementById('autolentText');
        const autolentParseBtn = document.getElementById('autolentParseBtn');
        const autolentClearBtn = document.getElementById('autolentClearBtn');
        const autolentDownloadAllBtn = document.getElementById('autolentDownloadAllBtn');
        const autolentDownloadSelectedBtn = document.getElementById('autolentDownloadSelectedBtn');
        const autolentUserSelect = document.getElementById('autolentUserSelect');
        const autolentToggleReferenceBtn = document.getElementById('autolentToggleReferenceBtn');
        const autolentHideReferenceBtn = document.getElementById('autolentHideReferenceBtn');
        const autolentReferenceSection = document.getElementById('autolentReferenceSection');
        const autolentFileInput = document.getElementById('autolentFileInput');
        const autolentClearUploadInfo = document.getElementById('autolentClearUploadInfo');
        const autolentUploadInfo = document.getElementById('autolentUploadInfo');
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞
        autolentParseBtn.addEventListener('click', function() {
            const text = autolentText.value.trim();
            if (!text) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞', 'warning');
                return;
            }
            
            const success = parseAutolentText(text);
            if (success) {
                showAutolentResults();
            } else {
                showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –∫–∞—Ä—Ç—ã –≤ —Ç–µ–∫—Å—Ç–µ', 'error');
            }
        });
        
        // –û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ
        autolentClearBtn.addEventListener('click', function() {
            autolentText.value = '';
            document.getElementById('autolentResults').classList.remove('visible');
            document.getElementById('autolentQuickDownload').classList.remove('visible');
            document.getElementById('autolentUserSelector').classList.remove('visible');
            autolentUploadInfo.classList.remove('visible');
            showNotification('–ü–æ–ª–µ –æ—á–∏—â–µ–Ω–æ', 'info');
        });
        
        // –°–∫–∞—á–∞—Ç—å –≤—Å–µ—Ö
        autolentDownloadAllBtn.addEventListener('click', function() {
            downloadAutolentResults('');
        });
        
        // –°–∫–∞—á–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        autolentDownloadSelectedBtn.addEventListener('click', function() {
            const selectedUser = autolentUserSelect.value;
            if (!selectedUser) {
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å–ø–∏—Å–∫–∞', 'warning');
                return;
            }
            downloadAutolentResults(selectedUser);
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        autolentUserSelect.addEventListener('change', function() {
            showSelectedUser(this.value);
        });
        
        // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–∞–º—è—Ç–∫—É
        if (autolentToggleReferenceBtn) {
        autolentToggleReferenceBtn.addEventListener('click', function() {
            autolentReferenceSection.classList.add('visible');
        });
        }
        
        autolentHideReferenceBtn.addEventListener('click', function() {
            autolentReferenceSection.classList.remove('visible');
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞
        autolentFileInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                handleFileUpload(file);
            }
        });
        
        // –û—á–∏—Å—Ç–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–≥—Ä—É–∑–∫–µ
        autolentClearUploadInfo.addEventListener('click', function() {
            autolentUploadInfo.classList.remove('visible');
        });
        
        // –ü—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—É—Å—Ç–æ–π placeholder
        setTimeout(() => {
            if (!autolentText.value.trim()) {
                autolentText.placeholder = "–í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ —Ç–µ–∫—Å—Ç —Å –ø–æ—Å—Ç–∞–º–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º–∏ —Å–ø–∏—Å–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫...\n\n–ü—Ä–∏–º–µ—Ä:\nüé¥–ö–∞—Ä—Ç—ã –ê–∫—Ç–∏–≤–∞—Ü–∏–π\nüö®–†—É–±–∏–Ω–æ–≤–∞—è\nüá©üá™–ë–∞–ª—Ç–∏–∫ - 1\n\nüÄÑÔ∏è–û–±—ã—á–Ω—ã–µ\n‚òëÔ∏è–°–µ—Ä–∞—è\n–û–∫—Å–∞–Ω–∞ - 1\n–û–∫—Å–∞–Ω–∞üá∑üá∫ - 2\n–û–∫—Å–∞–Ω–∞üá∞üáø - 1\nüü¶–°–∏–Ω—è—è\n–û–∫—Å–∞–Ω–∞ - 1";
            }
        }, 500);
    });
  
// === Worker Inventory Auto-Load (inv.v1) ===
const WORKER_INVENTORY_URL = "https://noisy-grass-2be4.nurlinec.workers.dev/api/inventory";

function invV1CardKeyToName(inv) {
  const map = Object.create(null);
  if (inv && Array.isArray(inv.cardCatalog)) {
    for (const c of inv.cardCatalog) {
      if (c && c.cardKey && c.cardName) map[c.cardKey] = c.cardName;
    }
  }
  return map;
}

function invV1NormalizeError(data) {
  if (!data) return "–ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –≤–æ—Ä–∫–µ—Ä–∞";
  const err = data.error;
  if (!err) return "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –≤–æ—Ä–∫–µ—Ä–∞";
  if (typeof err === "string") return err;
  if (err && typeof err === "object") {
    if (typeof err.message === "string" && err.message.trim()) return err.message;
    if (typeof err.code === "string" && err.code.trim()) return err.code;
  }
  try { return JSON.stringify(err); } catch (_) { return String(err); }
}

function buildAutolentResultsFromInvV1(payload) {
  const inv = payload && payload.inventory ? payload.inventory : null;
  const nameMap = invV1CardKeyToName(inv);

  const res = { users: {}, cards: {}, totalCards: 0, totalUsers: 0 };
  if (!inv || !Array.isArray(inv.users)) return res;

  for (const u of inv.users) {
    const uname = String((u && (u.name || u.key)) || "").trim();
    if (!uname) continue;

    if (!res.users[uname]) res.users[uname] = { cards: {}, total: 0, active: [] };

    const counts = (u && u.counts) ? u.counts : {};
    for (const k of Object.keys(counts)) {
      const n = Number(counts[k]);
      if (!Number.isFinite(n) || n <= 0) continue;

      const cardName = nameMap[k] || k;
      res.users[uname].cards[cardName] = (res.users[uname].cards[cardName] || 0) + n;
      res.users[uname].total += n;

      if (!res.cards[cardName]) res.cards[cardName] = { total: 0, users: {} };
      res.cards[cardName].total += n;
      res.cards[cardName].users[uname] = (res.cards[cardName].users[uname] || 0) + n;

      res.totalCards += n;
    }

    if (u && Array.isArray(u.active)) {
      for (const a of u.active) {
        const aName = String((a && (a.cardName || nameMap[a.cardKey] || a.cardKey)) || "").trim();
        const aText = String((a && (a.text || a.untilText)) || "").trim();
        if (!aName) continue;
        res.users[uname].active.push({ cardName: aName, text: aText, type: String((a && a.type) || "").trim() });
      }
    }
  }

  res.totalUsers = Object.keys(res.users).length;
  return res;
}

async function loadWorkerInventoryToAutoLent(options) {
  const statusEl = document.getElementById("tgLoadStatus");
  const btn = document.getElementById("loadFromTelegramBtn");
  const setStatus = (msg) => { if (statusEl) statusEl.textContent = msg; };

  const force = !!(options && options.force);
  const url = WORKER_INVENTORY_URL + (force ? "?force=1" : "");

  try {
    if (btn) btn.disabled = true;
    setStatus(force ? "–û–±–Ω–æ–≤–ª—è—é –¥–∞–Ω–Ω—ã–µ (force=1)‚Ä¶" : "–ó–∞–≥—Ä—É–∂–∞—é –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏–∑ Worker‚Ä¶");

    const r = await fetch(url, { cache: "no-store" });
    if (!r.ok) throw new Error("HTTP " + r.status);

    const data = await r.json();
    if (!data || !data.ok) throw new Error(invV1NormalizeError(data));

    window.autolentResults = buildAutolentResultsFromInvV1(data);

    if (!window.autolentResults.totalUsers) {
      throw new Error("–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç (0 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)");
    }

    setStatus("–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∑–∞–≥—Ä—É–∂–µ–Ω. –û–±–Ω–æ–≤–ª—è—é —Å–ø–∏—Å–æ–∫‚Ä¶");
    if (typeof showAutolentResults === "function") {
      showAutolentResults();
    }
    setStatus("–ì–æ—Ç–æ–≤–æ.");
  } catch (e) {
    const msg = (e && e.message) ? e.message : String(e);
    setStatus("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏: " + msg);
  } finally {
    if (btn) btn.disabled = false;
  }
}

document.addEventListener("DOMContentLoaded", () => {
  const btn = document.getElementById("loadFromTelegramBtn");
  if (btn) {
    btn.addEventListener("click", (ev) => {
      // Shift+Click: –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –≤–æ—Ä–∫–µ—Ä–∞
      loadWorkerInventoryToAutoLent({ force: !!(ev && ev.shiftKey) });
    });
  }
});
</script>
</body>
</html>
